(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))o(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const p of d.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&o(p)}).observe(document,{childList:!0,subtree:!0});function i(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function o(c){if(c.ep)return;c.ep=!0;const d=i(c);fetch(c.href,d)}})();function n0(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Fd={exports:{}},Hl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lv;function US(){if(Lv)return Hl;Lv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(o,c,d){var p=null;if(d!==void 0&&(p=""+d),c.key!==void 0&&(p=""+c.key),"key"in c){d={};for(var y in c)y!=="key"&&(d[y]=c[y])}else d=c;return c=d.ref,{$$typeof:r,type:o,key:p,ref:c!==void 0?c:null,props:d}}return Hl.Fragment=e,Hl.jsx=i,Hl.jsxs=i,Hl}var Iv;function BS(){return Iv||(Iv=1,Fd.exports=US()),Fd.exports}var D=BS(),Yd={exports:{}},_t={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dv;function HS(){if(Dv)return _t;Dv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),p=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),E=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),O=Symbol.iterator;function F(A){return A===null||typeof A!="object"?null:(A=O&&A[O]||A["@@iterator"],typeof A=="function"?A:null)}var K={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tt=Object.assign,Ot={};function zt(A,j,W){this.props=A,this.context=j,this.refs=Ot,this.updater=W||K}zt.prototype.isReactComponent={},zt.prototype.setState=function(A,j){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,j,"setState")},zt.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function te(){}te.prototype=zt.prototype;function pt(A,j,W){this.props=A,this.context=j,this.refs=Ot,this.updater=W||K}var ve=pt.prototype=new te;ve.constructor=pt,tt(ve,zt.prototype),ve.isPureReactComponent=!0;var Qe=Array.isArray;function Re(){}var Tt={H:null,A:null,T:null,S:null},Ue=Object.prototype.hasOwnProperty;function sn(A,j,W){var X=W.ref;return{$$typeof:r,type:A,key:j,ref:X!==void 0?X:null,props:W}}function wi(A,j){return sn(A.type,j,A.props)}function ee(A){return typeof A=="object"&&A!==null&&A.$$typeof===r}function Qt(A){var j={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(W){return j[W]})}var Ci=/\/+/g;function xe(A,j){return typeof A=="object"&&A!==null&&A.key!=null?Qt(""+A.key):j.toString(36)}function bn(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(Re,Re):(A.status="pending",A.then(function(j){A.status==="pending"&&(A.status="fulfilled",A.value=j)},function(j){A.status==="pending"&&(A.status="rejected",A.reason=j)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function H(A,j,W,X,it){var nt=typeof A;(nt==="undefined"||nt==="boolean")&&(A=null);var bt=!1;if(A===null)bt=!0;else switch(nt){case"bigint":case"string":case"number":bt=!0;break;case"object":switch(A.$$typeof){case r:case e:bt=!0;break;case N:return bt=A._init,H(bt(A._payload),j,W,X,it)}}if(bt)return it=it(A),bt=X===""?"."+xe(A,0):X,Qe(it)?(W="",bt!=null&&(W=bt.replace(Ci,"$&/")+"/"),H(it,j,W,"",function(xi){return xi})):it!=null&&(ee(it)&&(it=wi(it,W+(it.key==null||A&&A.key===it.key?"":(""+it.key).replace(Ci,"$&/")+"/")+bt)),j.push(it)),1;bt=0;var re=X===""?".":X+":";if(Qe(A))for(var ae=0;ae<A.length;ae++)X=A[ae],nt=re+xe(X,ae),bt+=H(X,j,W,nt,it);else if(ae=F(A),typeof ae=="function")for(A=ae.call(A),ae=0;!(X=A.next()).done;)X=X.value,nt=re+xe(X,ae++),bt+=H(X,j,W,nt,it);else if(nt==="object"){if(typeof A.then=="function")return H(bn(A),j,W,X,it);throw j=String(A),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.")}return bt}function $(A,j,W){if(A==null)return A;var X=[],it=0;return H(A,X,"","",function(nt){return j.call(W,nt,it++)}),X}function Y(A){if(A._status===-1){var j=A._result;j=j(),j.then(function(W){(A._status===0||A._status===-1)&&(A._status=1,A._result=W)},function(W){(A._status===0||A._status===-1)&&(A._status=2,A._result=W)}),A._status===-1&&(A._status=0,A._result=j)}if(A._status===1)return A._result.default;throw A._result}var Ut=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var j=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(j))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)},et={map:$,forEach:function(A,j,W){$(A,function(){j.apply(this,arguments)},W)},count:function(A){var j=0;return $(A,function(){j++}),j},toArray:function(A){return $(A,function(j){return j})||[]},only:function(A){if(!ee(A))throw Error("React.Children.only expected to receive a single React element child.");return A}};return _t.Activity=w,_t.Children=et,_t.Component=zt,_t.Fragment=i,_t.Profiler=c,_t.PureComponent=pt,_t.StrictMode=o,_t.Suspense=b,_t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Tt,_t.__COMPILER_RUNTIME={__proto__:null,c:function(A){return Tt.H.useMemoCache(A)}},_t.cache=function(A){return function(){return A.apply(null,arguments)}},_t.cacheSignal=function(){return null},_t.cloneElement=function(A,j,W){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var X=tt({},A.props),it=A.key;if(j!=null)for(nt in j.key!==void 0&&(it=""+j.key),j)!Ue.call(j,nt)||nt==="key"||nt==="__self"||nt==="__source"||nt==="ref"&&j.ref===void 0||(X[nt]=j[nt]);var nt=arguments.length-2;if(nt===1)X.children=W;else if(1<nt){for(var bt=Array(nt),re=0;re<nt;re++)bt[re]=arguments[re+2];X.children=bt}return sn(A.type,it,X)},_t.createContext=function(A){return A={$$typeof:p,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:d,_context:A},A},_t.createElement=function(A,j,W){var X,it={},nt=null;if(j!=null)for(X in j.key!==void 0&&(nt=""+j.key),j)Ue.call(j,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(it[X]=j[X]);var bt=arguments.length-2;if(bt===1)it.children=W;else if(1<bt){for(var re=Array(bt),ae=0;ae<bt;ae++)re[ae]=arguments[ae+2];it.children=re}if(A&&A.defaultProps)for(X in bt=A.defaultProps,bt)it[X]===void 0&&(it[X]=bt[X]);return sn(A,nt,it)},_t.createRef=function(){return{current:null}},_t.forwardRef=function(A){return{$$typeof:y,render:A}},_t.isValidElement=ee,_t.lazy=function(A){return{$$typeof:N,_payload:{_status:-1,_result:A},_init:Y}},_t.memo=function(A,j){return{$$typeof:E,type:A,compare:j===void 0?null:j}},_t.startTransition=function(A){var j=Tt.T,W={};Tt.T=W;try{var X=A(),it=Tt.S;it!==null&&it(W,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(Re,Ut)}catch(nt){Ut(nt)}finally{j!==null&&W.types!==null&&(j.types=W.types),Tt.T=j}},_t.unstable_useCacheRefresh=function(){return Tt.H.useCacheRefresh()},_t.use=function(A){return Tt.H.use(A)},_t.useActionState=function(A,j,W){return Tt.H.useActionState(A,j,W)},_t.useCallback=function(A,j){return Tt.H.useCallback(A,j)},_t.useContext=function(A){return Tt.H.useContext(A)},_t.useDebugValue=function(){},_t.useDeferredValue=function(A,j){return Tt.H.useDeferredValue(A,j)},_t.useEffect=function(A,j){return Tt.H.useEffect(A,j)},_t.useEffectEvent=function(A){return Tt.H.useEffectEvent(A)},_t.useId=function(){return Tt.H.useId()},_t.useImperativeHandle=function(A,j,W){return Tt.H.useImperativeHandle(A,j,W)},_t.useInsertionEffect=function(A,j){return Tt.H.useInsertionEffect(A,j)},_t.useLayoutEffect=function(A,j){return Tt.H.useLayoutEffect(A,j)},_t.useMemo=function(A,j){return Tt.H.useMemo(A,j)},_t.useOptimistic=function(A,j){return Tt.H.useOptimistic(A,j)},_t.useReducer=function(A,j,W){return Tt.H.useReducer(A,j,W)},_t.useRef=function(A){return Tt.H.useRef(A)},_t.useState=function(A){return Tt.H.useState(A)},_t.useSyncExternalStore=function(A,j,W){return Tt.H.useSyncExternalStore(A,j,W)},_t.useTransition=function(){return Tt.H.useTransition()},_t.version="19.2.0",_t}var kv;function k_(){return kv||(kv=1,Yd.exports=HS()),Yd.exports}var mt=k_();const f_=n0(mt);var Wd={exports:{}},jl={},Kd={exports:{}},Qd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pv;function jS(){return Pv||(Pv=1,(function(r){function e(H,$){var Y=H.length;H.push($);t:for(;0<Y;){var Ut=Y-1>>>1,et=H[Ut];if(0<c(et,$))H[Ut]=$,H[Y]=et,Y=Ut;else break t}}function i(H){return H.length===0?null:H[0]}function o(H){if(H.length===0)return null;var $=H[0],Y=H.pop();if(Y!==$){H[0]=Y;t:for(var Ut=0,et=H.length,A=et>>>1;Ut<A;){var j=2*(Ut+1)-1,W=H[j],X=j+1,it=H[X];if(0>c(W,Y))X<et&&0>c(it,W)?(H[Ut]=it,H[X]=Y,Ut=X):(H[Ut]=W,H[j]=Y,Ut=j);else if(X<et&&0>c(it,Y))H[Ut]=it,H[X]=Y,Ut=X;else break t}}return $}function c(H,$){var Y=H.sortIndex-$.sortIndex;return Y!==0?Y:H.id-$.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;r.unstable_now=function(){return d.now()}}else{var p=Date,y=p.now();r.unstable_now=function(){return p.now()-y}}var b=[],E=[],N=1,w=null,O=3,F=!1,K=!1,tt=!1,Ot=!1,zt=typeof setTimeout=="function"?setTimeout:null,te=typeof clearTimeout=="function"?clearTimeout:null,pt=typeof setImmediate<"u"?setImmediate:null;function ve(H){for(var $=i(E);$!==null;){if($.callback===null)o(E);else if($.startTime<=H)o(E),$.sortIndex=$.expirationTime,e(b,$);else break;$=i(E)}}function Qe(H){if(tt=!1,ve(H),!K)if(i(b)!==null)K=!0,Re||(Re=!0,Qt());else{var $=i(E);$!==null&&bn(Qe,$.startTime-H)}}var Re=!1,Tt=-1,Ue=5,sn=-1;function wi(){return Ot?!0:!(r.unstable_now()-sn<Ue)}function ee(){if(Ot=!1,Re){var H=r.unstable_now();sn=H;var $=!0;try{t:{K=!1,tt&&(tt=!1,te(Tt),Tt=-1),F=!0;var Y=O;try{e:{for(ve(H),w=i(b);w!==null&&!(w.expirationTime>H&&wi());){var Ut=w.callback;if(typeof Ut=="function"){w.callback=null,O=w.priorityLevel;var et=Ut(w.expirationTime<=H);if(H=r.unstable_now(),typeof et=="function"){w.callback=et,ve(H),$=!0;break e}w===i(b)&&o(b),ve(H)}else o(b);w=i(b)}if(w!==null)$=!0;else{var A=i(E);A!==null&&bn(Qe,A.startTime-H),$=!1}}break t}finally{w=null,O=Y,F=!1}$=void 0}}finally{$?Qt():Re=!1}}}var Qt;if(typeof pt=="function")Qt=function(){pt(ee)};else if(typeof MessageChannel<"u"){var Ci=new MessageChannel,xe=Ci.port2;Ci.port1.onmessage=ee,Qt=function(){xe.postMessage(null)}}else Qt=function(){zt(ee,0)};function bn(H,$){Tt=zt(function(){H(r.unstable_now())},$)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ue=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return O},r.unstable_next=function(H){switch(O){case 1:case 2:case 3:var $=3;break;default:$=O}var Y=O;O=$;try{return H()}finally{O=Y}},r.unstable_requestPaint=function(){Ot=!0},r.unstable_runWithPriority=function(H,$){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var Y=O;O=H;try{return $()}finally{O=Y}},r.unstable_scheduleCallback=function(H,$,Y){var Ut=r.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?Ut+Y:Ut):Y=Ut,H){case 1:var et=-1;break;case 2:et=250;break;case 5:et=1073741823;break;case 4:et=1e4;break;default:et=5e3}return et=Y+et,H={id:N++,callback:$,priorityLevel:H,startTime:Y,expirationTime:et,sortIndex:-1},Y>Ut?(H.sortIndex=Y,e(E,H),i(b)===null&&H===i(E)&&(tt?(te(Tt),Tt=-1):tt=!0,bn(Qe,Y-Ut))):(H.sortIndex=et,e(b,H),K||F||(K=!0,Re||(Re=!0,Qt()))),H},r.unstable_shouldYield=wi,r.unstable_wrapCallback=function(H){var $=O;return function(){var Y=O;O=$;try{return H.apply(this,arguments)}finally{O=Y}}}})(Qd)),Qd}var zv;function ZS(){return zv||(zv=1,Kd.exports=jS()),Kd.exports}var Xd={exports:{}},We={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uv;function qS(){if(Uv)return We;Uv=1;var r=k_();function e(b){var E="https://react.dev/errors/"+b;if(1<arguments.length){E+="?args[]="+encodeURIComponent(arguments[1]);for(var N=2;N<arguments.length;N++)E+="&args[]="+encodeURIComponent(arguments[N])}return"Minified React error #"+b+"; visit "+E+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var o={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},c=Symbol.for("react.portal");function d(b,E,N){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:w==null?null:""+w,children:b,containerInfo:E,implementation:N}}var p=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(b,E){if(b==="font")return"";if(typeof E=="string")return E==="use-credentials"?E:""}return We.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,We.createPortal=function(b,E){var N=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!E||E.nodeType!==1&&E.nodeType!==9&&E.nodeType!==11)throw Error(e(299));return d(b,E,null,N)},We.flushSync=function(b){var E=p.T,N=o.p;try{if(p.T=null,o.p=2,b)return b()}finally{p.T=E,o.p=N,o.d.f()}},We.preconnect=function(b,E){typeof b=="string"&&(E?(E=E.crossOrigin,E=typeof E=="string"?E==="use-credentials"?E:"":void 0):E=null,o.d.C(b,E))},We.prefetchDNS=function(b){typeof b=="string"&&o.d.D(b)},We.preinit=function(b,E){if(typeof b=="string"&&E&&typeof E.as=="string"){var N=E.as,w=y(N,E.crossOrigin),O=typeof E.integrity=="string"?E.integrity:void 0,F=typeof E.fetchPriority=="string"?E.fetchPriority:void 0;N==="style"?o.d.S(b,typeof E.precedence=="string"?E.precedence:void 0,{crossOrigin:w,integrity:O,fetchPriority:F}):N==="script"&&o.d.X(b,{crossOrigin:w,integrity:O,fetchPriority:F,nonce:typeof E.nonce=="string"?E.nonce:void 0})}},We.preinitModule=function(b,E){if(typeof b=="string")if(typeof E=="object"&&E!==null){if(E.as==null||E.as==="script"){var N=y(E.as,E.crossOrigin);o.d.M(b,{crossOrigin:N,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0})}}else E==null&&o.d.M(b)},We.preload=function(b,E){if(typeof b=="string"&&typeof E=="object"&&E!==null&&typeof E.as=="string"){var N=E.as,w=y(N,E.crossOrigin);o.d.L(b,N,{crossOrigin:w,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0,type:typeof E.type=="string"?E.type:void 0,fetchPriority:typeof E.fetchPriority=="string"?E.fetchPriority:void 0,referrerPolicy:typeof E.referrerPolicy=="string"?E.referrerPolicy:void 0,imageSrcSet:typeof E.imageSrcSet=="string"?E.imageSrcSet:void 0,imageSizes:typeof E.imageSizes=="string"?E.imageSizes:void 0,media:typeof E.media=="string"?E.media:void 0})}},We.preloadModule=function(b,E){if(typeof b=="string")if(E){var N=y(E.as,E.crossOrigin);o.d.m(b,{as:typeof E.as=="string"&&E.as!=="script"?E.as:void 0,crossOrigin:N,integrity:typeof E.integrity=="string"?E.integrity:void 0})}else o.d.m(b)},We.requestFormReset=function(b){o.d.r(b)},We.unstable_batchedUpdates=function(b,E){return b(E)},We.useFormState=function(b,E,N){return p.H.useFormState(b,E,N)},We.useFormStatus=function(){return p.H.useHostTransitionStatus()},We.version="19.2.0",We}var Bv;function i0(){if(Bv)return Xd.exports;Bv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Xd.exports=qS(),Xd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hv;function VS(){if(Hv)return jl;Hv=1;var r=ZS(),e=k_(),i=i0();function o(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function d(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function p(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function b(t){if(d(t)!==t)throw Error(o(188))}function E(t){var n=t.alternate;if(!n){if(n=d(t),n===null)throw Error(o(188));return n!==t?null:t}for(var a=t,u=n;;){var f=a.return;if(f===null)break;var _=f.alternate;if(_===null){if(u=f.return,u!==null){a=u;continue}break}if(f.child===_.child){for(_=f.child;_;){if(_===a)return b(f),t;if(_===u)return b(f),n;_=_.sibling}throw Error(o(188))}if(a.return!==u.return)a=f,u=_;else{for(var v=!1,T=f.child;T;){if(T===a){v=!0,a=f,u=_;break}if(T===u){v=!0,u=f,a=_;break}T=T.sibling}if(!v){for(T=_.child;T;){if(T===a){v=!0,a=_,u=f;break}if(T===u){v=!0,u=_,a=f;break}T=T.sibling}if(!v)throw Error(o(189))}}if(a.alternate!==u)throw Error(o(190))}if(a.tag!==3)throw Error(o(188));return a.stateNode.current===a?t:n}function N(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=N(t),n!==null)return n;t=t.sibling}return null}var w=Object.assign,O=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),K=Symbol.for("react.portal"),tt=Symbol.for("react.fragment"),Ot=Symbol.for("react.strict_mode"),zt=Symbol.for("react.profiler"),te=Symbol.for("react.consumer"),pt=Symbol.for("react.context"),ve=Symbol.for("react.forward_ref"),Qe=Symbol.for("react.suspense"),Re=Symbol.for("react.suspense_list"),Tt=Symbol.for("react.memo"),Ue=Symbol.for("react.lazy"),sn=Symbol.for("react.activity"),wi=Symbol.for("react.memo_cache_sentinel"),ee=Symbol.iterator;function Qt(t){return t===null||typeof t!="object"?null:(t=ee&&t[ee]||t["@@iterator"],typeof t=="function"?t:null)}var Ci=Symbol.for("react.client.reference");function xe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Ci?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case tt:return"Fragment";case zt:return"Profiler";case Ot:return"StrictMode";case Qe:return"Suspense";case Re:return"SuspenseList";case sn:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case K:return"Portal";case pt:return t.displayName||"Context";case te:return(t._context.displayName||"Context")+".Consumer";case ve:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Tt:return n=t.displayName||null,n!==null?n:xe(t.type)||"Memo";case Ue:n=t._payload,t=t._init;try{return xe(t(n))}catch{}}return null}var bn=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y={pending:!1,data:null,method:null,action:null},Ut=[],et=-1;function A(t){return{current:t}}function j(t){0>et||(t.current=Ut[et],Ut[et]=null,et--)}function W(t,n){et++,Ut[et]=t.current,t.current=n}var X=A(null),it=A(null),nt=A(null),bt=A(null);function re(t,n){switch(W(nt,n),W(it,t),W(X,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?ev(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=ev(n),t=nv(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}j(X),W(X,t)}function ae(){j(X),j(it),j(nt)}function xi(t){t.memoizedState!==null&&W(bt,t);var n=X.current,a=nv(n,t.type);n!==a&&(W(it,t),W(X,a))}function cs(t){it.current===t&&(j(X),j(it)),bt.current===t&&(j(bt),Pl._currentValue=Y)}var Ai,ga;function Ni(t){if(Ai===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Ai=n&&n[1]||"",ga=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ai+t+ga}var va=!1;function ya(t,n){if(!t||va)return"";va=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(n){var G=function(){throw Error()};if(Object.defineProperty(G.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(G,[])}catch(B){var U=B}Reflect.construct(t,[],G)}else{try{G.call()}catch(B){U=B}t.call(G.prototype)}}else{try{throw Error()}catch(B){U=B}(G=t())&&typeof G.catch=="function"&&G.catch(function(){})}}catch(B){if(B&&U&&typeof B.stack=="string")return[B.stack,U.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=u.DetermineComponentFrameRoot(),v=_[0],T=_[1];if(v&&T){var x=v.split(`
`),P=T.split(`
`);for(f=u=0;u<x.length&&!x[u].includes("DetermineComponentFrameRoot");)u++;for(;f<P.length&&!P[f].includes("DetermineComponentFrameRoot");)f++;if(u===x.length||f===P.length)for(u=x.length-1,f=P.length-1;1<=u&&0<=f&&x[u]!==P[f];)f--;for(;1<=u&&0<=f;u--,f--)if(x[u]!==P[f]){if(u!==1||f!==1)do if(u--,f--,0>f||x[u]!==P[f]){var Z=`
`+x[u].replace(" at new "," at ");return t.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",t.displayName)),Z}while(1<=u&&0<=f);break}}}finally{va=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Ni(a):""}function Do(t,n){switch(t.tag){case 26:case 27:case 5:return Ni(t.type);case 16:return Ni("Lazy");case 13:return t.child!==n&&n!==null?Ni("Suspense Fallback"):Ni("Suspense");case 19:return Ni("SuspenseList");case 0:case 15:return ya(t.type,!1);case 11:return ya(t.type.render,!1);case 1:return ya(t.type,!0);case 31:return Ni("Activity");default:return""}}function hr(t){try{var n="",a=null;do n+=Do(t,a),a=t,t=t.return;while(t);return n}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var ko=Object.prototype.hasOwnProperty,ba=r.unstable_scheduleCallback,fr=r.unstable_cancelCallback,Cu=r.unstable_shouldYield,xu=r.unstable_requestPaint,Xe=r.unstable_now,Yh=r.unstable_getCurrentPriorityLevel,Ea=r.unstable_ImmediatePriority,Po=r.unstable_UserBlockingPriority,dr=r.unstable_NormalPriority,Wh=r.unstable_LowPriority,zo=r.unstable_IdlePriority,Au=r.log,Kh=r.unstable_setDisableYieldValue,hs=null,Be=null;function qn(t){if(typeof Au=="function"&&Kh(t),Be&&typeof Be.setStrictMode=="function")try{Be.setStrictMode(hs,t)}catch{}}var Je=Math.clz32?Math.clz32:Xh,_r=Math.log,Qh=Math.LN2;function Xh(t){return t>>>=0,t===0?32:31-(_r(t)/Qh|0)|0}var mr=256,pr=262144,gr=4194304;function Oi(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Sa(t,n,a){var u=t.pendingLanes;if(u===0)return 0;var f=0,_=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var T=u&134217727;return T!==0?(u=T&~_,u!==0?f=Oi(u):(v&=T,v!==0?f=Oi(v):a||(a=T&~t,a!==0&&(f=Oi(a))))):(T=u&~_,T!==0?f=Oi(T):v!==0?f=Oi(v):a||(a=u&~t,a!==0&&(f=Oi(a)))),f===0?0:n!==0&&n!==f&&(n&_)===0&&(_=f&-f,a=n&-n,_>=a||_===32&&(a&4194048)!==0)?n:f}function vr(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Jh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Nu(){var t=gr;return gr<<=1,(gr&62914560)===0&&(gr=4194304),t}function Uo(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function Ri(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function $h(t,n,a,u,f,_){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,x=t.expirationTimes,P=t.hiddenUpdates;for(a=v&~a;0<a;){var Z=31-Je(a),G=1<<Z;T[Z]=0,x[Z]=-1;var U=P[Z];if(U!==null)for(P[Z]=null,Z=0;Z<U.length;Z++){var B=U[Z];B!==null&&(B.lane&=-536870913)}a&=~G}u!==0&&Ou(t,u,0),_!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=_&~(v&~n))}function Ou(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var u=31-Je(n);t.entangledLanes|=n,t.entanglements[u]=t.entanglements[u]|1073741824|a&261930}function Ru(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var u=31-Je(a),f=1<<u;f&n|t[u]&n&&(t[u]|=n),a&=~f}}function Mu(t,n){var a=n&-n;return a=(a&42)!==0?1:rn(a),(a&(t.suspendedLanes|n))!==0?0:a}function rn(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function at(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Bo(){var t=$.p;return t!==0?t:(t=window.event,t===void 0?32:Cv(t.type))}function Ho(t,n){var a=$.p;try{return $.p=t,n()}finally{$.p=a}}var Vn=Math.random().toString(36).slice(2),ye="__reactFiber$"+Vn,Me="__reactProps$"+Vn,Mi="__reactContainer$"+Vn,ri="__reactEvents$"+Vn,Lu="__reactListeners$"+Vn,tf="__reactHandles$"+Vn,Iu="__reactResources$"+Vn,yr="__reactMarker$"+Vn;function jo(t){delete t[ye],delete t[Me],delete t[ri],delete t[Lu],delete t[tf]}function Li(t){var n=t[ye];if(n)return n;for(var a=t.parentNode;a;){if(n=a[Mi]||a[ye]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=uv(t);t!==null;){if(a=t[ye])return a;t=uv(t)}return n}t=a,a=t.parentNode}return null}function fs(t){if(t=t[ye]||t[Mi]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function ai(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(o(33))}function ds(t){var n=t[Iu];return n||(n=t[Iu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function be(t){t[yr]=!0}var Du=new Set,ku={};function Ii(t,n){oi(t,n),oi(t+"Capture",n)}function oi(t,n){for(ku[t]=n,t=0;t<n.length;t++)Du.add(n[t])}var br=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zo={},qo={};function Er(t){return ko.call(qo,t)?!0:ko.call(Zo,t)?!1:br.test(t)?qo[t]=!0:(Zo[t]=!0,!1)}function Ct(t,n,a){if(Er(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var u=n.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function Gt(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function an(t,n,a,u){if(u===null)t.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+u)}}function Ae(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Di(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Vo(t,n,a){var u=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var f=u.get,_=u.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return f.call(this)},set:function(v){a=""+v,_.call(this,v)}}),Object.defineProperty(t,n,{enumerable:u.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function dt(t){if(!t._valueTracker){var n=Di(t)?"checked":"value";t._valueTracker=Vo(t,n,""+t[n])}}function oe(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),u="";return t&&(u=Di(t)?t.checked?"true":"false":t.value),t=u,t!==a?(n.setValue(t),!0):!1}function _s(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ta=/[\n"\\]/g;function ne(t){return t.replace(Ta,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Go(t,n,a,u,f,_,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),n!=null?v==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ae(n)):t.value!==""+Ae(n)&&(t.value=""+Ae(n)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),n!=null?Gn(t,v,Ae(n)):a!=null?Gn(t,v,Ae(a)):u!=null&&t.removeAttribute("value"),f==null&&_!=null&&(t.defaultChecked=!!_),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Ae(T):t.removeAttribute("name")}function Sr(t,n,a,u,f,_,v,T){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.type=_),n!=null||a!=null){if(!(_!=="submit"&&_!=="reset"||n!=null)){dt(t);return}a=a!=null?""+Ae(a):"",n=n!=null?""+Ae(n):a,T||n===t.value||(t.value=n),t.defaultValue=n}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,t.checked=T?t.checked:!!u,t.defaultChecked=!!u,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),dt(t)}function Gn(t,n,a){n==="number"&&_s(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Xt(t,n,a,u){if(t=t.options,n){n={};for(var f=0;f<a.length;f++)n["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=n.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&u&&(t[a].defaultSelected=!0)}else{for(a=""+Ae(a),n=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,u&&(t[f].defaultSelected=!0);return}n!==null||t[f].disabled||(n=t[f])}n!==null&&(n.selected=!0)}}function li(t,n,a){if(n!=null&&(n=""+Ae(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Ae(a):""}function ms(t,n,a,u){if(n==null){if(u!=null){if(a!=null)throw Error(o(92));if(bn(u)){if(1<u.length)throw Error(o(93));u=u[0]}a=u}a==null&&(a=""),n=a}a=Ae(n),t.defaultValue=a,u=t.textContent,u===a&&u!==""&&u!==null&&(t.value=u),dt(t)}function Rn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Fo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ps(t,n,a){var u=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?u?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":u?t.setProperty(n,a):typeof a!="number"||a===0||Fo.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function wa(t,n,a){if(n!=null&&typeof n!="object")throw Error(o(62));if(t=t.style,a!=null){for(var u in a)!a.hasOwnProperty(u)||n!=null&&n.hasOwnProperty(u)||(u.indexOf("--")===0?t.setProperty(u,""):u==="float"?t.cssFloat="":t[u]="");for(var f in n)u=n[f],n.hasOwnProperty(f)&&a[f]!==u&&ps(t,f,u)}else for(var _ in n)n.hasOwnProperty(_)&&ps(t,_,n[_])}function Tr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ca=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Yo=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function gs(t){return Yo.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function on(){}var xa=null;function wr(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var vs=null,ct=null;function En(t){var n=fs(t);if(n&&(t=n.stateNode)){var a=t[Me]||null;t:switch(t=n.stateNode,n.type){case"input":if(Go(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ne(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var u=a[n];if(u!==t&&u.form===t.form){var f=u[Me]||null;if(!f)throw Error(o(90));Go(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<a.length;n++)u=a[n],u.form===t.form&&oe(u)}break t;case"textarea":li(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&Xt(t,!!a.multiple,n,!1)}}}var jt=!1;function Wo(t,n,a){if(jt)return t(n,a);jt=!0;try{var u=t(n);return u}finally{if(jt=!1,(vs!==null||ct!==null)&&(Mc(),vs&&(n=vs,t=ct,ct=vs=null,En(n),t)))for(n=0;n<t.length;n++)En(t[n])}}function ki(t,n){var a=t.stateNode;if(a===null)return null;var u=a[Me]||null;if(u===null)return null;a=u[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(o(231,n,typeof a));return a}var Sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cr=!1;if(Sn)try{var Tn={};Object.defineProperty(Tn,"passive",{get:function(){Cr=!0}}),window.addEventListener("test",Tn,Tn),window.removeEventListener("test",Tn,Tn)}catch{Cr=!1}var Mn=null,Pi=null,he=null;function ui(){if(he)return he;var t,n=Pi,a=n.length,u,f="value"in Mn?Mn.value:Mn.textContent,_=f.length;for(t=0;t<a&&n[t]===f[t];t++);var v=a-t;for(u=1;u<=v&&n[a-u]===f[_-u];u++);return he=f.slice(t,1<u?1-u:void 0)}function xr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Ar(){return!0}function Pu(){return!1}function He(t){function n(a,u,f,_,v){this._reactName=a,this._targetInst=f,this.type=u,this.nativeEvent=_,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(_):_[T]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Ar:Pu,this.isPropagationStopped=Pu,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ar)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ar)},persist:function(){},isPersistent:Ar}),n}var Fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Aa=He(Fn),ys=w({},Fn,{view:0,detail:0}),Rt=He(ys),Ko,$e,Yn,Nr=w({},ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:el,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Yn&&(Yn&&t.type==="mousemove"?(Ko=t.screenX-Yn.screenX,$e=t.screenY-Yn.screenY):$e=Ko=0,Yn=t),Ko)},movementY:function(t){return"movementY"in t?t.movementY:$e}}),zu=He(Nr),Qo=w({},Nr,{dataTransfer:0}),ef=He(Qo),Uu=w({},ys,{relatedTarget:0}),Xo=He(Uu),nf=w({},Fn,{animationName:0,elapsedTime:0,pseudoElement:0}),Jo=He(nf),sf=w({},Fn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ln=He(sf),rf=w({},Fn,{data:0}),$o=He(rf),ci={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tl(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Hu[t])?!!n[t]:!1}function el(){return tl}var ju=w({},ys,{key:function(t){if(t.key){var n=ci[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=xr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Bu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:el,charCode:function(t){return t.type==="keypress"?xr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?xr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Zu=He(ju),af=w({},Nr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qu=He(af),nl=w({},ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:el}),of=He(nl),Vu=w({},Fn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gu=He(Vu),Na=w({},Nr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),zi=He(Na),lf=w({},Fn,{newState:0,oldState:0}),Or=He(lf),ln=[9,13,27,32],Oa=Sn&&"CompositionEvent"in window,bs=null;Sn&&"documentMode"in document&&(bs=document.documentMode);var uf=Sn&&"TextEvent"in window&&!bs,Ra=Sn&&(!Oa||bs&&8<bs&&11>=bs),Ma=" ",Fu=!1;function Yu(t,n){switch(t){case"keyup":return ln.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function il(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Es=!1;function wn(t,n){switch(t){case"compositionend":return il(n);case"keypress":return n.which!==32?null:(Fu=!0,Ma);case"textInput":return t=n.data,t===Ma&&Fu?null:t;default:return null}}function Ss(t,n){if(Es)return t==="compositionend"||!Oa&&Yu(t,n)?(t=ui(),he=Pi=Mn=null,Es=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ra&&n.locale!=="ko"?null:n.data;default:return null}}var cf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function In(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!cf[t.type]:n==="textarea"}function Wu(t,n,a,u){vs?ct?ct.push(u):ct=[u]:vs=u,n=Uc(n,"onChange"),0<n.length&&(a=new Aa("onChange","change",null,a,u),t.push({event:a,listeners:n}))}var Dn=null,Rr=null;function Mr(t){Kg(t,0)}function Lr(t){var n=ai(t);if(oe(n))return t}function Ir(t,n){if(t==="change")return n}var Ku=!1;if(Sn){var kn;if(Sn){var Ts="oninput"in document;if(!Ts){var Qu=document.createElement("div");Qu.setAttribute("oninput","return;"),Ts=typeof Qu.oninput=="function"}kn=Ts}else kn=!1;Ku=kn&&(!document.documentMode||9<document.documentMode)}function La(){Dn&&(Dn.detachEvent("onpropertychange",Xu),Rr=Dn=null)}function Xu(t){if(t.propertyName==="value"&&Lr(Rr)){var n=[];Wu(n,Rr,t,wr(t)),Wo(Mr,n)}}function Wn(t,n,a){t==="focusin"?(La(),Dn=n,Rr=a,Dn.attachEvent("onpropertychange",Xu)):t==="focusout"&&La()}function hf(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Lr(Rr)}function ws(t,n){if(t==="click")return Lr(n)}function ff(t,n){if(t==="input"||t==="change")return Lr(n)}function Kn(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Le=typeof Object.is=="function"?Object.is:Kn;function Cs(t,n){if(Le(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),u=Object.keys(n);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var f=a[u];if(!ko.call(n,f)||!Le(t[f],n[f]))return!1}return!0}function Ia(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Dr(t,n){var a=Ia(t);t=0;for(var u;a;){if(a.nodeType===3){if(u=t+a.textContent.length,t<=n&&u>=n)return{node:a,offset:n-t};t=u}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Ia(a)}}function Da(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Da(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function kr(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=_s(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=_s(t.document)}return n}function hi(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var ka=Sn&&"documentMode"in document&&11>=document.documentMode,fi=null,Pa=null,Pr=null,xs=!1;function Ju(t,n,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;xs||fi==null||fi!==_s(u)||(u=fi,"selectionStart"in u&&hi(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Pr&&Cs(Pr,u)||(Pr=u,u=Uc(Pa,"onSelect"),0<u.length&&(n=new Aa("onSelect","select",null,n,a),t.push({event:n,listeners:u}),n.target=fi)))}function di(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var As={animationend:di("Animation","AnimationEnd"),animationiteration:di("Animation","AnimationIteration"),animationstart:di("Animation","AnimationStart"),transitionrun:di("Transition","TransitionRun"),transitionstart:di("Transition","TransitionStart"),transitioncancel:di("Transition","TransitionCancel"),transitionend:di("Transition","TransitionEnd")},za={},$u={};Sn&&($u=document.createElement("div").style,"AnimationEvent"in window||(delete As.animationend.animation,delete As.animationiteration.animation,delete As.animationstart.animation),"TransitionEvent"in window||delete As.transitionend.transition);function Ie(t){if(za[t])return za[t];if(!As[t])return t;var n=As[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in $u)return za[t]=n[a];return t}var zr=Ie("animationend"),tc=Ie("animationiteration"),Ur=Ie("animationstart"),df=Ie("transitionrun"),ec=Ie("transitionstart"),_f=Ie("transitioncancel"),Ns=Ie("transitionend"),nc=new Map,_i="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");_i.push("scrollEnd");function un(t,n){nc.set(t,n),Ii(n,[t])}var Br=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},cn=[],Fe=0,Ua=0;function Hr(){for(var t=Fe,n=Ua=Fe=0;n<t;){var a=cn[n];cn[n++]=null;var u=cn[n];cn[n++]=null;var f=cn[n];cn[n++]=null;var _=cn[n];if(cn[n++]=null,u!==null&&f!==null){var v=u.pending;v===null?f.next=f:(f.next=v.next,v.next=f),u.pending=f}_!==0&&Os(a,f,_)}}function mi(t,n,a,u){cn[Fe++]=t,cn[Fe++]=n,cn[Fe++]=a,cn[Fe++]=u,Ua|=u,t.lanes|=u,t=t.alternate,t!==null&&(t.lanes|=u)}function sl(t,n,a,u){return mi(t,n,a,u),jr(t)}function Pn(t,n){return mi(t,null,null,n),jr(t)}function Os(t,n,a){t.lanes|=a;var u=t.alternate;u!==null&&(u.lanes|=a);for(var f=!1,_=t.return;_!==null;)_.childLanes|=a,u=_.alternate,u!==null&&(u.childLanes|=a),_.tag===22&&(t=_.stateNode,t===null||t._visibility&1||(f=!0)),t=_,_=_.return;return t.tag===3?(_=t.stateNode,f&&n!==null&&(f=31-Je(a),t=_.hiddenUpdates,u=t[f],u===null?t[f]=[n]:u.push(n),n.lane=a|536870912),_):null}function jr(t){if(50<Ol)throw Ol=0,pd=null,Error(o(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ui={};function mf(t,n,a,u){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ye(t,n,a,u){return new mf(t,n,a,u)}function Ba(t){return t=t.prototype,!(!t||!t.isReactComponent)}function zn(t,n){var a=t.alternate;return a===null?(a=Ye(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function rl(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Zr(t,n,a,u,f,_){var v=0;if(u=t,typeof t=="function")Ba(t)&&(v=1);else if(typeof t=="string")v=xS(t,a,X.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case sn:return t=Ye(31,a,n,f),t.elementType=sn,t.lanes=_,t;case tt:return Bi(a.children,f,_,n);case Ot:v=8,f|=24;break;case zt:return t=Ye(12,a,n,f|2),t.elementType=zt,t.lanes=_,t;case Qe:return t=Ye(13,a,n,f),t.elementType=Qe,t.lanes=_,t;case Re:return t=Ye(19,a,n,f),t.elementType=Re,t.lanes=_,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case pt:v=10;break t;case te:v=9;break t;case ve:v=11;break t;case Tt:v=14;break t;case Ue:v=16,u=null;break t}v=29,a=Error(o(130,t===null?"null":typeof t,"")),u=null}return n=Ye(v,a,n,f),n.elementType=t,n.type=u,n.lanes=_,n}function Bi(t,n,a,u){return t=Ye(7,t,u,n),t.lanes=a,t}function Ha(t,n,a){return t=Ye(6,t,null,n),t.lanes=a,t}function al(t){var n=Ye(18,null,null,0);return n.stateNode=t,n}function ol(t,n,a){return n=Ye(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var s=new WeakMap;function l(t,n){if(typeof t=="object"&&t!==null){var a=s.get(t);return a!==void 0?a:(n={value:t,source:n,stack:hr(n)},s.set(t,n),n)}return{value:t,source:n,stack:hr(n)}}var h=[],m=0,g=null,S=0,C=[],I=0,z=null,V=1,J="";function ot(t,n){h[m++]=S,h[m++]=g,g=t,S=n}function vt(t,n,a){C[I++]=V,C[I++]=J,C[I++]=z,z=t;var u=V;t=J;var f=32-Je(u)-1;u&=~(1<<f),a+=1;var _=32-Je(n)+f;if(30<_){var v=f-f%5;_=(u&(1<<v)-1).toString(32),u>>=v,f-=v,V=1<<32-Je(n)+f|a<<f|u,J=_+t}else V=1<<_|a<<f|u,J=t}function Ne(t){t.return!==null&&(ot(t,1),vt(t,1,0))}function fe(t){for(;t===g;)g=h[--m],h[m]=null,S=h[--m],h[m]=null;for(;t===z;)z=C[--I],C[I]=null,J=C[--I],C[I]=null,V=C[--I],C[I]=null}function tn(t,n){C[I++]=V,C[I++]=J,C[I++]=z,V=n.id,J=n.overflow,z=t}var It=null,Dt=null,xt=!1,pi=null,hn=!1,ja=Error(o(519));function gi(t){var n=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw qr(l(n,t)),ja}function ll(t){var n=t.stateNode,a=t.type,u=t.memoizedProps;switch(n[ye]=t,n[Me]=u,a){case"dialog":Nt("cancel",n),Nt("close",n);break;case"iframe":case"object":case"embed":Nt("load",n);break;case"video":case"audio":for(a=0;a<Ml.length;a++)Nt(Ml[a],n);break;case"source":Nt("error",n);break;case"img":case"image":case"link":Nt("error",n),Nt("load",n);break;case"details":Nt("toggle",n);break;case"input":Nt("invalid",n),Sr(n,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Nt("invalid",n);break;case"textarea":Nt("invalid",n),ms(n,u.value,u.defaultValue,u.children)}a=u.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||u.suppressHydrationWarning===!0||$g(n.textContent,a)?(u.popover!=null&&(Nt("beforetoggle",n),Nt("toggle",n)),u.onScroll!=null&&Nt("scroll",n),u.onScrollEnd!=null&&Nt("scrollend",n),u.onClick!=null&&(n.onclick=on),n=!0):n=!1,n||gi(t,!0)}function ce(t){for(It=t.return;It;)switch(It.tag){case 5:case 31:case 13:hn=!1;return;case 27:case 3:hn=!0;return;default:It=It.return}}function Qn(t){if(t!==It)return!1;if(!xt)return ce(t),xt=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Md(t.type,t.memoizedProps)),a=!a),a&&Dt&&gi(t),ce(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));Dt=lv(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));Dt=lv(t)}else n===27?(n=Dt,qs(t.type)?(t=Pd,Pd=null,Dt=t):Dt=n):Dt=It?Bn(t.stateNode.nextSibling):null;return!0}function Hi(){Dt=It=null,xt=!1}function ul(){var t=pi;return t!==null&&(mn===null?mn=t:mn.push.apply(mn,t),pi=null),t}function qr(t){pi===null?pi=[t]:pi.push(t)}var Vr=A(null),vi=null,Xn=null;function Rs(t,n,a){W(Vr,n._currentValue),n._currentValue=a}function ji(t){t._currentValue=Vr.current,j(Vr)}function pf(t,n,a){for(;t!==null;){var u=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,u!==null&&(u.childLanes|=n)):u!==null&&(u.childLanes&n)!==n&&(u.childLanes|=n),t===a)break;t=t.return}}function gf(t,n,a,u){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var _=f.dependencies;if(_!==null){var v=f.child;_=_.firstContext;t:for(;_!==null;){var T=_;_=f;for(var x=0;x<n.length;x++)if(T.context===n[x]){_.lanes|=a,T=_.alternate,T!==null&&(T.lanes|=a),pf(_.return,a,t),u||(v=null);break t}_=T.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(o(341));v.lanes|=a,_=v.alternate,_!==null&&(_.lanes|=a),pf(v,a,t),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===t){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function Za(t,n,a,u){t=null;for(var f=n,_=!1;f!==null;){if(!_){if((f.flags&524288)!==0)_=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(o(387));if(v=v.memoizedProps,v!==null){var T=f.type;Le(f.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(f===bt.current){if(v=f.alternate,v===null)throw Error(o(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Pl):t=[Pl])}f=f.return}t!==null&&gf(n,t,a,u),n.flags|=262144}function ic(t){for(t=t.firstContext;t!==null;){if(!Le(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Gr(t){vi=t,Xn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function je(t){return Um(vi,t)}function sc(t,n){return vi===null&&Gr(t),Um(t,n)}function Um(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Xn===null){if(t===null)throw Error(o(308));Xn=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Xn=Xn.next=n;return a}var SE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,u){t.push(u)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},TE=r.unstable_scheduleCallback,wE=r.unstable_NormalPriority,Ee={$$typeof:pt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vf(){return{controller:new SE,data:new Map,refCount:0}}function cl(t){t.refCount--,t.refCount===0&&TE(wE,function(){t.controller.abort()})}var hl=null,yf=0,qa=0,Va=null;function CE(t,n){if(hl===null){var a=hl=[];yf=0,qa=Sd(),Va={status:"pending",value:void 0,then:function(u){a.push(u)}}}return yf++,n.then(Bm,Bm),n}function Bm(){if(--yf===0&&hl!==null){Va!==null&&(Va.status="fulfilled");var t=hl;hl=null,qa=0,Va=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function xE(t,n){var a=[],u={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){u.status="fulfilled",u.value=n;for(var f=0;f<a.length;f++)(0,a[f])(n)},function(f){for(u.status="rejected",u.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),u}var Hm=H.S;H.S=function(t,n){Tg=Xe(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&CE(t,n),Hm!==null&&Hm(t,n)};var Fr=A(null);function bf(){var t=Fr.current;return t!==null?t:Jt.pooledCache}function rc(t,n){n===null?W(Fr,Fr.current):W(Fr,n.pool)}function jm(){var t=bf();return t===null?null:{parent:Ee._currentValue,pool:t}}var Ga=Error(o(460)),Ef=Error(o(474)),ac=Error(o(542)),oc={then:function(){}};function Zm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function qm(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(on,on),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Gm(t),t;default:if(typeof n.status=="string")n.then(on,on);else{if(t=Jt,t!==null&&100<t.shellSuspendCounter)throw Error(o(482));t=n,t.status="pending",t.then(function(u){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=u}},function(u){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=u}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Gm(t),t}throw Wr=n,Ga}}function Yr(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Wr=a,Ga):a}}var Wr=null;function Vm(){if(Wr===null)throw Error(o(459));var t=Wr;return Wr=null,t}function Gm(t){if(t===Ga||t===ac)throw Error(o(483))}var Fa=null,fl=0;function lc(t){var n=fl;return fl+=1,Fa===null&&(Fa=[]),qm(Fa,t,n)}function dl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function uc(t,n){throw n.$$typeof===O?Error(o(525)):(t=Object.prototype.toString.call(n),Error(o(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Fm(t){function n(M,R){if(t){var k=M.deletions;k===null?(M.deletions=[R],M.flags|=16):k.push(R)}}function a(M,R){if(!t)return null;for(;R!==null;)n(M,R),R=R.sibling;return null}function u(M){for(var R=new Map;M!==null;)M.key!==null?R.set(M.key,M):R.set(M.index,M),M=M.sibling;return R}function f(M,R){return M=zn(M,R),M.index=0,M.sibling=null,M}function _(M,R,k){return M.index=k,t?(k=M.alternate,k!==null?(k=k.index,k<R?(M.flags|=67108866,R):k):(M.flags|=67108866,R)):(M.flags|=1048576,R)}function v(M){return t&&M.alternate===null&&(M.flags|=67108866),M}function T(M,R,k,q){return R===null||R.tag!==6?(R=Ha(k,M.mode,q),R.return=M,R):(R=f(R,k),R.return=M,R)}function x(M,R,k,q){var lt=k.type;return lt===tt?Z(M,R,k.props.children,q,k.key):R!==null&&(R.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===Ue&&Yr(lt)===R.type)?(R=f(R,k.props),dl(R,k),R.return=M,R):(R=Zr(k.type,k.key,k.props,null,M.mode,q),dl(R,k),R.return=M,R)}function P(M,R,k,q){return R===null||R.tag!==4||R.stateNode.containerInfo!==k.containerInfo||R.stateNode.implementation!==k.implementation?(R=ol(k,M.mode,q),R.return=M,R):(R=f(R,k.children||[]),R.return=M,R)}function Z(M,R,k,q,lt){return R===null||R.tag!==7?(R=Bi(k,M.mode,q,lt),R.return=M,R):(R=f(R,k),R.return=M,R)}function G(M,R,k){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=Ha(""+R,M.mode,k),R.return=M,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case F:return k=Zr(R.type,R.key,R.props,null,M.mode,k),dl(k,R),k.return=M,k;case K:return R=ol(R,M.mode,k),R.return=M,R;case Ue:return R=Yr(R),G(M,R,k)}if(bn(R)||Qt(R))return R=Bi(R,M.mode,k,null),R.return=M,R;if(typeof R.then=="function")return G(M,lc(R),k);if(R.$$typeof===pt)return G(M,sc(M,R),k);uc(M,R)}return null}function U(M,R,k,q){var lt=R!==null?R.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return lt!==null?null:T(M,R,""+k,q);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case F:return k.key===lt?x(M,R,k,q):null;case K:return k.key===lt?P(M,R,k,q):null;case Ue:return k=Yr(k),U(M,R,k,q)}if(bn(k)||Qt(k))return lt!==null?null:Z(M,R,k,q,null);if(typeof k.then=="function")return U(M,R,lc(k),q);if(k.$$typeof===pt)return U(M,R,sc(M,k),q);uc(M,k)}return null}function B(M,R,k,q,lt){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return M=M.get(k)||null,T(R,M,""+q,lt);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case F:return M=M.get(q.key===null?k:q.key)||null,x(R,M,q,lt);case K:return M=M.get(q.key===null?k:q.key)||null,P(R,M,q,lt);case Ue:return q=Yr(q),B(M,R,k,q,lt)}if(bn(q)||Qt(q))return M=M.get(k)||null,Z(R,M,q,lt,null);if(typeof q.then=="function")return B(M,R,k,lc(q),lt);if(q.$$typeof===pt)return B(M,R,k,sc(R,q),lt);uc(R,q)}return null}function st(M,R,k,q){for(var lt=null,kt=null,rt=R,yt=R=0,Lt=null;rt!==null&&yt<k.length;yt++){rt.index>yt?(Lt=rt,rt=null):Lt=rt.sibling;var Pt=U(M,rt,k[yt],q);if(Pt===null){rt===null&&(rt=Lt);break}t&&rt&&Pt.alternate===null&&n(M,rt),R=_(Pt,R,yt),kt===null?lt=Pt:kt.sibling=Pt,kt=Pt,rt=Lt}if(yt===k.length)return a(M,rt),xt&&ot(M,yt),lt;if(rt===null){for(;yt<k.length;yt++)rt=G(M,k[yt],q),rt!==null&&(R=_(rt,R,yt),kt===null?lt=rt:kt.sibling=rt,kt=rt);return xt&&ot(M,yt),lt}for(rt=u(rt);yt<k.length;yt++)Lt=B(rt,M,yt,k[yt],q),Lt!==null&&(t&&Lt.alternate!==null&&rt.delete(Lt.key===null?yt:Lt.key),R=_(Lt,R,yt),kt===null?lt=Lt:kt.sibling=Lt,kt=Lt);return t&&rt.forEach(function(Ws){return n(M,Ws)}),xt&&ot(M,yt),lt}function ut(M,R,k,q){if(k==null)throw Error(o(151));for(var lt=null,kt=null,rt=R,yt=R=0,Lt=null,Pt=k.next();rt!==null&&!Pt.done;yt++,Pt=k.next()){rt.index>yt?(Lt=rt,rt=null):Lt=rt.sibling;var Ws=U(M,rt,Pt.value,q);if(Ws===null){rt===null&&(rt=Lt);break}t&&rt&&Ws.alternate===null&&n(M,rt),R=_(Ws,R,yt),kt===null?lt=Ws:kt.sibling=Ws,kt=Ws,rt=Lt}if(Pt.done)return a(M,rt),xt&&ot(M,yt),lt;if(rt===null){for(;!Pt.done;yt++,Pt=k.next())Pt=G(M,Pt.value,q),Pt!==null&&(R=_(Pt,R,yt),kt===null?lt=Pt:kt.sibling=Pt,kt=Pt);return xt&&ot(M,yt),lt}for(rt=u(rt);!Pt.done;yt++,Pt=k.next())Pt=B(rt,M,yt,Pt.value,q),Pt!==null&&(t&&Pt.alternate!==null&&rt.delete(Pt.key===null?yt:Pt.key),R=_(Pt,R,yt),kt===null?lt=Pt:kt.sibling=Pt,kt=Pt);return t&&rt.forEach(function(zS){return n(M,zS)}),xt&&ot(M,yt),lt}function Wt(M,R,k,q){if(typeof k=="object"&&k!==null&&k.type===tt&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case F:t:{for(var lt=k.key;R!==null;){if(R.key===lt){if(lt=k.type,lt===tt){if(R.tag===7){a(M,R.sibling),q=f(R,k.props.children),q.return=M,M=q;break t}}else if(R.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===Ue&&Yr(lt)===R.type){a(M,R.sibling),q=f(R,k.props),dl(q,k),q.return=M,M=q;break t}a(M,R);break}else n(M,R);R=R.sibling}k.type===tt?(q=Bi(k.props.children,M.mode,q,k.key),q.return=M,M=q):(q=Zr(k.type,k.key,k.props,null,M.mode,q),dl(q,k),q.return=M,M=q)}return v(M);case K:t:{for(lt=k.key;R!==null;){if(R.key===lt)if(R.tag===4&&R.stateNode.containerInfo===k.containerInfo&&R.stateNode.implementation===k.implementation){a(M,R.sibling),q=f(R,k.children||[]),q.return=M,M=q;break t}else{a(M,R);break}else n(M,R);R=R.sibling}q=ol(k,M.mode,q),q.return=M,M=q}return v(M);case Ue:return k=Yr(k),Wt(M,R,k,q)}if(bn(k))return st(M,R,k,q);if(Qt(k)){if(lt=Qt(k),typeof lt!="function")throw Error(o(150));return k=lt.call(k),ut(M,R,k,q)}if(typeof k.then=="function")return Wt(M,R,lc(k),q);if(k.$$typeof===pt)return Wt(M,R,sc(M,k),q);uc(M,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,R!==null&&R.tag===6?(a(M,R.sibling),q=f(R,k),q.return=M,M=q):(a(M,R),q=Ha(k,M.mode,q),q.return=M,M=q),v(M)):a(M,R)}return function(M,R,k,q){try{fl=0;var lt=Wt(M,R,k,q);return Fa=null,lt}catch(rt){if(rt===Ga||rt===ac)throw rt;var kt=Ye(29,rt,null,M.mode);return kt.lanes=q,kt.return=M,kt}finally{}}}var Kr=Fm(!0),Ym=Fm(!1),Ms=!1;function Sf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Tf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ls(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Is(t,n,a){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(Bt&2)!==0){var f=u.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),u.pending=n,n=jr(t),Os(t,null,a),n}return mi(t,u,n,a),jr(t)}function _l(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var u=n.lanes;u&=t.pendingLanes,a|=u,n.lanes=a,Ru(t,a)}}function wf(t,n){var a=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var f=null,_=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};_===null?f=_=v:_=_.next=v,a=a.next}while(a!==null);_===null?f=_=n:_=_.next=n}else f=_=n;a={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:_,shared:u.shared,callbacks:u.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var Cf=!1;function ml(){if(Cf){var t=Va;if(t!==null)throw t}}function pl(t,n,a,u){Cf=!1;var f=t.updateQueue;Ms=!1;var _=f.firstBaseUpdate,v=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var x=T,P=x.next;x.next=null,v===null?_=P:v.next=P,v=x;var Z=t.alternate;Z!==null&&(Z=Z.updateQueue,T=Z.lastBaseUpdate,T!==v&&(T===null?Z.firstBaseUpdate=P:T.next=P,Z.lastBaseUpdate=x))}if(_!==null){var G=f.baseState;v=0,Z=P=x=null,T=_;do{var U=T.lane&-536870913,B=U!==T.lane;if(B?(Mt&U)===U:(u&U)===U){U!==0&&U===qa&&(Cf=!0),Z!==null&&(Z=Z.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var st=t,ut=T;U=n;var Wt=a;switch(ut.tag){case 1:if(st=ut.payload,typeof st=="function"){G=st.call(Wt,G,U);break t}G=st;break t;case 3:st.flags=st.flags&-65537|128;case 0:if(st=ut.payload,U=typeof st=="function"?st.call(Wt,G,U):st,U==null)break t;G=w({},G,U);break t;case 2:Ms=!0}}U=T.callback,U!==null&&(t.flags|=64,B&&(t.flags|=8192),B=f.callbacks,B===null?f.callbacks=[U]:B.push(U))}else B={lane:U,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Z===null?(P=Z=B,x=G):Z=Z.next=B,v|=U;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;B=T,T=B.next,B.next=null,f.lastBaseUpdate=B,f.shared.pending=null}}while(!0);Z===null&&(x=G),f.baseState=x,f.firstBaseUpdate=P,f.lastBaseUpdate=Z,_===null&&(f.shared.lanes=0),Us|=v,t.lanes=v,t.memoizedState=G}}function Wm(t,n){if(typeof t!="function")throw Error(o(191,t));t.call(n)}function Km(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Wm(a[t],n)}var Ya=A(null),cc=A(0);function Qm(t,n){t=Qi,W(cc,t),W(Ya,n),Qi=t|n.baseLanes}function xf(){W(cc,Qi),W(Ya,Ya.current)}function Af(){Qi=cc.current,j(Ya),j(cc)}var Cn=A(null),Un=null;function Ds(t){var n=t.alternate;W(me,me.current&1),W(Cn,t),Un===null&&(n===null||Ya.current!==null||n.memoizedState!==null)&&(Un=t)}function Nf(t){W(me,me.current),W(Cn,t),Un===null&&(Un=t)}function Xm(t){t.tag===22?(W(me,me.current),W(Cn,t),Un===null&&(Un=t)):ks()}function ks(){W(me,me.current),W(Cn,Cn.current)}function xn(t){j(Cn),Un===t&&(Un=null),j(me)}var me=A(0);function hc(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Dd(a)||kd(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Zi=0,gt=null,Ft=null,Se=null,fc=!1,Wa=!1,Qr=!1,dc=0,gl=0,Ka=null,AE=0;function de(){throw Error(o(321))}function Of(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!Le(t[a],n[a]))return!1;return!0}function Rf(t,n,a,u,f,_){return Zi=_,gt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?Dp:Gf,Qr=!1,_=a(u,f),Qr=!1,Wa&&(_=$m(n,a,u,f)),Jm(t),_}function Jm(t){H.H=bl;var n=Ft!==null&&Ft.next!==null;if(Zi=0,Se=Ft=gt=null,fc=!1,gl=0,Ka=null,n)throw Error(o(300));t===null||Te||(t=t.dependencies,t!==null&&ic(t)&&(Te=!0))}function $m(t,n,a,u){gt=t;var f=0;do{if(Wa&&(Ka=null),gl=0,Wa=!1,25<=f)throw Error(o(301));if(f+=1,Se=Ft=null,t.updateQueue!=null){var _=t.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}H.H=kp,_=n(a,u)}while(Wa);return _}function NE(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?vl(n):n,t=t.useState()[0],(Ft!==null?Ft.memoizedState:null)!==t&&(gt.flags|=1024),n}function Mf(){var t=dc!==0;return dc=0,t}function Lf(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function If(t){if(fc){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}fc=!1}Zi=0,Se=Ft=gt=null,Wa=!1,gl=dc=0,Ka=null}function en(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?gt.memoizedState=Se=t:Se=Se.next=t,Se}function pe(){if(Ft===null){var t=gt.alternate;t=t!==null?t.memoizedState:null}else t=Ft.next;var n=Se===null?gt.memoizedState:Se.next;if(n!==null)Se=n,Ft=t;else{if(t===null)throw gt.alternate===null?Error(o(467)):Error(o(310));Ft=t,t={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},Se===null?gt.memoizedState=Se=t:Se=Se.next=t}return Se}function _c(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function vl(t){var n=gl;return gl+=1,Ka===null&&(Ka=[]),t=qm(Ka,t,n),n=gt,(Se===null?n.memoizedState:Se.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?Dp:Gf),t}function mc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return vl(t);if(t.$$typeof===pt)return je(t)}throw Error(o(438,String(t)))}function Df(t){var n=null,a=gt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var u=gt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(n={data:u.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=_c(),gt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),u=0;u<t;u++)a[u]=wi;return n.index++,a}function qi(t,n){return typeof n=="function"?n(t):n}function pc(t){var n=pe();return kf(n,Ft,t)}function kf(t,n,a){var u=t.queue;if(u===null)throw Error(o(311));u.lastRenderedReducer=a;var f=t.baseQueue,_=u.pending;if(_!==null){if(f!==null){var v=f.next;f.next=_.next,_.next=v}n.baseQueue=f=_,u.pending=null}if(_=t.baseState,f===null)t.memoizedState=_;else{n=f.next;var T=v=null,x=null,P=n,Z=!1;do{var G=P.lane&-536870913;if(G!==P.lane?(Mt&G)===G:(Zi&G)===G){var U=P.revertLane;if(U===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),G===qa&&(Z=!0);else if((Zi&U)===U){P=P.next,U===qa&&(Z=!0);continue}else G={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},x===null?(T=x=G,v=_):x=x.next=G,gt.lanes|=U,Us|=U;G=P.action,Qr&&a(_,G),_=P.hasEagerState?P.eagerState:a(_,G)}else U={lane:G,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},x===null?(T=x=U,v=_):x=x.next=U,gt.lanes|=G,Us|=G;P=P.next}while(P!==null&&P!==n);if(x===null?v=_:x.next=T,!Le(_,t.memoizedState)&&(Te=!0,Z&&(a=Va,a!==null)))throw a;t.memoizedState=_,t.baseState=v,t.baseQueue=x,u.lastRenderedState=_}return f===null&&(u.lanes=0),[t.memoizedState,u.dispatch]}function Pf(t){var n=pe(),a=n.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=t;var u=a.dispatch,f=a.pending,_=n.memoizedState;if(f!==null){a.pending=null;var v=f=f.next;do _=t(_,v.action),v=v.next;while(v!==f);Le(_,n.memoizedState)||(Te=!0),n.memoizedState=_,n.baseQueue===null&&(n.baseState=_),a.lastRenderedState=_}return[_,u]}function tp(t,n,a){var u=gt,f=pe(),_=xt;if(_){if(a===void 0)throw Error(o(407));a=a()}else a=n();var v=!Le((Ft||f).memoizedState,a);if(v&&(f.memoizedState=a,Te=!0),f=f.queue,Bf(ip.bind(null,u,f,t),[t]),f.getSnapshot!==n||v||Se!==null&&Se.memoizedState.tag&1){if(u.flags|=2048,Qa(9,{destroy:void 0},np.bind(null,u,f,a,n),null),Jt===null)throw Error(o(349));_||(Zi&127)!==0||ep(u,n,a)}return a}function ep(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=gt.updateQueue,n===null?(n=_c(),gt.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function np(t,n,a,u){n.value=a,n.getSnapshot=u,sp(n)&&rp(t)}function ip(t,n,a){return a(function(){sp(n)&&rp(t)})}function sp(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!Le(t,a)}catch{return!0}}function rp(t){var n=Pn(t,2);n!==null&&pn(n,t,2)}function zf(t){var n=en();if(typeof t=="function"){var a=t;if(t=a(),Qr){qn(!0);try{a()}finally{qn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:t},n}function ap(t,n,a,u){return t.baseState=a,kf(t,Ft,typeof u=="function"?u:qi)}function OE(t,n,a,u,f){if(yc(t))throw Error(o(485));if(t=n.action,t!==null){var _={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){_.listeners.push(v)}};H.T!==null?a(!0):_.isTransition=!1,u(_),a=n.pending,a===null?(_.next=n.pending=_,op(n,_)):(_.next=a.next,n.pending=a.next=_)}}function op(t,n){var a=n.action,u=n.payload,f=t.state;if(n.isTransition){var _=H.T,v={};H.T=v;try{var T=a(f,u),x=H.S;x!==null&&x(v,T),lp(t,n,T)}catch(P){Uf(t,n,P)}finally{_!==null&&v.types!==null&&(_.types=v.types),H.T=_}}else try{_=a(f,u),lp(t,n,_)}catch(P){Uf(t,n,P)}}function lp(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(u){up(t,n,u)},function(u){return Uf(t,n,u)}):up(t,n,a)}function up(t,n,a){n.status="fulfilled",n.value=a,cp(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,op(t,a)))}function Uf(t,n,a){var u=t.pending;if(t.pending=null,u!==null){u=u.next;do n.status="rejected",n.reason=a,cp(n),n=n.next;while(n!==u)}t.action=null}function cp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function hp(t,n){return n}function fp(t,n){if(xt){var a=Jt.formState;if(a!==null){t:{var u=gt;if(xt){if(Dt){e:{for(var f=Dt,_=hn;f.nodeType!==8;){if(!_){f=null;break e}if(f=Bn(f.nextSibling),f===null){f=null;break e}}_=f.data,f=_==="F!"||_==="F"?f:null}if(f){Dt=Bn(f.nextSibling),u=f.data==="F!";break t}}gi(u)}u=!1}u&&(n=a[0])}}return a=en(),a.memoizedState=a.baseState=n,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hp,lastRenderedState:n},a.queue=u,a=Mp.bind(null,gt,u),u.dispatch=a,u=zf(!1),_=Vf.bind(null,gt,!1,u.queue),u=en(),f={state:n,dispatch:null,action:t,pending:null},u.queue=f,a=OE.bind(null,gt,f,_,a),f.dispatch=a,u.memoizedState=t,[n,a,!1]}function dp(t){var n=pe();return _p(n,Ft,t)}function _p(t,n,a){if(n=kf(t,n,hp)[0],t=pc(qi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var u=vl(n)}catch(v){throw v===Ga?ac:v}else u=n;n=pe();var f=n.queue,_=f.dispatch;return a!==n.memoizedState&&(gt.flags|=2048,Qa(9,{destroy:void 0},RE.bind(null,f,a),null)),[u,_,t]}function RE(t,n){t.action=n}function mp(t){var n=pe(),a=Ft;if(a!==null)return _p(n,a,t);pe(),n=n.memoizedState,a=pe();var u=a.queue.dispatch;return a.memoizedState=t,[n,u,!1]}function Qa(t,n,a,u){return t={tag:t,create:a,deps:u,inst:n,next:null},n=gt.updateQueue,n===null&&(n=_c(),gt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(u=a.next,a.next=t,t.next=u,n.lastEffect=t),t}function pp(){return pe().memoizedState}function gc(t,n,a,u){var f=en();gt.flags|=t,f.memoizedState=Qa(1|n,{destroy:void 0},a,u===void 0?null:u)}function vc(t,n,a,u){var f=pe();u=u===void 0?null:u;var _=f.memoizedState.inst;Ft!==null&&u!==null&&Of(u,Ft.memoizedState.deps)?f.memoizedState=Qa(n,_,a,u):(gt.flags|=t,f.memoizedState=Qa(1|n,_,a,u))}function gp(t,n){gc(8390656,8,t,n)}function Bf(t,n){vc(2048,8,t,n)}function ME(t){gt.flags|=4;var n=gt.updateQueue;if(n===null)n=_c(),gt.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function vp(t){var n=pe().memoizedState;return ME({ref:n,nextImpl:t}),function(){if((Bt&2)!==0)throw Error(o(440));return n.impl.apply(void 0,arguments)}}function yp(t,n){return vc(4,2,t,n)}function bp(t,n){return vc(4,4,t,n)}function Ep(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Sp(t,n,a){a=a!=null?a.concat([t]):null,vc(4,4,Ep.bind(null,n,t),a)}function Hf(){}function Tp(t,n){var a=pe();n=n===void 0?null:n;var u=a.memoizedState;return n!==null&&Of(n,u[1])?u[0]:(a.memoizedState=[t,n],t)}function wp(t,n){var a=pe();n=n===void 0?null:n;var u=a.memoizedState;if(n!==null&&Of(n,u[1]))return u[0];if(u=t(),Qr){qn(!0);try{t()}finally{qn(!1)}}return a.memoizedState=[u,n],u}function jf(t,n,a){return a===void 0||(Zi&1073741824)!==0&&(Mt&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=Cg(),gt.lanes|=t,Us|=t,a)}function Cp(t,n,a,u){return Le(a,n)?a:Ya.current!==null?(t=jf(t,a,u),Le(t,n)||(Te=!0),t):(Zi&42)===0||(Zi&1073741824)!==0&&(Mt&261930)===0?(Te=!0,t.memoizedState=a):(t=Cg(),gt.lanes|=t,Us|=t,n)}function xp(t,n,a,u,f){var _=$.p;$.p=_!==0&&8>_?_:8;var v=H.T,T={};H.T=T,Vf(t,!1,n,a);try{var x=f(),P=H.S;if(P!==null&&P(T,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var Z=xE(x,u);yl(t,n,Z,On(t))}else yl(t,n,u,On(t))}catch(G){yl(t,n,{then:function(){},status:"rejected",reason:G},On())}finally{$.p=_,v!==null&&T.types!==null&&(v.types=T.types),H.T=v}}function LE(){}function Zf(t,n,a,u){if(t.tag!==5)throw Error(o(476));var f=Ap(t).queue;xp(t,f,n,Y,a===null?LE:function(){return Np(t),a(u)})}function Ap(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:Y,baseState:Y,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:Y},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Np(t){var n=Ap(t);n.next===null&&(n=t.alternate.memoizedState),yl(t,n.next.queue,{},On())}function qf(){return je(Pl)}function Op(){return pe().memoizedState}function Rp(){return pe().memoizedState}function IE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=On();t=Ls(a);var u=Is(n,t,a);u!==null&&(pn(u,n,a),_l(u,n,a)),n={cache:vf()},t.payload=n;return}n=n.return}}function DE(t,n,a){var u=On();a={lane:u,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},yc(t)?Lp(n,a):(a=sl(t,n,a,u),a!==null&&(pn(a,t,u),Ip(a,n,u)))}function Mp(t,n,a){var u=On();yl(t,n,a,u)}function yl(t,n,a,u){var f={lane:u,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(yc(t))Lp(n,f);else{var _=t.alternate;if(t.lanes===0&&(_===null||_.lanes===0)&&(_=n.lastRenderedReducer,_!==null))try{var v=n.lastRenderedState,T=_(v,a);if(f.hasEagerState=!0,f.eagerState=T,Le(T,v))return mi(t,n,f,0),Jt===null&&Hr(),!1}catch{}finally{}if(a=sl(t,n,f,u),a!==null)return pn(a,t,u),Ip(a,n,u),!0}return!1}function Vf(t,n,a,u){if(u={lane:2,revertLane:Sd(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},yc(t)){if(n)throw Error(o(479))}else n=sl(t,a,u,2),n!==null&&pn(n,t,2)}function yc(t){var n=t.alternate;return t===gt||n!==null&&n===gt}function Lp(t,n){Wa=fc=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function Ip(t,n,a){if((a&4194048)!==0){var u=n.lanes;u&=t.pendingLanes,a|=u,n.lanes=a,Ru(t,a)}}var bl={readContext:je,use:mc,useCallback:de,useContext:de,useEffect:de,useImperativeHandle:de,useLayoutEffect:de,useInsertionEffect:de,useMemo:de,useReducer:de,useRef:de,useState:de,useDebugValue:de,useDeferredValue:de,useTransition:de,useSyncExternalStore:de,useId:de,useHostTransitionStatus:de,useFormState:de,useActionState:de,useOptimistic:de,useMemoCache:de,useCacheRefresh:de};bl.useEffectEvent=de;var Dp={readContext:je,use:mc,useCallback:function(t,n){return en().memoizedState=[t,n===void 0?null:n],t},useContext:je,useEffect:gp,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,gc(4194308,4,Ep.bind(null,n,t),a)},useLayoutEffect:function(t,n){return gc(4194308,4,t,n)},useInsertionEffect:function(t,n){gc(4,2,t,n)},useMemo:function(t,n){var a=en();n=n===void 0?null:n;var u=t();if(Qr){qn(!0);try{t()}finally{qn(!1)}}return a.memoizedState=[u,n],u},useReducer:function(t,n,a){var u=en();if(a!==void 0){var f=a(n);if(Qr){qn(!0);try{a(n)}finally{qn(!1)}}}else f=n;return u.memoizedState=u.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},u.queue=t,t=t.dispatch=DE.bind(null,gt,t),[u.memoizedState,t]},useRef:function(t){var n=en();return t={current:t},n.memoizedState=t},useState:function(t){t=zf(t);var n=t.queue,a=Mp.bind(null,gt,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Hf,useDeferredValue:function(t,n){var a=en();return jf(a,t,n)},useTransition:function(){var t=zf(!1);return t=xp.bind(null,gt,t.queue,!0,!1),en().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var u=gt,f=en();if(xt){if(a===void 0)throw Error(o(407));a=a()}else{if(a=n(),Jt===null)throw Error(o(349));(Mt&127)!==0||ep(u,n,a)}f.memoizedState=a;var _={value:a,getSnapshot:n};return f.queue=_,gp(ip.bind(null,u,_,t),[t]),u.flags|=2048,Qa(9,{destroy:void 0},np.bind(null,u,_,a,n),null),a},useId:function(){var t=en(),n=Jt.identifierPrefix;if(xt){var a=J,u=V;a=(u&~(1<<32-Je(u)-1)).toString(32)+a,n="_"+n+"R_"+a,a=dc++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=AE++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:qf,useFormState:fp,useActionState:fp,useOptimistic:function(t){var n=en();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Vf.bind(null,gt,!0,a),a.dispatch=n,[t,n]},useMemoCache:Df,useCacheRefresh:function(){return en().memoizedState=IE.bind(null,gt)},useEffectEvent:function(t){var n=en(),a={impl:t};return n.memoizedState=a,function(){if((Bt&2)!==0)throw Error(o(440));return a.impl.apply(void 0,arguments)}}},Gf={readContext:je,use:mc,useCallback:Tp,useContext:je,useEffect:Bf,useImperativeHandle:Sp,useInsertionEffect:yp,useLayoutEffect:bp,useMemo:wp,useReducer:pc,useRef:pp,useState:function(){return pc(qi)},useDebugValue:Hf,useDeferredValue:function(t,n){var a=pe();return Cp(a,Ft.memoizedState,t,n)},useTransition:function(){var t=pc(qi)[0],n=pe().memoizedState;return[typeof t=="boolean"?t:vl(t),n]},useSyncExternalStore:tp,useId:Op,useHostTransitionStatus:qf,useFormState:dp,useActionState:dp,useOptimistic:function(t,n){var a=pe();return ap(a,Ft,t,n)},useMemoCache:Df,useCacheRefresh:Rp};Gf.useEffectEvent=vp;var kp={readContext:je,use:mc,useCallback:Tp,useContext:je,useEffect:Bf,useImperativeHandle:Sp,useInsertionEffect:yp,useLayoutEffect:bp,useMemo:wp,useReducer:Pf,useRef:pp,useState:function(){return Pf(qi)},useDebugValue:Hf,useDeferredValue:function(t,n){var a=pe();return Ft===null?jf(a,t,n):Cp(a,Ft.memoizedState,t,n)},useTransition:function(){var t=Pf(qi)[0],n=pe().memoizedState;return[typeof t=="boolean"?t:vl(t),n]},useSyncExternalStore:tp,useId:Op,useHostTransitionStatus:qf,useFormState:mp,useActionState:mp,useOptimistic:function(t,n){var a=pe();return Ft!==null?ap(a,Ft,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Df,useCacheRefresh:Rp};kp.useEffectEvent=vp;function Ff(t,n,a,u){n=t.memoizedState,a=a(u,n),a=a==null?n:w({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Yf={enqueueSetState:function(t,n,a){t=t._reactInternals;var u=On(),f=Ls(u);f.payload=n,a!=null&&(f.callback=a),n=Is(t,f,u),n!==null&&(pn(n,t,u),_l(n,t,u))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var u=On(),f=Ls(u);f.tag=1,f.payload=n,a!=null&&(f.callback=a),n=Is(t,f,u),n!==null&&(pn(n,t,u),_l(n,t,u))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=On(),u=Ls(a);u.tag=2,n!=null&&(u.callback=n),n=Is(t,u,a),n!==null&&(pn(n,t,a),_l(n,t,a))}};function Pp(t,n,a,u,f,_,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,_,v):n.prototype&&n.prototype.isPureReactComponent?!Cs(a,u)||!Cs(f,_):!0}function zp(t,n,a,u){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,u),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,u),n.state!==t&&Yf.enqueueReplaceState(n,n.state,null)}function Xr(t,n){var a=n;if("ref"in n){a={};for(var u in n)u!=="ref"&&(a[u]=n[u])}if(t=t.defaultProps){a===n&&(a=w({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function Up(t){Br(t)}function Bp(t){console.error(t)}function Hp(t){Br(t)}function bc(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(u){setTimeout(function(){throw u})}}function jp(t,n,a){try{var u=t.onCaughtError;u(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Wf(t,n,a){return a=Ls(a),a.tag=3,a.payload={element:null},a.callback=function(){bc(t,n)},a}function Zp(t){return t=Ls(t),t.tag=3,t}function qp(t,n,a,u){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var _=u.value;t.payload=function(){return f(_)},t.callback=function(){jp(n,a,u)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){jp(n,a,u),typeof f!="function"&&(Bs===null?Bs=new Set([this]):Bs.add(this));var T=u.stack;this.componentDidCatch(u.value,{componentStack:T!==null?T:""})})}function kE(t,n,a,u,f){if(a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(n=a.alternate,n!==null&&Za(n,a,f,!0),a=Cn.current,a!==null){switch(a.tag){case 31:case 13:return Un===null?Lc():a.alternate===null&&_e===0&&(_e=3),a.flags&=-257,a.flags|=65536,a.lanes=f,u===oc?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([u]):n.add(u),yd(t,u,f)),!1;case 22:return a.flags|=65536,u===oc?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([u])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([u]):a.add(u)),yd(t,u,f)),!1}throw Error(o(435,a.tag))}return yd(t,u,f),Lc(),!1}if(xt)return n=Cn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,u!==ja&&(t=Error(o(422),{cause:u}),qr(l(t,a)))):(u!==ja&&(n=Error(o(423),{cause:u}),qr(l(n,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,u=l(u,a),f=Wf(t.stateNode,u,f),wf(t,f),_e!==4&&(_e=2)),!1;var _=Error(o(520),{cause:u});if(_=l(_,a),Nl===null?Nl=[_]:Nl.push(_),_e!==4&&(_e=2),n===null)return!0;u=l(u,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=Wf(a.stateNode,u,t),wf(a,t),!1;case 1:if(n=a.type,_=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Bs===null||!Bs.has(_))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Zp(f),qp(f,t,a,u),wf(a,f),!1}a=a.return}while(a!==null);return!1}var Kf=Error(o(461)),Te=!1;function Ze(t,n,a,u){n.child=t===null?Ym(n,null,a,u):Kr(n,t.child,a,u)}function Vp(t,n,a,u,f){a=a.render;var _=n.ref;if("ref"in u){var v={};for(var T in u)T!=="ref"&&(v[T]=u[T])}else v=u;return Gr(n),u=Rf(t,n,a,v,_,f),T=Mf(),t!==null&&!Te?(Lf(t,n,f),Vi(t,n,f)):(xt&&T&&Ne(n),n.flags|=1,Ze(t,n,u,f),n.child)}function Gp(t,n,a,u,f){if(t===null){var _=a.type;return typeof _=="function"&&!Ba(_)&&_.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=_,Fp(t,n,_,u,f)):(t=Zr(a.type,null,u,n,n.mode,f),t.ref=n.ref,t.return=n,n.child=t)}if(_=t.child,!id(t,f)){var v=_.memoizedProps;if(a=a.compare,a=a!==null?a:Cs,a(v,u)&&t.ref===n.ref)return Vi(t,n,f)}return n.flags|=1,t=zn(_,u),t.ref=n.ref,t.return=n,n.child=t}function Fp(t,n,a,u,f){if(t!==null){var _=t.memoizedProps;if(Cs(_,u)&&t.ref===n.ref)if(Te=!1,n.pendingProps=u=_,id(t,f))(t.flags&131072)!==0&&(Te=!0);else return n.lanes=t.lanes,Vi(t,n,f)}return Qf(t,n,a,u,f)}function Yp(t,n,a,u){var f=u.children,_=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((n.flags&128)!==0){if(_=_!==null?_.baseLanes|a:a,t!==null){for(u=n.child=t.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;u=f&~_}else u=0,n.child=null;return Wp(t,n,_,a,u)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&rc(n,_!==null?_.cachePool:null),_!==null?Qm(n,_):xf(),Xm(n);else return u=n.lanes=536870912,Wp(t,n,_!==null?_.baseLanes|a:a,a,u)}else _!==null?(rc(n,_.cachePool),Qm(n,_),ks(),n.memoizedState=null):(t!==null&&rc(n,null),xf(),ks());return Ze(t,n,f,a),n.child}function El(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Wp(t,n,a,u,f){var _=bf();return _=_===null?null:{parent:Ee._currentValue,pool:_},n.memoizedState={baseLanes:a,cachePool:_},t!==null&&rc(n,null),xf(),Xm(n),t!==null&&Za(t,n,u,!0),n.childLanes=f,null}function Ec(t,n){return n=Tc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Kp(t,n,a){return Kr(n,t.child,null,a),t=Ec(n,n.pendingProps),t.flags|=2,xn(n),n.memoizedState=null,t}function PE(t,n,a){var u=n.pendingProps,f=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(xt){if(u.mode==="hidden")return t=Ec(n,u),n.lanes=536870912,El(null,t);if(Nf(n),(t=Dt)?(t=ov(t,hn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:z!==null?{id:V,overflow:J}:null,retryLane:536870912,hydrationErrors:null},a=al(t),a.return=n,n.child=a,It=n,Dt=null)):t=null,t===null)throw gi(n);return n.lanes=536870912,null}return Ec(n,u)}var _=t.memoizedState;if(_!==null){var v=_.dehydrated;if(Nf(n),f)if(n.flags&256)n.flags&=-257,n=Kp(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(o(558));else if(Te||Za(t,n,a,!1),f=(a&t.childLanes)!==0,Te||f){if(u=Jt,u!==null&&(v=Mu(u,a),v!==0&&v!==_.retryLane))throw _.retryLane=v,Pn(t,v),pn(u,t,v),Kf;Lc(),n=Kp(t,n,a)}else t=_.treeContext,Dt=Bn(v.nextSibling),It=n,xt=!0,pi=null,hn=!1,t!==null&&tn(n,t),n=Ec(n,u),n.flags|=4096;return n}return t=zn(t.child,{mode:u.mode,children:u.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Sc(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(o(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Qf(t,n,a,u,f){return Gr(n),a=Rf(t,n,a,u,void 0,f),u=Mf(),t!==null&&!Te?(Lf(t,n,f),Vi(t,n,f)):(xt&&u&&Ne(n),n.flags|=1,Ze(t,n,a,f),n.child)}function Qp(t,n,a,u,f,_){return Gr(n),n.updateQueue=null,a=$m(n,u,a,f),Jm(t),u=Mf(),t!==null&&!Te?(Lf(t,n,_),Vi(t,n,_)):(xt&&u&&Ne(n),n.flags|=1,Ze(t,n,a,_),n.child)}function Xp(t,n,a,u,f){if(Gr(n),n.stateNode===null){var _=Ui,v=a.contextType;typeof v=="object"&&v!==null&&(_=je(v)),_=new a(u,_),n.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=Yf,n.stateNode=_,_._reactInternals=n,_=n.stateNode,_.props=u,_.state=n.memoizedState,_.refs={},Sf(n),v=a.contextType,_.context=typeof v=="object"&&v!==null?je(v):Ui,_.state=n.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Ff(n,a,v,u),_.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(v=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),v!==_.state&&Yf.enqueueReplaceState(_,_.state,null),pl(n,u,_,f),ml(),_.state=n.memoizedState),typeof _.componentDidMount=="function"&&(n.flags|=4194308),u=!0}else if(t===null){_=n.stateNode;var T=n.memoizedProps,x=Xr(a,T);_.props=x;var P=_.context,Z=a.contextType;v=Ui,typeof Z=="object"&&Z!==null&&(v=je(Z));var G=a.getDerivedStateFromProps;Z=typeof G=="function"||typeof _.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,Z||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(T||P!==v)&&zp(n,_,u,v),Ms=!1;var U=n.memoizedState;_.state=U,pl(n,u,_,f),ml(),P=n.memoizedState,T||U!==P||Ms?(typeof G=="function"&&(Ff(n,a,G,u),P=n.memoizedState),(x=Ms||Pp(n,a,x,u,U,P,v))?(Z||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(n.flags|=4194308)):(typeof _.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=u,n.memoizedState=P),_.props=u,_.state=P,_.context=v,u=x):(typeof _.componentDidMount=="function"&&(n.flags|=4194308),u=!1)}else{_=n.stateNode,Tf(t,n),v=n.memoizedProps,Z=Xr(a,v),_.props=Z,G=n.pendingProps,U=_.context,P=a.contextType,x=Ui,typeof P=="object"&&P!==null&&(x=je(P)),T=a.getDerivedStateFromProps,(P=typeof T=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(v!==G||U!==x)&&zp(n,_,u,x),Ms=!1,U=n.memoizedState,_.state=U,pl(n,u,_,f),ml();var B=n.memoizedState;v!==G||U!==B||Ms||t!==null&&t.dependencies!==null&&ic(t.dependencies)?(typeof T=="function"&&(Ff(n,a,T,u),B=n.memoizedState),(Z=Ms||Pp(n,a,Z,u,U,B,x)||t!==null&&t.dependencies!==null&&ic(t.dependencies))?(P||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(u,B,x),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(u,B,x)),typeof _.componentDidUpdate=="function"&&(n.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof _.componentDidUpdate!="function"||v===t.memoizedProps&&U===t.memoizedState||(n.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&U===t.memoizedState||(n.flags|=1024),n.memoizedProps=u,n.memoizedState=B),_.props=u,_.state=B,_.context=x,u=Z):(typeof _.componentDidUpdate!="function"||v===t.memoizedProps&&U===t.memoizedState||(n.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&U===t.memoizedState||(n.flags|=1024),u=!1)}return _=u,Sc(t,n),u=(n.flags&128)!==0,_||u?(_=n.stateNode,a=u&&typeof a.getDerivedStateFromError!="function"?null:_.render(),n.flags|=1,t!==null&&u?(n.child=Kr(n,t.child,null,f),n.child=Kr(n,null,a,f)):Ze(t,n,a,f),n.memoizedState=_.state,t=n.child):t=Vi(t,n,f),t}function Jp(t,n,a,u){return Hi(),n.flags|=256,Ze(t,n,a,u),n.child}var Xf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Jf(t){return{baseLanes:t,cachePool:jm()}}function $f(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Nn),t}function $p(t,n,a){var u=n.pendingProps,f=!1,_=(n.flags&128)!==0,v;if((v=_)||(v=t!==null&&t.memoizedState===null?!1:(me.current&2)!==0),v&&(f=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,t===null){if(xt){if(f?Ds(n):ks(),(t=Dt)?(t=ov(t,hn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:z!==null?{id:V,overflow:J}:null,retryLane:536870912,hydrationErrors:null},a=al(t),a.return=n,n.child=a,It=n,Dt=null)):t=null,t===null)throw gi(n);return kd(t)?n.lanes=32:n.lanes=536870912,null}var T=u.children;return u=u.fallback,f?(ks(),f=n.mode,T=Tc({mode:"hidden",children:T},f),u=Bi(u,f,a,null),T.return=n,u.return=n,T.sibling=u,n.child=T,u=n.child,u.memoizedState=Jf(a),u.childLanes=$f(t,v,a),n.memoizedState=Xf,El(null,u)):(Ds(n),td(n,T))}var x=t.memoizedState;if(x!==null&&(T=x.dehydrated,T!==null)){if(_)n.flags&256?(Ds(n),n.flags&=-257,n=ed(t,n,a)):n.memoizedState!==null?(ks(),n.child=t.child,n.flags|=128,n=null):(ks(),T=u.fallback,f=n.mode,u=Tc({mode:"visible",children:u.children},f),T=Bi(T,f,a,null),T.flags|=2,u.return=n,T.return=n,u.sibling=T,n.child=u,Kr(n,t.child,null,a),u=n.child,u.memoizedState=Jf(a),u.childLanes=$f(t,v,a),n.memoizedState=Xf,n=El(null,u));else if(Ds(n),kd(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var P=v.dgst;v=P,u=Error(o(419)),u.stack="",u.digest=v,qr({value:u,source:null,stack:null}),n=ed(t,n,a)}else if(Te||Za(t,n,a,!1),v=(a&t.childLanes)!==0,Te||v){if(v=Jt,v!==null&&(u=Mu(v,a),u!==0&&u!==x.retryLane))throw x.retryLane=u,Pn(t,u),pn(v,t,u),Kf;Dd(T)||Lc(),n=ed(t,n,a)}else Dd(T)?(n.flags|=192,n.child=t.child,n=null):(t=x.treeContext,Dt=Bn(T.nextSibling),It=n,xt=!0,pi=null,hn=!1,t!==null&&tn(n,t),n=td(n,u.children),n.flags|=4096);return n}return f?(ks(),T=u.fallback,f=n.mode,x=t.child,P=x.sibling,u=zn(x,{mode:"hidden",children:u.children}),u.subtreeFlags=x.subtreeFlags&65011712,P!==null?T=zn(P,T):(T=Bi(T,f,a,null),T.flags|=2),T.return=n,u.return=n,u.sibling=T,n.child=u,El(null,u),u=n.child,T=t.child.memoizedState,T===null?T=Jf(a):(f=T.cachePool,f!==null?(x=Ee._currentValue,f=f.parent!==x?{parent:x,pool:x}:f):f=jm(),T={baseLanes:T.baseLanes|a,cachePool:f}),u.memoizedState=T,u.childLanes=$f(t,v,a),n.memoizedState=Xf,El(t.child,u)):(Ds(n),a=t.child,t=a.sibling,a=zn(a,{mode:"visible",children:u.children}),a.return=n,a.sibling=null,t!==null&&(v=n.deletions,v===null?(n.deletions=[t],n.flags|=16):v.push(t)),n.child=a,n.memoizedState=null,a)}function td(t,n){return n=Tc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Tc(t,n){return t=Ye(22,t,null,n),t.lanes=0,t}function ed(t,n,a){return Kr(n,t.child,null,a),t=td(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function tg(t,n,a){t.lanes|=n;var u=t.alternate;u!==null&&(u.lanes|=n),pf(t.return,n,a)}function nd(t,n,a,u,f,_){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:f,treeForkCount:_}:(v.isBackwards=n,v.rendering=null,v.renderingStartTime=0,v.last=u,v.tail=a,v.tailMode=f,v.treeForkCount=_)}function eg(t,n,a){var u=n.pendingProps,f=u.revealOrder,_=u.tail;u=u.children;var v=me.current,T=(v&2)!==0;if(T?(v=v&1|2,n.flags|=128):v&=1,W(me,v),Ze(t,n,u,a),u=xt?S:0,!T&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&tg(t,a,n);else if(t.tag===19)tg(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=n.child,f=null;a!==null;)t=a.alternate,t!==null&&hc(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=n.child,n.child=null):(f=a.sibling,a.sibling=null),nd(n,!1,f,a,_,u);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=n.child,n.child=null;f!==null;){if(t=f.alternate,t!==null&&hc(t)===null){n.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}nd(n,!0,a,null,_,u);break;case"together":nd(n,!1,null,null,void 0,u);break;default:n.memoizedState=null}return n.child}function Vi(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Us|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Za(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(o(153));if(n.child!==null){for(t=n.child,a=zn(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=zn(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function id(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&ic(t)))}function zE(t,n,a){switch(n.tag){case 3:re(n,n.stateNode.containerInfo),Rs(n,Ee,t.memoizedState.cache),Hi();break;case 27:case 5:xi(n);break;case 4:re(n,n.stateNode.containerInfo);break;case 10:Rs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Nf(n),null;break;case 13:var u=n.memoizedState;if(u!==null)return u.dehydrated!==null?(Ds(n),n.flags|=128,null):(a&n.child.childLanes)!==0?$p(t,n,a):(Ds(n),t=Vi(t,n,a),t!==null?t.sibling:null);Ds(n);break;case 19:var f=(t.flags&128)!==0;if(u=(a&n.childLanes)!==0,u||(Za(t,n,a,!1),u=(a&n.childLanes)!==0),f){if(u)return eg(t,n,a);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),W(me,me.current),u)break;return null;case 22:return n.lanes=0,Yp(t,n,a,n.pendingProps);case 24:Rs(n,Ee,t.memoizedState.cache)}return Vi(t,n,a)}function ng(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Te=!0;else{if(!id(t,a)&&(n.flags&128)===0)return Te=!1,zE(t,n,a);Te=(t.flags&131072)!==0}else Te=!1,xt&&(n.flags&1048576)!==0&&vt(n,S,n.index);switch(n.lanes=0,n.tag){case 16:t:{var u=n.pendingProps;if(t=Yr(n.elementType),n.type=t,typeof t=="function")Ba(t)?(u=Xr(t,u),n.tag=1,n=Xp(null,n,t,u,a)):(n.tag=0,n=Qf(null,n,t,u,a));else{if(t!=null){var f=t.$$typeof;if(f===ve){n.tag=11,n=Vp(null,n,t,u,a);break t}else if(f===Tt){n.tag=14,n=Gp(null,n,t,u,a);break t}}throw n=xe(t)||t,Error(o(306,n,""))}}return n;case 0:return Qf(t,n,n.type,n.pendingProps,a);case 1:return u=n.type,f=Xr(u,n.pendingProps),Xp(t,n,u,f,a);case 3:t:{if(re(n,n.stateNode.containerInfo),t===null)throw Error(o(387));u=n.pendingProps;var _=n.memoizedState;f=_.element,Tf(t,n),pl(n,u,null,a);var v=n.memoizedState;if(u=v.cache,Rs(n,Ee,u),u!==_.cache&&gf(n,[Ee],a,!0),ml(),u=v.element,_.isDehydrated)if(_={element:u,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=_,n.memoizedState=_,n.flags&256){n=Jp(t,n,u,a);break t}else if(u!==f){f=l(Error(o(424)),n),qr(f),n=Jp(t,n,u,a);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Dt=Bn(t.firstChild),It=n,xt=!0,pi=null,hn=!0,a=Ym(n,null,u,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Hi(),u===f){n=Vi(t,n,a);break t}Ze(t,n,u,a)}n=n.child}return n;case 26:return Sc(t,n),t===null?(a=dv(n.type,null,n.pendingProps,null))?n.memoizedState=a:xt||(a=n.type,t=n.pendingProps,u=Bc(nt.current).createElement(a),u[ye]=n,u[Me]=t,qe(u,a,t),be(u),n.stateNode=u):n.memoizedState=dv(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return xi(n),t===null&&xt&&(u=n.stateNode=cv(n.type,n.pendingProps,nt.current),It=n,hn=!0,f=Dt,qs(n.type)?(Pd=f,Dt=Bn(u.firstChild)):Dt=f),Ze(t,n,n.pendingProps.children,a),Sc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&xt&&((f=u=Dt)&&(u=dS(u,n.type,n.pendingProps,hn),u!==null?(n.stateNode=u,It=n,Dt=Bn(u.firstChild),hn=!1,f=!0):f=!1),f||gi(n)),xi(n),f=n.type,_=n.pendingProps,v=t!==null?t.memoizedProps:null,u=_.children,Md(f,_)?u=null:v!==null&&Md(f,v)&&(n.flags|=32),n.memoizedState!==null&&(f=Rf(t,n,NE,null,null,a),Pl._currentValue=f),Sc(t,n),Ze(t,n,u,a),n.child;case 6:return t===null&&xt&&((t=a=Dt)&&(a=_S(a,n.pendingProps,hn),a!==null?(n.stateNode=a,It=n,Dt=null,t=!0):t=!1),t||gi(n)),null;case 13:return $p(t,n,a);case 4:return re(n,n.stateNode.containerInfo),u=n.pendingProps,t===null?n.child=Kr(n,null,u,a):Ze(t,n,u,a),n.child;case 11:return Vp(t,n,n.type,n.pendingProps,a);case 7:return Ze(t,n,n.pendingProps,a),n.child;case 8:return Ze(t,n,n.pendingProps.children,a),n.child;case 12:return Ze(t,n,n.pendingProps.children,a),n.child;case 10:return u=n.pendingProps,Rs(n,n.type,u.value),Ze(t,n,u.children,a),n.child;case 9:return f=n.type._context,u=n.pendingProps.children,Gr(n),f=je(f),u=u(f),n.flags|=1,Ze(t,n,u,a),n.child;case 14:return Gp(t,n,n.type,n.pendingProps,a);case 15:return Fp(t,n,n.type,n.pendingProps,a);case 19:return eg(t,n,a);case 31:return PE(t,n,a);case 22:return Yp(t,n,a,n.pendingProps);case 24:return Gr(n),u=je(Ee),t===null?(f=bf(),f===null&&(f=Jt,_=vf(),f.pooledCache=_,_.refCount++,_!==null&&(f.pooledCacheLanes|=a),f=_),n.memoizedState={parent:u,cache:f},Sf(n),Rs(n,Ee,f)):((t.lanes&a)!==0&&(Tf(t,n),pl(n,null,null,a),ml()),f=t.memoizedState,_=n.memoizedState,f.parent!==u?(f={parent:u,cache:u},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),Rs(n,Ee,u)):(u=_.cache,Rs(n,Ee,u),u!==f.cache&&gf(n,[Ee],a,!0))),Ze(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(o(156,n.tag))}function Gi(t){t.flags|=4}function sd(t,n,a,u,f){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(Og())t.flags|=8192;else throw Wr=oc,Ef}else t.flags&=-16777217}function ig(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!vv(n))if(Og())t.flags|=8192;else throw Wr=oc,Ef}function wc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Nu():536870912,t.lanes|=n,to|=n)}function Sl(t,n){if(!xt)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function ie(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,u=0;if(n)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=u,t.childLanes=a,n}function UE(t,n,a){var u=n.pendingProps;switch(fe(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(n),null;case 1:return ie(n),null;case 3:return a=n.stateNode,u=null,t!==null&&(u=t.memoizedState.cache),n.memoizedState.cache!==u&&(n.flags|=2048),ji(Ee),ae(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Qn(n)?Gi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,ul())),ie(n),null;case 26:var f=n.type,_=n.memoizedState;return t===null?(Gi(n),_!==null?(ie(n),ig(n,_)):(ie(n),sd(n,f,null,u,a))):_?_!==t.memoizedState?(Gi(n),ie(n),ig(n,_)):(ie(n),n.flags&=-16777217):(t=t.memoizedProps,t!==u&&Gi(n),ie(n),sd(n,f,t,u,a)),null;case 27:if(cs(n),a=nt.current,f=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==u&&Gi(n);else{if(!u){if(n.stateNode===null)throw Error(o(166));return ie(n),null}t=X.current,Qn(n)?ll(n):(t=cv(f,u,a),n.stateNode=t,Gi(n))}return ie(n),null;case 5:if(cs(n),f=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==u&&Gi(n);else{if(!u){if(n.stateNode===null)throw Error(o(166));return ie(n),null}if(_=X.current,Qn(n))ll(n);else{var v=Bc(nt.current);switch(_){case 1:_=v.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:_=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":_=v.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":_=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":_=v.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof u.is=="string"?v.createElement("select",{is:u.is}):v.createElement("select"),u.multiple?_.multiple=!0:u.size&&(_.size=u.size);break;default:_=typeof u.is=="string"?v.createElement(f,{is:u.is}):v.createElement(f)}}_[ye]=n,_[Me]=u;t:for(v=n.child;v!==null;){if(v.tag===5||v.tag===6)_.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===n)break t;for(;v.sibling===null;){if(v.return===null||v.return===n)break t;v=v.return}v.sibling.return=v.return,v=v.sibling}n.stateNode=_;t:switch(qe(_,f,u),f){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break t;case"img":u=!0;break t;default:u=!1}u&&Gi(n)}}return ie(n),sd(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==u&&Gi(n);else{if(typeof u!="string"&&n.stateNode===null)throw Error(o(166));if(t=nt.current,Qn(n)){if(t=n.stateNode,a=n.memoizedProps,u=null,f=It,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}t[ye]=n,t=!!(t.nodeValue===a||u!==null&&u.suppressHydrationWarning===!0||$g(t.nodeValue,a)),t||gi(n,!0)}else t=Bc(t).createTextNode(u),t[ye]=n,n.stateNode=t}return ie(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(u=Qn(n),a!==null){if(t===null){if(!u)throw Error(o(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(557));t[ye]=n}else Hi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),t=!1}else a=ul(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(xn(n),n):(xn(n),null);if((n.flags&128)!==0)throw Error(o(558))}return ie(n),null;case 13:if(u=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Qn(n),u!==null&&u.dehydrated!==null){if(t===null){if(!f)throw Error(o(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(o(317));f[ye]=n}else Hi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),f=!1}else f=ul(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?(xn(n),n):(xn(n),null)}return xn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=u!==null,t=t!==null&&t.memoizedState!==null,a&&(u=n.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool),_=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(_=u.memoizedState.cachePool.pool),_!==f&&(u.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),wc(n,n.updateQueue),ie(n),null);case 4:return ae(),t===null&&xd(n.stateNode.containerInfo),ie(n),null;case 10:return ji(n.type),ie(n),null;case 19:if(j(me),u=n.memoizedState,u===null)return ie(n),null;if(f=(n.flags&128)!==0,_=u.rendering,_===null)if(f)Sl(u,!1);else{if(_e!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(_=hc(t),_!==null){for(n.flags|=128,Sl(u,!1),t=_.updateQueue,n.updateQueue=t,wc(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)rl(a,t),a=a.sibling;return W(me,me.current&1|2),xt&&ot(n,u.treeForkCount),n.child}t=t.sibling}u.tail!==null&&Xe()>Oc&&(n.flags|=128,f=!0,Sl(u,!1),n.lanes=4194304)}else{if(!f)if(t=hc(_),t!==null){if(n.flags|=128,f=!0,t=t.updateQueue,n.updateQueue=t,wc(n,t),Sl(u,!0),u.tail===null&&u.tailMode==="hidden"&&!_.alternate&&!xt)return ie(n),null}else 2*Xe()-u.renderingStartTime>Oc&&a!==536870912&&(n.flags|=128,f=!0,Sl(u,!1),n.lanes=4194304);u.isBackwards?(_.sibling=n.child,n.child=_):(t=u.last,t!==null?t.sibling=_:n.child=_,u.last=_)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=Xe(),t.sibling=null,a=me.current,W(me,f?a&1|2:a&1),xt&&ot(n,u.treeForkCount),t):(ie(n),null);case 22:case 23:return xn(n),Af(),u=n.memoizedState!==null,t!==null?t.memoizedState!==null!==u&&(n.flags|=8192):u&&(n.flags|=8192),u?(a&536870912)!==0&&(n.flags&128)===0&&(ie(n),n.subtreeFlags&6&&(n.flags|=8192)):ie(n),a=n.updateQueue,a!==null&&wc(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),u=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(u=n.memoizedState.cachePool.pool),u!==a&&(n.flags|=2048),t!==null&&j(Fr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),ji(Ee),ie(n),null;case 25:return null;case 30:return null}throw Error(o(156,n.tag))}function BE(t,n){switch(fe(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return ji(Ee),ae(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return cs(n),null;case 31:if(n.memoizedState!==null){if(xn(n),n.alternate===null)throw Error(o(340));Hi()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(xn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(o(340));Hi()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return j(me),null;case 4:return ae(),null;case 10:return ji(n.type),null;case 22:case 23:return xn(n),Af(),t!==null&&j(Fr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return ji(Ee),null;case 25:return null;default:return null}}function sg(t,n){switch(fe(n),n.tag){case 3:ji(Ee),ae();break;case 26:case 27:case 5:cs(n);break;case 4:ae();break;case 31:n.memoizedState!==null&&xn(n);break;case 13:xn(n);break;case 19:j(me);break;case 10:ji(n.type);break;case 22:case 23:xn(n),Af(),t!==null&&j(Fr);break;case 24:ji(Ee)}}function Tl(t,n){try{var a=n.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var f=u.next;a=f;do{if((a.tag&t)===t){u=void 0;var _=a.create,v=a.inst;u=_(),v.destroy=u}a=a.next}while(a!==f)}}catch(T){Vt(n,n.return,T)}}function Ps(t,n,a){try{var u=n.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var _=f.next;u=_;do{if((u.tag&t)===t){var v=u.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,f=n;var x=a,P=T;try{P()}catch(Z){Vt(f,x,Z)}}}u=u.next}while(u!==_)}}catch(Z){Vt(n,n.return,Z)}}function rg(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Km(n,a)}catch(u){Vt(t,t.return,u)}}}function ag(t,n,a){a.props=Xr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(u){Vt(t,n,u)}}function wl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var u=t.stateNode;break;case 30:u=t.stateNode;break;default:u=t.stateNode}typeof a=="function"?t.refCleanup=a(u):a.current=u}}catch(f){Vt(t,n,f)}}function yi(t,n){var a=t.ref,u=t.refCleanup;if(a!==null)if(typeof u=="function")try{u()}catch(f){Vt(t,n,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Vt(t,n,f)}else a.current=null}function og(t){var n=t.type,a=t.memoizedProps,u=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&u.focus();break t;case"img":a.src?u.src=a.src:a.srcSet&&(u.srcset=a.srcSet)}}catch(f){Vt(t,t.return,f)}}function rd(t,n,a){try{var u=t.stateNode;oS(u,t.type,a,n),u[Me]=n}catch(f){Vt(t,t.return,f)}}function lg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&qs(t.type)||t.tag===4}function ad(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||lg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&qs(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function od(t,n,a){var u=t.tag;if(u===5||u===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=on));else if(u!==4&&(u===27&&qs(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(od(t,n,a),t=t.sibling;t!==null;)od(t,n,a),t=t.sibling}function Cc(t,n,a){var u=t.tag;if(u===5||u===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(u!==4&&(u===27&&qs(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Cc(t,n,a),t=t.sibling;t!==null;)Cc(t,n,a),t=t.sibling}function ug(t){var n=t.stateNode,a=t.memoizedProps;try{for(var u=t.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);qe(n,u,a),n[ye]=t,n[Me]=a}catch(_){Vt(t,t.return,_)}}var Fi=!1,we=!1,ld=!1,cg=typeof WeakSet=="function"?WeakSet:Set,De=null;function HE(t,n){if(t=t.containerInfo,Od=Fc,t=kr(t),hi(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var f=u.anchorOffset,_=u.focusNode;u=u.focusOffset;try{a.nodeType,_.nodeType}catch{a=null;break t}var v=0,T=-1,x=-1,P=0,Z=0,G=t,U=null;e:for(;;){for(var B;G!==a||f!==0&&G.nodeType!==3||(T=v+f),G!==_||u!==0&&G.nodeType!==3||(x=v+u),G.nodeType===3&&(v+=G.nodeValue.length),(B=G.firstChild)!==null;)U=G,G=B;for(;;){if(G===t)break e;if(U===a&&++P===f&&(T=v),U===_&&++Z===u&&(x=v),(B=G.nextSibling)!==null)break;G=U,U=G.parentNode}G=B}a=T===-1||x===-1?null:{start:T,end:x}}else a=null}a=a||{start:0,end:0}}else a=null;for(Rd={focusedElem:t,selectionRange:a},Fc=!1,De=n;De!==null;)if(n=De,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,De=t;else for(;De!==null;){switch(n=De,_=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&_!==null){t=void 0,a=n,f=_.memoizedProps,_=_.memoizedState,u=a.stateNode;try{var st=Xr(a.type,f);t=u.getSnapshotBeforeUpdate(st,_),u.__reactInternalSnapshotBeforeUpdate=t}catch(ut){Vt(a,a.return,ut)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Id(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Id(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(o(163))}if(t=n.sibling,t!==null){t.return=n.return,De=t;break}De=n.return}}function hg(t,n,a){var u=a.flags;switch(a.tag){case 0:case 11:case 15:Wi(t,a),u&4&&Tl(5,a);break;case 1:if(Wi(t,a),u&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(v){Vt(a,a.return,v)}else{var f=Xr(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(f,n,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Vt(a,a.return,v)}}u&64&&rg(a),u&512&&wl(a,a.return);break;case 3:if(Wi(t,a),u&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Km(t,n)}catch(v){Vt(a,a.return,v)}}break;case 27:n===null&&u&4&&ug(a);case 26:case 5:Wi(t,a),n===null&&u&4&&og(a),u&512&&wl(a,a.return);break;case 12:Wi(t,a);break;case 31:Wi(t,a),u&4&&_g(t,a);break;case 13:Wi(t,a),u&4&&mg(t,a),u&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=KE.bind(null,a),mS(t,a))));break;case 22:if(u=a.memoizedState!==null||Fi,!u){n=n!==null&&n.memoizedState!==null||we,f=Fi;var _=we;Fi=u,(we=n)&&!_?Ki(t,a,(a.subtreeFlags&8772)!==0):Wi(t,a),Fi=f,we=_}break;case 30:break;default:Wi(t,a)}}function fg(t){var n=t.alternate;n!==null&&(t.alternate=null,fg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&jo(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var le=null,fn=!1;function Yi(t,n,a){for(a=a.child;a!==null;)dg(t,n,a),a=a.sibling}function dg(t,n,a){if(Be&&typeof Be.onCommitFiberUnmount=="function")try{Be.onCommitFiberUnmount(hs,a)}catch{}switch(a.tag){case 26:we||yi(a,n),Yi(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:we||yi(a,n);var u=le,f=fn;qs(a.type)&&(le=a.stateNode,fn=!1),Yi(t,n,a),Il(a.stateNode),le=u,fn=f;break;case 5:we||yi(a,n);case 6:if(u=le,f=fn,le=null,Yi(t,n,a),le=u,fn=f,le!==null)if(fn)try{(le.nodeType===9?le.body:le.nodeName==="HTML"?le.ownerDocument.body:le).removeChild(a.stateNode)}catch(_){Vt(a,n,_)}else try{le.removeChild(a.stateNode)}catch(_){Vt(a,n,_)}break;case 18:le!==null&&(fn?(t=le,rv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),lo(t)):rv(le,a.stateNode));break;case 4:u=le,f=fn,le=a.stateNode.containerInfo,fn=!0,Yi(t,n,a),le=u,fn=f;break;case 0:case 11:case 14:case 15:Ps(2,a,n),we||Ps(4,a,n),Yi(t,n,a);break;case 1:we||(yi(a,n),u=a.stateNode,typeof u.componentWillUnmount=="function"&&ag(a,n,u)),Yi(t,n,a);break;case 21:Yi(t,n,a);break;case 22:we=(u=we)||a.memoizedState!==null,Yi(t,n,a),we=u;break;default:Yi(t,n,a)}}function _g(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{lo(t)}catch(a){Vt(n,n.return,a)}}}function mg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{lo(t)}catch(a){Vt(n,n.return,a)}}function jE(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new cg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new cg),n;default:throw Error(o(435,t.tag))}}function xc(t,n){var a=jE(t);n.forEach(function(u){if(!a.has(u)){a.add(u);var f=QE.bind(null,t,u);u.then(f,f)}})}function dn(t,n){var a=n.deletions;if(a!==null)for(var u=0;u<a.length;u++){var f=a[u],_=t,v=n,T=v;t:for(;T!==null;){switch(T.tag){case 27:if(qs(T.type)){le=T.stateNode,fn=!1;break t}break;case 5:le=T.stateNode,fn=!1;break t;case 3:case 4:le=T.stateNode.containerInfo,fn=!0;break t}T=T.return}if(le===null)throw Error(o(160));dg(_,v,f),le=null,fn=!1,_=f.alternate,_!==null&&(_.return=null),f.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)pg(n,t),n=n.sibling}var Jn=null;function pg(t,n){var a=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:dn(n,t),_n(t),u&4&&(Ps(3,t,t.return),Tl(3,t),Ps(5,t,t.return));break;case 1:dn(n,t),_n(t),u&512&&(we||a===null||yi(a,a.return)),u&64&&Fi&&(t=t.updateQueue,t!==null&&(u=t.callbacks,u!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?u:a.concat(u))));break;case 26:var f=Jn;if(dn(n,t),_n(t),u&512&&(we||a===null||yi(a,a.return)),u&4){var _=a!==null?a.memoizedState:null;if(u=t.memoizedState,a===null)if(u===null)if(t.stateNode===null){t:{u=t.type,a=t.memoizedProps,f=f.ownerDocument||f;e:switch(u){case"title":_=f.getElementsByTagName("title")[0],(!_||_[yr]||_[ye]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=f.createElement(u),f.head.insertBefore(_,f.querySelector("head > title"))),qe(_,u,a),_[ye]=t,be(_),u=_;break t;case"link":var v=pv("link","href",f).get(u+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(_=v[T],_.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&_.getAttribute("rel")===(a.rel==null?null:a.rel)&&_.getAttribute("title")===(a.title==null?null:a.title)&&_.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break e}}_=f.createElement(u),qe(_,u,a),f.head.appendChild(_);break;case"meta":if(v=pv("meta","content",f).get(u+(a.content||""))){for(T=0;T<v.length;T++)if(_=v[T],_.getAttribute("content")===(a.content==null?null:""+a.content)&&_.getAttribute("name")===(a.name==null?null:a.name)&&_.getAttribute("property")===(a.property==null?null:a.property)&&_.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&_.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break e}}_=f.createElement(u),qe(_,u,a),f.head.appendChild(_);break;default:throw Error(o(468,u))}_[ye]=t,be(_),u=_}t.stateNode=u}else gv(f,t.type,t.stateNode);else t.stateNode=mv(f,u,t.memoizedProps);else _!==u?(_===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):_.count--,u===null?gv(f,t.type,t.stateNode):mv(f,u,t.memoizedProps)):u===null&&t.stateNode!==null&&rd(t,t.memoizedProps,a.memoizedProps)}break;case 27:dn(n,t),_n(t),u&512&&(we||a===null||yi(a,a.return)),a!==null&&u&4&&rd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(dn(n,t),_n(t),u&512&&(we||a===null||yi(a,a.return)),t.flags&32){f=t.stateNode;try{Rn(f,"")}catch(st){Vt(t,t.return,st)}}u&4&&t.stateNode!=null&&(f=t.memoizedProps,rd(t,f,a!==null?a.memoizedProps:f)),u&1024&&(ld=!0);break;case 6:if(dn(n,t),_n(t),u&4){if(t.stateNode===null)throw Error(o(162));u=t.memoizedProps,a=t.stateNode;try{a.nodeValue=u}catch(st){Vt(t,t.return,st)}}break;case 3:if(Zc=null,f=Jn,Jn=Hc(n.containerInfo),dn(n,t),Jn=f,_n(t),u&4&&a!==null&&a.memoizedState.isDehydrated)try{lo(n.containerInfo)}catch(st){Vt(t,t.return,st)}ld&&(ld=!1,gg(t));break;case 4:u=Jn,Jn=Hc(t.stateNode.containerInfo),dn(n,t),_n(t),Jn=u;break;case 12:dn(n,t),_n(t);break;case 31:dn(n,t),_n(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,xc(t,u)));break;case 13:dn(n,t),_n(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Nc=Xe()),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,xc(t,u)));break;case 22:f=t.memoizedState!==null;var x=a!==null&&a.memoizedState!==null,P=Fi,Z=we;if(Fi=P||f,we=Z||x,dn(n,t),we=Z,Fi=P,_n(t),u&8192)t:for(n=t.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(a===null||x||Fi||we||Jr(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){x=a=n;try{if(_=x.stateNode,f)v=_.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=x.stateNode;var G=x.memoizedProps.style,U=G!=null&&G.hasOwnProperty("display")?G.display:null;T.style.display=U==null||typeof U=="boolean"?"":(""+U).trim()}}catch(st){Vt(x,x.return,st)}}}else if(n.tag===6){if(a===null){x=n;try{x.stateNode.nodeValue=f?"":x.memoizedProps}catch(st){Vt(x,x.return,st)}}}else if(n.tag===18){if(a===null){x=n;try{var B=x.stateNode;f?av(B,!0):av(x.stateNode,!1)}catch(st){Vt(x,x.return,st)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}u&4&&(u=t.updateQueue,u!==null&&(a=u.retryQueue,a!==null&&(u.retryQueue=null,xc(t,a))));break;case 19:dn(n,t),_n(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,xc(t,u)));break;case 30:break;case 21:break;default:dn(n,t),_n(t)}}function _n(t){var n=t.flags;if(n&2){try{for(var a,u=t.return;u!==null;){if(lg(u)){a=u;break}u=u.return}if(a==null)throw Error(o(160));switch(a.tag){case 27:var f=a.stateNode,_=ad(t);Cc(t,_,f);break;case 5:var v=a.stateNode;a.flags&32&&(Rn(v,""),a.flags&=-33);var T=ad(t);Cc(t,T,v);break;case 3:case 4:var x=a.stateNode.containerInfo,P=ad(t);od(t,P,x);break;default:throw Error(o(161))}}catch(Z){Vt(t,t.return,Z)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function gg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;gg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Wi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)hg(t,n.alternate,n),n=n.sibling}function Jr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ps(4,n,n.return),Jr(n);break;case 1:yi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&ag(n,n.return,a),Jr(n);break;case 27:Il(n.stateNode);case 26:case 5:yi(n,n.return),Jr(n);break;case 22:n.memoizedState===null&&Jr(n);break;case 30:Jr(n);break;default:Jr(n)}t=t.sibling}}function Ki(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var u=n.alternate,f=t,_=n,v=_.flags;switch(_.tag){case 0:case 11:case 15:Ki(f,_,a),Tl(4,_);break;case 1:if(Ki(f,_,a),u=_,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(P){Vt(u,u.return,P)}if(u=_,f=u.updateQueue,f!==null){var T=u.stateNode;try{var x=f.shared.hiddenCallbacks;if(x!==null)for(f.shared.hiddenCallbacks=null,f=0;f<x.length;f++)Wm(x[f],T)}catch(P){Vt(u,u.return,P)}}a&&v&64&&rg(_),wl(_,_.return);break;case 27:ug(_);case 26:case 5:Ki(f,_,a),a&&u===null&&v&4&&og(_),wl(_,_.return);break;case 12:Ki(f,_,a);break;case 31:Ki(f,_,a),a&&v&4&&_g(f,_);break;case 13:Ki(f,_,a),a&&v&4&&mg(f,_);break;case 22:_.memoizedState===null&&Ki(f,_,a),wl(_,_.return);break;case 30:break;default:Ki(f,_,a)}n=n.sibling}}function ud(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&cl(a))}function cd(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&cl(t))}function $n(t,n,a,u){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)vg(t,n,a,u),n=n.sibling}function vg(t,n,a,u){var f=n.flags;switch(n.tag){case 0:case 11:case 15:$n(t,n,a,u),f&2048&&Tl(9,n);break;case 1:$n(t,n,a,u);break;case 3:$n(t,n,a,u),f&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&cl(t)));break;case 12:if(f&2048){$n(t,n,a,u),t=n.stateNode;try{var _=n.memoizedProps,v=_.id,T=_.onPostCommit;typeof T=="function"&&T(v,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(x){Vt(n,n.return,x)}}else $n(t,n,a,u);break;case 31:$n(t,n,a,u);break;case 13:$n(t,n,a,u);break;case 23:break;case 22:_=n.stateNode,v=n.alternate,n.memoizedState!==null?_._visibility&2?$n(t,n,a,u):Cl(t,n):_._visibility&2?$n(t,n,a,u):(_._visibility|=2,Xa(t,n,a,u,(n.subtreeFlags&10256)!==0||!1)),f&2048&&ud(v,n);break;case 24:$n(t,n,a,u),f&2048&&cd(n.alternate,n);break;default:$n(t,n,a,u)}}function Xa(t,n,a,u,f){for(f=f&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var _=t,v=n,T=a,x=u,P=v.flags;switch(v.tag){case 0:case 11:case 15:Xa(_,v,T,x,f),Tl(8,v);break;case 23:break;case 22:var Z=v.stateNode;v.memoizedState!==null?Z._visibility&2?Xa(_,v,T,x,f):Cl(_,v):(Z._visibility|=2,Xa(_,v,T,x,f)),f&&P&2048&&ud(v.alternate,v);break;case 24:Xa(_,v,T,x,f),f&&P&2048&&cd(v.alternate,v);break;default:Xa(_,v,T,x,f)}n=n.sibling}}function Cl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,u=n,f=u.flags;switch(u.tag){case 22:Cl(a,u),f&2048&&ud(u.alternate,u);break;case 24:Cl(a,u),f&2048&&cd(u.alternate,u);break;default:Cl(a,u)}n=n.sibling}}var xl=8192;function Ja(t,n,a){if(t.subtreeFlags&xl)for(t=t.child;t!==null;)yg(t,n,a),t=t.sibling}function yg(t,n,a){switch(t.tag){case 26:Ja(t,n,a),t.flags&xl&&t.memoizedState!==null&&AS(a,Jn,t.memoizedState,t.memoizedProps);break;case 5:Ja(t,n,a);break;case 3:case 4:var u=Jn;Jn=Hc(t.stateNode.containerInfo),Ja(t,n,a),Jn=u;break;case 22:t.memoizedState===null&&(u=t.alternate,u!==null&&u.memoizedState!==null?(u=xl,xl=16777216,Ja(t,n,a),xl=u):Ja(t,n,a));break;default:Ja(t,n,a)}}function bg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Al(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var u=n[a];De=u,Sg(u,t)}bg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Eg(t),t=t.sibling}function Eg(t){switch(t.tag){case 0:case 11:case 15:Al(t),t.flags&2048&&Ps(9,t,t.return);break;case 3:Al(t);break;case 12:Al(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Ac(t)):Al(t);break;default:Al(t)}}function Ac(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var u=n[a];De=u,Sg(u,t)}bg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ps(8,n,n.return),Ac(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Ac(n));break;default:Ac(n)}t=t.sibling}}function Sg(t,n){for(;De!==null;){var a=De;switch(a.tag){case 0:case 11:case 15:Ps(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var u=a.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:cl(a.memoizedState.cache)}if(u=a.child,u!==null)u.return=a,De=u;else t:for(a=t;De!==null;){u=De;var f=u.sibling,_=u.return;if(fg(u),u===a){De=null;break t}if(f!==null){f.return=_,De=f;break t}De=_}}}var ZE={getCacheForType:function(t){var n=je(Ee),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return je(Ee).controller.signal}},qE=typeof WeakMap=="function"?WeakMap:Map,Bt=0,Jt=null,At=null,Mt=0,qt=0,An=null,zs=!1,$a=!1,hd=!1,Qi=0,_e=0,Us=0,$r=0,fd=0,Nn=0,to=0,Nl=null,mn=null,dd=!1,Nc=0,Tg=0,Oc=1/0,Rc=null,Bs=null,Oe=0,Hs=null,eo=null,Xi=0,_d=0,md=null,wg=null,Ol=0,pd=null;function On(){return(Bt&2)!==0&&Mt!==0?Mt&-Mt:H.T!==null?Sd():Bo()}function Cg(){if(Nn===0)if((Mt&536870912)===0||xt){var t=pr;pr<<=1,(pr&3932160)===0&&(pr=262144),Nn=t}else Nn=536870912;return t=Cn.current,t!==null&&(t.flags|=32),Nn}function pn(t,n,a){(t===Jt&&(qt===2||qt===9)||t.cancelPendingCommit!==null)&&(no(t,0),js(t,Mt,Nn,!1)),Ri(t,a),((Bt&2)===0||t!==Jt)&&(t===Jt&&((Bt&2)===0&&($r|=a),_e===4&&js(t,Mt,Nn,!1)),bi(t))}function xg(t,n,a){if((Bt&6)!==0)throw Error(o(327));var u=!a&&(n&127)===0&&(n&t.expiredLanes)===0||vr(t,n),f=u?FE(t,n):vd(t,n,!0),_=u;do{if(f===0){$a&&!u&&js(t,n,0,!1);break}else{if(a=t.current.alternate,_&&!VE(a)){f=vd(t,n,!1),_=!1;continue}if(f===2){if(_=n,t.errorRecoveryDisabledLanes&_)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;t:{var T=t;f=Nl;var x=T.current.memoizedState.isDehydrated;if(x&&(no(T,v).flags|=256),v=vd(T,v,!1),v!==2){if(hd&&!x){T.errorRecoveryDisabledLanes|=_,$r|=_,f=4;break t}_=mn,mn=f,_!==null&&(mn===null?mn=_:mn.push.apply(mn,_))}f=v}if(_=!1,f!==2)continue}}if(f===1){no(t,0),js(t,n,0,!0);break}t:{switch(u=t,_=f,_){case 0:case 1:throw Error(o(345));case 4:if((n&4194048)!==n)break;case 6:js(u,n,Nn,!zs);break t;case 2:mn=null;break;case 3:case 5:break;default:throw Error(o(329))}if((n&62914560)===n&&(f=Nc+300-Xe(),10<f)){if(js(u,n,Nn,!zs),Sa(u,0,!0)!==0)break t;Xi=n,u.timeoutHandle=iv(Ag.bind(null,u,a,mn,Rc,dd,n,Nn,$r,to,zs,_,"Throttled",-0,0),f);break t}Ag(u,a,mn,Rc,dd,n,Nn,$r,to,zs,_,null,-0,0)}}break}while(!0);bi(t)}function Ag(t,n,a,u,f,_,v,T,x,P,Z,G,U,B){if(t.timeoutHandle=-1,G=n.subtreeFlags,G&8192||(G&16785408)===16785408){G={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:on},yg(n,_,G);var st=(_&62914560)===_?Nc-Xe():(_&4194048)===_?Tg-Xe():0;if(st=NS(G,st),st!==null){Xi=_,t.cancelPendingCommit=st(kg.bind(null,t,n,_,a,u,f,v,T,x,Z,G,null,U,B)),js(t,_,v,!P);return}}kg(t,n,_,a,u,f,v,T,x)}function VE(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var u=0;u<a.length;u++){var f=a[u],_=f.getSnapshot;f=f.value;try{if(!Le(_(),f))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function js(t,n,a,u){n&=~fd,n&=~$r,t.suspendedLanes|=n,t.pingedLanes&=~n,u&&(t.warmLanes|=n),u=t.expirationTimes;for(var f=n;0<f;){var _=31-Je(f),v=1<<_;u[_]=-1,f&=~v}a!==0&&Ou(t,a,n)}function Mc(){return(Bt&6)===0?(Rl(0),!1):!0}function gd(){if(At!==null){if(qt===0)var t=At.return;else t=At,Xn=vi=null,If(t),Fa=null,fl=0,t=At;for(;t!==null;)sg(t.alternate,t),t=t.return;At=null}}function no(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,cS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Xi=0,gd(),Jt=t,At=a=zn(t.current,null),Mt=n,qt=0,An=null,zs=!1,$a=vr(t,n),hd=!1,to=Nn=fd=$r=Us=_e=0,mn=Nl=null,dd=!1,(n&8)!==0&&(n|=n&32);var u=t.entangledLanes;if(u!==0)for(t=t.entanglements,u&=n;0<u;){var f=31-Je(u),_=1<<f;n|=t[f],u&=~_}return Qi=n,Hr(),a}function Ng(t,n){gt=null,H.H=bl,n===Ga||n===ac?(n=Vm(),qt=3):n===Ef?(n=Vm(),qt=4):qt=n===Kf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,An=n,At===null&&(_e=1,bc(t,l(n,t.current)))}function Og(){var t=Cn.current;return t===null?!0:(Mt&4194048)===Mt?Un===null:(Mt&62914560)===Mt||(Mt&536870912)!==0?t===Un:!1}function Rg(){var t=H.H;return H.H=bl,t===null?bl:t}function Mg(){var t=H.A;return H.A=ZE,t}function Lc(){_e=4,zs||(Mt&4194048)!==Mt&&Cn.current!==null||($a=!0),(Us&134217727)===0&&($r&134217727)===0||Jt===null||js(Jt,Mt,Nn,!1)}function vd(t,n,a){var u=Bt;Bt|=2;var f=Rg(),_=Mg();(Jt!==t||Mt!==n)&&(Rc=null,no(t,n)),n=!1;var v=_e;t:do try{if(qt!==0&&At!==null){var T=At,x=An;switch(qt){case 8:gd(),v=6;break t;case 3:case 2:case 9:case 6:Cn.current===null&&(n=!0);var P=qt;if(qt=0,An=null,io(t,T,x,P),a&&$a){v=0;break t}break;default:P=qt,qt=0,An=null,io(t,T,x,P)}}GE(),v=_e;break}catch(Z){Ng(t,Z)}while(!0);return n&&t.shellSuspendCounter++,Xn=vi=null,Bt=u,H.H=f,H.A=_,At===null&&(Jt=null,Mt=0,Hr()),v}function GE(){for(;At!==null;)Lg(At)}function FE(t,n){var a=Bt;Bt|=2;var u=Rg(),f=Mg();Jt!==t||Mt!==n?(Rc=null,Oc=Xe()+500,no(t,n)):$a=vr(t,n);t:do try{if(qt!==0&&At!==null){n=At;var _=An;e:switch(qt){case 1:qt=0,An=null,io(t,n,_,1);break;case 2:case 9:if(Zm(_)){qt=0,An=null,Ig(n);break}n=function(){qt!==2&&qt!==9||Jt!==t||(qt=7),bi(t)},_.then(n,n);break t;case 3:qt=7;break t;case 4:qt=5;break t;case 7:Zm(_)?(qt=0,An=null,Ig(n)):(qt=0,An=null,io(t,n,_,7));break;case 5:var v=null;switch(At.tag){case 26:v=At.memoizedState;case 5:case 27:var T=At;if(v?vv(v):T.stateNode.complete){qt=0,An=null;var x=T.sibling;if(x!==null)At=x;else{var P=T.return;P!==null?(At=P,Ic(P)):At=null}break e}}qt=0,An=null,io(t,n,_,5);break;case 6:qt=0,An=null,io(t,n,_,6);break;case 8:gd(),_e=6;break t;default:throw Error(o(462))}}YE();break}catch(Z){Ng(t,Z)}while(!0);return Xn=vi=null,H.H=u,H.A=f,Bt=a,At!==null?0:(Jt=null,Mt=0,Hr(),_e)}function YE(){for(;At!==null&&!Cu();)Lg(At)}function Lg(t){var n=ng(t.alternate,t,Qi);t.memoizedProps=t.pendingProps,n===null?Ic(t):At=n}function Ig(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Qp(a,n,n.pendingProps,n.type,void 0,Mt);break;case 11:n=Qp(a,n,n.pendingProps,n.type.render,n.ref,Mt);break;case 5:If(n);default:sg(a,n),n=At=rl(n,Qi),n=ng(a,n,Qi)}t.memoizedProps=t.pendingProps,n===null?Ic(t):At=n}function io(t,n,a,u){Xn=vi=null,If(n),Fa=null,fl=0;var f=n.return;try{if(kE(t,f,n,a,Mt)){_e=1,bc(t,l(a,t.current)),At=null;return}}catch(_){if(f!==null)throw At=f,_;_e=1,bc(t,l(a,t.current)),At=null;return}n.flags&32768?(xt||u===1?t=!0:$a||(Mt&536870912)!==0?t=!1:(zs=t=!0,(u===2||u===9||u===3||u===6)&&(u=Cn.current,u!==null&&u.tag===13&&(u.flags|=16384))),Dg(n,t)):Ic(n)}function Ic(t){var n=t;do{if((n.flags&32768)!==0){Dg(n,zs);return}t=n.return;var a=UE(n.alternate,n,Qi);if(a!==null){At=a;return}if(n=n.sibling,n!==null){At=n;return}At=n=t}while(n!==null);_e===0&&(_e=5)}function Dg(t,n){do{var a=BE(t.alternate,t);if(a!==null){a.flags&=32767,At=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){At=t;return}At=t=a}while(t!==null);_e=6,At=null}function kg(t,n,a,u,f,_,v,T,x){t.cancelPendingCommit=null;do Dc();while(Oe!==0);if((Bt&6)!==0)throw Error(o(327));if(n!==null){if(n===t.current)throw Error(o(177));if(_=n.lanes|n.childLanes,_|=Ua,$h(t,a,_,v,T,x),t===Jt&&(At=Jt=null,Mt=0),eo=n,Hs=t,Xi=a,_d=_,md=f,wg=u,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,XE(dr,function(){return Hg(),null})):(t.callbackNode=null,t.callbackPriority=0),u=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||u){u=H.T,H.T=null,f=$.p,$.p=2,v=Bt,Bt|=4;try{HE(t,n,a)}finally{Bt=v,$.p=f,H.T=u}}Oe=1,Pg(),zg(),Ug()}}function Pg(){if(Oe===1){Oe=0;var t=Hs,n=eo,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var u=$.p;$.p=2;var f=Bt;Bt|=4;try{pg(n,t);var _=Rd,v=kr(t.containerInfo),T=_.focusedElem,x=_.selectionRange;if(v!==T&&T&&T.ownerDocument&&Da(T.ownerDocument.documentElement,T)){if(x!==null&&hi(T)){var P=x.start,Z=x.end;if(Z===void 0&&(Z=P),"selectionStart"in T)T.selectionStart=P,T.selectionEnd=Math.min(Z,T.value.length);else{var G=T.ownerDocument||document,U=G&&G.defaultView||window;if(U.getSelection){var B=U.getSelection(),st=T.textContent.length,ut=Math.min(x.start,st),Wt=x.end===void 0?ut:Math.min(x.end,st);!B.extend&&ut>Wt&&(v=Wt,Wt=ut,ut=v);var M=Dr(T,ut),R=Dr(T,Wt);if(M&&R&&(B.rangeCount!==1||B.anchorNode!==M.node||B.anchorOffset!==M.offset||B.focusNode!==R.node||B.focusOffset!==R.offset)){var k=G.createRange();k.setStart(M.node,M.offset),B.removeAllRanges(),ut>Wt?(B.addRange(k),B.extend(R.node,R.offset)):(k.setEnd(R.node,R.offset),B.addRange(k))}}}}for(G=[],B=T;B=B.parentNode;)B.nodeType===1&&G.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<G.length;T++){var q=G[T];q.element.scrollLeft=q.left,q.element.scrollTop=q.top}}Fc=!!Od,Rd=Od=null}finally{Bt=f,$.p=u,H.T=a}}t.current=n,Oe=2}}function zg(){if(Oe===2){Oe=0;var t=Hs,n=eo,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var u=$.p;$.p=2;var f=Bt;Bt|=4;try{hg(t,n.alternate,n)}finally{Bt=f,$.p=u,H.T=a}}Oe=3}}function Ug(){if(Oe===4||Oe===3){Oe=0,xu();var t=Hs,n=eo,a=Xi,u=wg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Oe=5:(Oe=0,eo=Hs=null,Bg(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Bs=null),at(a),n=n.stateNode,Be&&typeof Be.onCommitFiberRoot=="function")try{Be.onCommitFiberRoot(hs,n,void 0,(n.current.flags&128)===128)}catch{}if(u!==null){n=H.T,f=$.p,$.p=2,H.T=null;try{for(var _=t.onRecoverableError,v=0;v<u.length;v++){var T=u[v];_(T.value,{componentStack:T.stack})}}finally{H.T=n,$.p=f}}(Xi&3)!==0&&Dc(),bi(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===pd?Ol++:(Ol=0,pd=t):Ol=0,Rl(0)}}function Bg(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,cl(n)))}function Dc(){return Pg(),zg(),Ug(),Hg()}function Hg(){if(Oe!==5)return!1;var t=Hs,n=_d;_d=0;var a=at(Xi),u=H.T,f=$.p;try{$.p=32>a?32:a,H.T=null,a=md,md=null;var _=Hs,v=Xi;if(Oe=0,eo=Hs=null,Xi=0,(Bt&6)!==0)throw Error(o(331));var T=Bt;if(Bt|=4,Eg(_.current),vg(_,_.current,v,a),Bt=T,Rl(0,!1),Be&&typeof Be.onPostCommitFiberRoot=="function")try{Be.onPostCommitFiberRoot(hs,_)}catch{}return!0}finally{$.p=f,H.T=u,Bg(t,n)}}function jg(t,n,a){n=l(a,n),n=Wf(t.stateNode,n,2),t=Is(t,n,2),t!==null&&(Ri(t,2),bi(t))}function Vt(t,n,a){if(t.tag===3)jg(t,t,a);else for(;n!==null;){if(n.tag===3){jg(n,t,a);break}else if(n.tag===1){var u=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Bs===null||!Bs.has(u))){t=l(a,t),a=Zp(2),u=Is(n,a,2),u!==null&&(qp(a,u,n,t),Ri(u,2),bi(u));break}}n=n.return}}function yd(t,n,a){var u=t.pingCache;if(u===null){u=t.pingCache=new qE;var f=new Set;u.set(n,f)}else f=u.get(n),f===void 0&&(f=new Set,u.set(n,f));f.has(a)||(hd=!0,f.add(a),t=WE.bind(null,t,n,a),n.then(t,t))}function WE(t,n,a){var u=t.pingCache;u!==null&&u.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Jt===t&&(Mt&a)===a&&(_e===4||_e===3&&(Mt&62914560)===Mt&&300>Xe()-Nc?(Bt&2)===0&&no(t,0):fd|=a,to===Mt&&(to=0)),bi(t)}function Zg(t,n){n===0&&(n=Nu()),t=Pn(t,n),t!==null&&(Ri(t,n),bi(t))}function KE(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Zg(t,a)}function QE(t,n){var a=0;switch(t.tag){case 31:case 13:var u=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:u=t.stateNode;break;case 22:u=t.stateNode._retryCache;break;default:throw Error(o(314))}u!==null&&u.delete(n),Zg(t,a)}function XE(t,n){return ba(t,n)}var kc=null,so=null,bd=!1,Pc=!1,Ed=!1,Zs=0;function bi(t){t!==so&&t.next===null&&(so===null?kc=so=t:so=so.next=t),Pc=!0,bd||(bd=!0,$E())}function Rl(t,n){if(!Ed&&Pc){Ed=!0;do for(var a=!1,u=kc;u!==null;){if(t!==0){var f=u.pendingLanes;if(f===0)var _=0;else{var v=u.suspendedLanes,T=u.pingedLanes;_=(1<<31-Je(42|t)+1)-1,_&=f&~(v&~T),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(a=!0,Fg(u,_))}else _=Mt,_=Sa(u,u===Jt?_:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(_&3)===0||vr(u,_)||(a=!0,Fg(u,_));u=u.next}while(a);Ed=!1}}function JE(){qg()}function qg(){Pc=bd=!1;var t=0;Zs!==0&&uS()&&(t=Zs);for(var n=Xe(),a=null,u=kc;u!==null;){var f=u.next,_=Vg(u,n);_===0?(u.next=null,a===null?kc=f:a.next=f,f===null&&(so=a)):(a=u,(t!==0||(_&3)!==0)&&(Pc=!0)),u=f}Oe!==0&&Oe!==5||Rl(t),Zs!==0&&(Zs=0)}function Vg(t,n){for(var a=t.suspendedLanes,u=t.pingedLanes,f=t.expirationTimes,_=t.pendingLanes&-62914561;0<_;){var v=31-Je(_),T=1<<v,x=f[v];x===-1?((T&a)===0||(T&u)!==0)&&(f[v]=Jh(T,n)):x<=n&&(t.expiredLanes|=T),_&=~T}if(n=Jt,a=Mt,a=Sa(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u=t.callbackNode,a===0||t===n&&(qt===2||qt===9)||t.cancelPendingCommit!==null)return u!==null&&u!==null&&fr(u),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||vr(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(u!==null&&fr(u),at(a)){case 2:case 8:a=Po;break;case 32:a=dr;break;case 268435456:a=zo;break;default:a=dr}return u=Gg.bind(null,t),a=ba(a,u),t.callbackPriority=n,t.callbackNode=a,n}return u!==null&&u!==null&&fr(u),t.callbackPriority=2,t.callbackNode=null,2}function Gg(t,n){if(Oe!==0&&Oe!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Dc()&&t.callbackNode!==a)return null;var u=Mt;return u=Sa(t,t===Jt?u:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u===0?null:(xg(t,u,n),Vg(t,Xe()),t.callbackNode!=null&&t.callbackNode===a?Gg.bind(null,t):null)}function Fg(t,n){if(Dc())return null;xg(t,n,!0)}function $E(){hS(function(){(Bt&6)!==0?ba(Ea,JE):qg()})}function Sd(){if(Zs===0){var t=qa;t===0&&(t=mr,mr<<=1,(mr&261888)===0&&(mr=256)),Zs=t}return Zs}function Yg(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:gs(""+t)}function Wg(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function tS(t,n,a,u,f){if(n==="submit"&&a&&a.stateNode===f){var _=Yg((f[Me]||null).action),v=u.submitter;v&&(n=(n=v[Me]||null)?Yg(n.formAction):v.getAttribute("formAction"),n!==null&&(_=n,v=null));var T=new Aa("action","action",null,u,f);t.push({event:T,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Zs!==0){var x=v?Wg(f,v):new FormData(f);Zf(a,{pending:!0,data:x,method:f.method,action:_},null,x)}}else typeof _=="function"&&(T.preventDefault(),x=v?Wg(f,v):new FormData(f),Zf(a,{pending:!0,data:x,method:f.method,action:_},_,x))},currentTarget:f}]})}}for(var Td=0;Td<_i.length;Td++){var wd=_i[Td],eS=wd.toLowerCase(),nS=wd[0].toUpperCase()+wd.slice(1);un(eS,"on"+nS)}un(zr,"onAnimationEnd"),un(tc,"onAnimationIteration"),un(Ur,"onAnimationStart"),un("dblclick","onDoubleClick"),un("focusin","onFocus"),un("focusout","onBlur"),un(df,"onTransitionRun"),un(ec,"onTransitionStart"),un(_f,"onTransitionCancel"),un(Ns,"onTransitionEnd"),oi("onMouseEnter",["mouseout","mouseover"]),oi("onMouseLeave",["mouseout","mouseover"]),oi("onPointerEnter",["pointerout","pointerover"]),oi("onPointerLeave",["pointerout","pointerover"]),Ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ii("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ml));function Kg(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var u=t[a],f=u.event;u=u.listeners;t:{var _=void 0;if(n)for(var v=u.length-1;0<=v;v--){var T=u[v],x=T.instance,P=T.currentTarget;if(T=T.listener,x!==_&&f.isPropagationStopped())break t;_=T,f.currentTarget=P;try{_(f)}catch(Z){Br(Z)}f.currentTarget=null,_=x}else for(v=0;v<u.length;v++){if(T=u[v],x=T.instance,P=T.currentTarget,T=T.listener,x!==_&&f.isPropagationStopped())break t;_=T,f.currentTarget=P;try{_(f)}catch(Z){Br(Z)}f.currentTarget=null,_=x}}}}function Nt(t,n){var a=n[ri];a===void 0&&(a=n[ri]=new Set);var u=t+"__bubble";a.has(u)||(Qg(n,t,2,!1),a.add(u))}function Cd(t,n,a){var u=0;n&&(u|=4),Qg(a,t,u,n)}var zc="_reactListening"+Math.random().toString(36).slice(2);function xd(t){if(!t[zc]){t[zc]=!0,Du.forEach(function(a){a!=="selectionchange"&&(iS.has(a)||Cd(a,!1,t),Cd(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[zc]||(n[zc]=!0,Cd("selectionchange",!1,n))}}function Qg(t,n,a,u){switch(Cv(n)){case 2:var f=MS;break;case 8:f=LS;break;default:f=jd}a=f.bind(null,n,a,t),f=void 0,!Cr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),u?f!==void 0?t.addEventListener(n,a,{capture:!0,passive:f}):t.addEventListener(n,a,!0):f!==void 0?t.addEventListener(n,a,{passive:f}):t.addEventListener(n,a,!1)}function Ad(t,n,a,u,f){var _=u;if((n&1)===0&&(n&2)===0&&u!==null)t:for(;;){if(u===null)return;var v=u.tag;if(v===3||v===4){var T=u.stateNode.containerInfo;if(T===f)break;if(v===4)for(v=u.return;v!==null;){var x=v.tag;if((x===3||x===4)&&v.stateNode.containerInfo===f)return;v=v.return}for(;T!==null;){if(v=Li(T),v===null)return;if(x=v.tag,x===5||x===6||x===26||x===27){u=_=v;continue t}T=T.parentNode}}u=u.return}Wo(function(){var P=_,Z=wr(a),G=[];t:{var U=nc.get(t);if(U!==void 0){var B=Aa,st=t;switch(t){case"keypress":if(xr(a)===0)break t;case"keydown":case"keyup":B=Zu;break;case"focusin":st="focus",B=Xo;break;case"focusout":st="blur",B=Xo;break;case"beforeblur":case"afterblur":B=Xo;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=zu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=ef;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=of;break;case zr:case tc:case Ur:B=Jo;break;case Ns:B=Gu;break;case"scroll":case"scrollend":B=Rt;break;case"wheel":B=zi;break;case"copy":case"cut":case"paste":B=Ln;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=qu;break;case"toggle":case"beforetoggle":B=Or}var ut=(n&4)!==0,Wt=!ut&&(t==="scroll"||t==="scrollend"),M=ut?U!==null?U+"Capture":null:U;ut=[];for(var R=P,k;R!==null;){var q=R;if(k=q.stateNode,q=q.tag,q!==5&&q!==26&&q!==27||k===null||M===null||(q=ki(R,M),q!=null&&ut.push(Ll(R,q,k))),Wt)break;R=R.return}0<ut.length&&(U=new B(U,st,null,a,Z),G.push({event:U,listeners:ut}))}}if((n&7)===0){t:{if(U=t==="mouseover"||t==="pointerover",B=t==="mouseout"||t==="pointerout",U&&a!==xa&&(st=a.relatedTarget||a.fromElement)&&(Li(st)||st[Mi]))break t;if((B||U)&&(U=Z.window===Z?Z:(U=Z.ownerDocument)?U.defaultView||U.parentWindow:window,B?(st=a.relatedTarget||a.toElement,B=P,st=st?Li(st):null,st!==null&&(Wt=d(st),ut=st.tag,st!==Wt||ut!==5&&ut!==27&&ut!==6)&&(st=null)):(B=null,st=P),B!==st)){if(ut=zu,q="onMouseLeave",M="onMouseEnter",R="mouse",(t==="pointerout"||t==="pointerover")&&(ut=qu,q="onPointerLeave",M="onPointerEnter",R="pointer"),Wt=B==null?U:ai(B),k=st==null?U:ai(st),U=new ut(q,R+"leave",B,a,Z),U.target=Wt,U.relatedTarget=k,q=null,Li(Z)===P&&(ut=new ut(M,R+"enter",st,a,Z),ut.target=k,ut.relatedTarget=Wt,q=ut),Wt=q,B&&st)e:{for(ut=sS,M=B,R=st,k=0,q=M;q;q=ut(q))k++;q=0;for(var lt=R;lt;lt=ut(lt))q++;for(;0<k-q;)M=ut(M),k--;for(;0<q-k;)R=ut(R),q--;for(;k--;){if(M===R||R!==null&&M===R.alternate){ut=M;break e}M=ut(M),R=ut(R)}ut=null}else ut=null;B!==null&&Xg(G,U,B,ut,!1),st!==null&&Wt!==null&&Xg(G,Wt,st,ut,!0)}}t:{if(U=P?ai(P):window,B=U.nodeName&&U.nodeName.toLowerCase(),B==="select"||B==="input"&&U.type==="file")var kt=Ir;else if(In(U))if(Ku)kt=ff;else{kt=hf;var rt=Wn}else B=U.nodeName,!B||B.toLowerCase()!=="input"||U.type!=="checkbox"&&U.type!=="radio"?P&&Tr(P.elementType)&&(kt=Ir):kt=ws;if(kt&&(kt=kt(t,P))){Wu(G,kt,a,Z);break t}rt&&rt(t,U,P),t==="focusout"&&P&&U.type==="number"&&P.memoizedProps.value!=null&&Gn(U,"number",U.value)}switch(rt=P?ai(P):window,t){case"focusin":(In(rt)||rt.contentEditable==="true")&&(fi=rt,Pa=P,Pr=null);break;case"focusout":Pr=Pa=fi=null;break;case"mousedown":xs=!0;break;case"contextmenu":case"mouseup":case"dragend":xs=!1,Ju(G,a,Z);break;case"selectionchange":if(ka)break;case"keydown":case"keyup":Ju(G,a,Z)}var yt;if(Oa)t:{switch(t){case"compositionstart":var Lt="onCompositionStart";break t;case"compositionend":Lt="onCompositionEnd";break t;case"compositionupdate":Lt="onCompositionUpdate";break t}Lt=void 0}else Es?Yu(t,a)&&(Lt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Lt="onCompositionStart");Lt&&(Ra&&a.locale!=="ko"&&(Es||Lt!=="onCompositionStart"?Lt==="onCompositionEnd"&&Es&&(yt=ui()):(Mn=Z,Pi="value"in Mn?Mn.value:Mn.textContent,Es=!0)),rt=Uc(P,Lt),0<rt.length&&(Lt=new $o(Lt,t,null,a,Z),G.push({event:Lt,listeners:rt}),yt?Lt.data=yt:(yt=il(a),yt!==null&&(Lt.data=yt)))),(yt=uf?wn(t,a):Ss(t,a))&&(Lt=Uc(P,"onBeforeInput"),0<Lt.length&&(rt=new $o("onBeforeInput","beforeinput",null,a,Z),G.push({event:rt,listeners:Lt}),rt.data=yt)),tS(G,t,P,a,Z)}Kg(G,n)})}function Ll(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Uc(t,n){for(var a=n+"Capture",u=[];t!==null;){var f=t,_=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||_===null||(f=ki(t,a),f!=null&&u.unshift(Ll(t,f,_)),f=ki(t,n),f!=null&&u.push(Ll(t,f,_))),t.tag===3)return u;t=t.return}return[]}function sS(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Xg(t,n,a,u,f){for(var _=n._reactName,v=[];a!==null&&a!==u;){var T=a,x=T.alternate,P=T.stateNode;if(T=T.tag,x!==null&&x===u)break;T!==5&&T!==26&&T!==27||P===null||(x=P,f?(P=ki(a,_),P!=null&&v.unshift(Ll(a,P,x))):f||(P=ki(a,_),P!=null&&v.push(Ll(a,P,x)))),a=a.return}v.length!==0&&t.push({event:n,listeners:v})}var rS=/\r\n?/g,aS=/\u0000|\uFFFD/g;function Jg(t){return(typeof t=="string"?t:""+t).replace(rS,`
`).replace(aS,"")}function $g(t,n){return n=Jg(n),Jg(t)===n}function Yt(t,n,a,u,f,_){switch(a){case"children":typeof u=="string"?n==="body"||n==="textarea"&&u===""||Rn(t,u):(typeof u=="number"||typeof u=="bigint")&&n!=="body"&&Rn(t,""+u);break;case"className":Gt(t,"class",u);break;case"tabIndex":Gt(t,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Gt(t,a,u);break;case"style":wa(t,u,_);break;case"data":if(n!=="object"){Gt(t,"data",u);break}case"src":case"href":if(u===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(a);break}u=gs(""+u),t.setAttribute(a,u);break;case"action":case"formAction":if(typeof u=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(a==="formAction"?(n!=="input"&&Yt(t,n,"name",f.name,f,null),Yt(t,n,"formEncType",f.formEncType,f,null),Yt(t,n,"formMethod",f.formMethod,f,null),Yt(t,n,"formTarget",f.formTarget,f,null)):(Yt(t,n,"encType",f.encType,f,null),Yt(t,n,"method",f.method,f,null),Yt(t,n,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(a);break}u=gs(""+u),t.setAttribute(a,u);break;case"onClick":u!=null&&(t.onclick=on);break;case"onScroll":u!=null&&Nt("scroll",t);break;case"onScrollEnd":u!=null&&Nt("scrollend",t);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(o(61));if(a=u.__html,a!=null){if(f.children!=null)throw Error(o(60));t.innerHTML=a}}break;case"multiple":t.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":t.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){t.removeAttribute("xlink:href");break}a=gs(""+u),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(a,""+u):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":u===!0?t.setAttribute(a,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(a,u):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?t.setAttribute(a,u):t.removeAttribute(a);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?t.removeAttribute(a):t.setAttribute(a,u);break;case"popover":Nt("beforetoggle",t),Nt("toggle",t),Ct(t,"popover",u);break;case"xlinkActuate":an(t,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":an(t,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":an(t,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":an(t,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":an(t,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":an(t,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":an(t,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":an(t,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":an(t,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Ct(t,"is",u);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ca.get(a)||a,Ct(t,a,u))}}function Nd(t,n,a,u,f,_){switch(a){case"style":wa(t,u,_);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(o(61));if(a=u.__html,a!=null){if(f.children!=null)throw Error(o(60));t.innerHTML=a}}break;case"children":typeof u=="string"?Rn(t,u):(typeof u=="number"||typeof u=="bigint")&&Rn(t,""+u);break;case"onScroll":u!=null&&Nt("scroll",t);break;case"onScrollEnd":u!=null&&Nt("scrollend",t);break;case"onClick":u!=null&&(t.onclick=on);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ku.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),n=a.slice(2,f?a.length-7:void 0),_=t[Me]||null,_=_!=null?_[a]:null,typeof _=="function"&&t.removeEventListener(n,_,f),typeof u=="function")){typeof _!="function"&&_!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,u,f);break t}a in t?t[a]=u:u===!0?t.setAttribute(a,""):Ct(t,a,u)}}}function qe(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",t),Nt("load",t);var u=!1,f=!1,_;for(_ in a)if(a.hasOwnProperty(_)){var v=a[_];if(v!=null)switch(_){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,n));default:Yt(t,n,_,v,a,null)}}f&&Yt(t,n,"srcSet",a.srcSet,a,null),u&&Yt(t,n,"src",a.src,a,null);return;case"input":Nt("invalid",t);var T=_=v=f=null,x=null,P=null;for(u in a)if(a.hasOwnProperty(u)){var Z=a[u];if(Z!=null)switch(u){case"name":f=Z;break;case"type":v=Z;break;case"checked":x=Z;break;case"defaultChecked":P=Z;break;case"value":_=Z;break;case"defaultValue":T=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(o(137,n));break;default:Yt(t,n,u,Z,a,null)}}Sr(t,_,T,x,P,v,f,!1);return;case"select":Nt("invalid",t),u=v=_=null;for(f in a)if(a.hasOwnProperty(f)&&(T=a[f],T!=null))switch(f){case"value":_=T;break;case"defaultValue":v=T;break;case"multiple":u=T;default:Yt(t,n,f,T,a,null)}n=_,a=v,t.multiple=!!u,n!=null?Xt(t,!!u,n,!1):a!=null&&Xt(t,!!u,a,!0);return;case"textarea":Nt("invalid",t),_=f=u=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":u=T;break;case"defaultValue":f=T;break;case"children":_=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(o(91));break;default:Yt(t,n,v,T,a,null)}ms(t,u,f,_);return;case"option":for(x in a)if(a.hasOwnProperty(x)&&(u=a[x],u!=null))switch(x){case"selected":t.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Yt(t,n,x,u,a,null)}return;case"dialog":Nt("beforetoggle",t),Nt("toggle",t),Nt("cancel",t),Nt("close",t);break;case"iframe":case"object":Nt("load",t);break;case"video":case"audio":for(u=0;u<Ml.length;u++)Nt(Ml[u],t);break;case"image":Nt("error",t),Nt("load",t);break;case"details":Nt("toggle",t);break;case"embed":case"source":case"link":Nt("error",t),Nt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in a)if(a.hasOwnProperty(P)&&(u=a[P],u!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,n));default:Yt(t,n,P,u,a,null)}return;default:if(Tr(n)){for(Z in a)a.hasOwnProperty(Z)&&(u=a[Z],u!==void 0&&Nd(t,n,Z,u,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(u=a[T],u!=null&&Yt(t,n,T,u,a,null))}function oS(t,n,a,u){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,_=null,v=null,T=null,x=null,P=null,Z=null;for(B in a){var G=a[B];if(a.hasOwnProperty(B)&&G!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":x=G;default:u.hasOwnProperty(B)||Yt(t,n,B,null,u,G)}}for(var U in u){var B=u[U];if(G=a[U],u.hasOwnProperty(U)&&(B!=null||G!=null))switch(U){case"type":_=B;break;case"name":f=B;break;case"checked":P=B;break;case"defaultChecked":Z=B;break;case"value":v=B;break;case"defaultValue":T=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(o(137,n));break;default:B!==G&&Yt(t,n,U,B,u,G)}}Go(t,v,T,x,P,Z,_,f);return;case"select":B=v=T=U=null;for(_ in a)if(x=a[_],a.hasOwnProperty(_)&&x!=null)switch(_){case"value":break;case"multiple":B=x;default:u.hasOwnProperty(_)||Yt(t,n,_,null,u,x)}for(f in u)if(_=u[f],x=a[f],u.hasOwnProperty(f)&&(_!=null||x!=null))switch(f){case"value":U=_;break;case"defaultValue":T=_;break;case"multiple":v=_;default:_!==x&&Yt(t,n,f,_,u,x)}n=T,a=v,u=B,U!=null?Xt(t,!!a,U,!1):!!u!=!!a&&(n!=null?Xt(t,!!a,n,!0):Xt(t,!!a,a?[]:"",!1));return;case"textarea":B=U=null;for(T in a)if(f=a[T],a.hasOwnProperty(T)&&f!=null&&!u.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Yt(t,n,T,null,u,f)}for(v in u)if(f=u[v],_=a[v],u.hasOwnProperty(v)&&(f!=null||_!=null))switch(v){case"value":U=f;break;case"defaultValue":B=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(o(91));break;default:f!==_&&Yt(t,n,v,f,u,_)}li(t,U,B);return;case"option":for(var st in a)if(U=a[st],a.hasOwnProperty(st)&&U!=null&&!u.hasOwnProperty(st))switch(st){case"selected":t.selected=!1;break;default:Yt(t,n,st,null,u,U)}for(x in u)if(U=u[x],B=a[x],u.hasOwnProperty(x)&&U!==B&&(U!=null||B!=null))switch(x){case"selected":t.selected=U&&typeof U!="function"&&typeof U!="symbol";break;default:Yt(t,n,x,U,u,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ut in a)U=a[ut],a.hasOwnProperty(ut)&&U!=null&&!u.hasOwnProperty(ut)&&Yt(t,n,ut,null,u,U);for(P in u)if(U=u[P],B=a[P],u.hasOwnProperty(P)&&U!==B&&(U!=null||B!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(o(137,n));break;default:Yt(t,n,P,U,u,B)}return;default:if(Tr(n)){for(var Wt in a)U=a[Wt],a.hasOwnProperty(Wt)&&U!==void 0&&!u.hasOwnProperty(Wt)&&Nd(t,n,Wt,void 0,u,U);for(Z in u)U=u[Z],B=a[Z],!u.hasOwnProperty(Z)||U===B||U===void 0&&B===void 0||Nd(t,n,Z,U,u,B);return}}for(var M in a)U=a[M],a.hasOwnProperty(M)&&U!=null&&!u.hasOwnProperty(M)&&Yt(t,n,M,null,u,U);for(G in u)U=u[G],B=a[G],!u.hasOwnProperty(G)||U===B||U==null&&B==null||Yt(t,n,G,U,u,B)}function tv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function lS(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),u=0;u<a.length;u++){var f=a[u],_=f.transferSize,v=f.initiatorType,T=f.duration;if(_&&T&&tv(v)){for(v=0,T=f.responseEnd,u+=1;u<a.length;u++){var x=a[u],P=x.startTime;if(P>T)break;var Z=x.transferSize,G=x.initiatorType;Z&&tv(G)&&(x=x.responseEnd,v+=Z*(x<T?1:(T-P)/(x-P)))}if(--u,n+=8*(_+v)/(f.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Od=null,Rd=null;function Bc(t){return t.nodeType===9?t:t.ownerDocument}function ev(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function nv(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Md(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Ld=null;function uS(){var t=window.event;return t&&t.type==="popstate"?t===Ld?!1:(Ld=t,!0):(Ld=null,!1)}var iv=typeof setTimeout=="function"?setTimeout:void 0,cS=typeof clearTimeout=="function"?clearTimeout:void 0,sv=typeof Promise=="function"?Promise:void 0,hS=typeof queueMicrotask=="function"?queueMicrotask:typeof sv<"u"?function(t){return sv.resolve(null).then(t).catch(fS)}:iv;function fS(t){setTimeout(function(){throw t})}function qs(t){return t==="head"}function rv(t,n){var a=n,u=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(u===0){t.removeChild(f),lo(n);return}u--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")u++;else if(a==="html")Il(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Il(a);for(var _=a.firstChild;_;){var v=_.nextSibling,T=_.nodeName;_[yr]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&_.rel.toLowerCase()==="stylesheet"||a.removeChild(_),_=v}}else a==="body"&&Il(t.ownerDocument.body);a=f}while(a);lo(n)}function av(t,n){var a=t;t=0;do{var u=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),u&&u.nodeType===8)if(a=u.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=u}while(a)}function Id(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Id(a),jo(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function dS(t,n,a,u){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!u&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(u){if(!t[yr])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(_=t.getAttribute("rel"),_==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(_!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(_=t.getAttribute("src"),(_!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&_&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var _=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===_)return t}else return t;if(t=Bn(t.nextSibling),t===null)break}return null}function _S(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Bn(t.nextSibling),t===null))return null;return t}function ov(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Bn(t.nextSibling),t===null))return null;return t}function Dd(t){return t.data==="$?"||t.data==="$~"}function kd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function mS(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var u=function(){n(),a.removeEventListener("DOMContentLoaded",u)};a.addEventListener("DOMContentLoaded",u),t._reactRetry=u}}function Bn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Pd=null;function lv(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return Bn(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function uv(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function cv(t,n,a){switch(n=Bc(a),t){case"html":if(t=n.documentElement,!t)throw Error(o(452));return t;case"head":if(t=n.head,!t)throw Error(o(453));return t;case"body":if(t=n.body,!t)throw Error(o(454));return t;default:throw Error(o(451))}}function Il(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);jo(t)}var Hn=new Map,hv=new Set;function Hc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ji=$.d;$.d={f:pS,r:gS,D:vS,C:yS,L:bS,m:ES,X:TS,S:SS,M:wS};function pS(){var t=Ji.f(),n=Mc();return t||n}function gS(t){var n=fs(t);n!==null&&n.tag===5&&n.type==="form"?Np(n):Ji.r(t)}var ro=typeof document>"u"?null:document;function fv(t,n,a){var u=ro;if(u&&typeof n=="string"&&n){var f=ne(n);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),hv.has(f)||(hv.add(f),t={rel:t,crossOrigin:a,href:n},u.querySelector(f)===null&&(n=u.createElement("link"),qe(n,"link",t),be(n),u.head.appendChild(n)))}}function vS(t){Ji.D(t),fv("dns-prefetch",t,null)}function yS(t,n){Ji.C(t,n),fv("preconnect",t,n)}function bS(t,n,a){Ji.L(t,n,a);var u=ro;if(u&&t&&n){var f='link[rel="preload"][as="'+ne(n)+'"]';n==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+ne(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+ne(a.imageSizes)+'"]')):f+='[href="'+ne(t)+'"]';var _=f;switch(n){case"style":_=ao(t);break;case"script":_=oo(t)}Hn.has(_)||(t=w({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Hn.set(_,t),u.querySelector(f)!==null||n==="style"&&u.querySelector(Dl(_))||n==="script"&&u.querySelector(kl(_))||(n=u.createElement("link"),qe(n,"link",t),be(n),u.head.appendChild(n)))}}function ES(t,n){Ji.m(t,n);var a=ro;if(a&&t){var u=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+ne(u)+'"][href="'+ne(t)+'"]',_=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=oo(t)}if(!Hn.has(_)&&(t=w({rel:"modulepreload",href:t},n),Hn.set(_,t),a.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(kl(_)))return}u=a.createElement("link"),qe(u,"link",t),be(u),a.head.appendChild(u)}}}function SS(t,n,a){Ji.S(t,n,a);var u=ro;if(u&&t){var f=ds(u).hoistableStyles,_=ao(t);n=n||"default";var v=f.get(_);if(!v){var T={loading:0,preload:null};if(v=u.querySelector(Dl(_)))T.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Hn.get(_))&&zd(t,a);var x=v=u.createElement("link");be(x),qe(x,"link",t),x._p=new Promise(function(P,Z){x.onload=P,x.onerror=Z}),x.addEventListener("load",function(){T.loading|=1}),x.addEventListener("error",function(){T.loading|=2}),T.loading|=4,jc(v,n,u)}v={type:"stylesheet",instance:v,count:1,state:T},f.set(_,v)}}}function TS(t,n){Ji.X(t,n);var a=ro;if(a&&t){var u=ds(a).hoistableScripts,f=oo(t),_=u.get(f);_||(_=a.querySelector(kl(f)),_||(t=w({src:t,async:!0},n),(n=Hn.get(f))&&Ud(t,n),_=a.createElement("script"),be(_),qe(_,"link",t),a.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},u.set(f,_))}}function wS(t,n){Ji.M(t,n);var a=ro;if(a&&t){var u=ds(a).hoistableScripts,f=oo(t),_=u.get(f);_||(_=a.querySelector(kl(f)),_||(t=w({src:t,async:!0,type:"module"},n),(n=Hn.get(f))&&Ud(t,n),_=a.createElement("script"),be(_),qe(_,"link",t),a.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},u.set(f,_))}}function dv(t,n,a,u){var f=(f=nt.current)?Hc(f):null;if(!f)throw Error(o(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=ao(a.href),a=ds(f).hoistableStyles,u=a.get(n),u||(u={type:"style",instance:null,count:0,state:null},a.set(n,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=ao(a.href);var _=ds(f).hoistableStyles,v=_.get(t);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(t,v),(_=f.querySelector(Dl(t)))&&!_._p&&(v.instance=_,v.state.loading=5),Hn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Hn.set(t,a),_||CS(f,t,a,v.state))),n&&u===null)throw Error(o(528,""));return v}if(n&&u!==null)throw Error(o(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=oo(a),a=ds(f).hoistableScripts,u=a.get(n),u||(u={type:"script",instance:null,count:0,state:null},a.set(n,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,t))}}function ao(t){return'href="'+ne(t)+'"'}function Dl(t){return'link[rel="stylesheet"]['+t+"]"}function _v(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function CS(t,n,a,u){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?u.loading=1:(n=t.createElement("link"),u.preload=n,n.addEventListener("load",function(){return u.loading|=1}),n.addEventListener("error",function(){return u.loading|=2}),qe(n,"link",a),be(n),t.head.appendChild(n))}function oo(t){return'[src="'+ne(t)+'"]'}function kl(t){return"script[async]"+t}function mv(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var u=t.querySelector('style[data-href~="'+ne(a.href)+'"]');if(u)return n.instance=u,be(u),u;var f=w({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return u=(t.ownerDocument||t).createElement("style"),be(u),qe(u,"style",f),jc(u,a.precedence,t),n.instance=u;case"stylesheet":f=ao(a.href);var _=t.querySelector(Dl(f));if(_)return n.state.loading|=4,n.instance=_,be(_),_;u=_v(a),(f=Hn.get(f))&&zd(u,f),_=(t.ownerDocument||t).createElement("link"),be(_);var v=_;return v._p=new Promise(function(T,x){v.onload=T,v.onerror=x}),qe(_,"link",u),n.state.loading|=4,jc(_,a.precedence,t),n.instance=_;case"script":return _=oo(a.src),(f=t.querySelector(kl(_)))?(n.instance=f,be(f),f):(u=a,(f=Hn.get(_))&&(u=w({},a),Ud(u,f)),t=t.ownerDocument||t,f=t.createElement("script"),be(f),qe(f,"link",u),t.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(o(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(u=n.instance,n.state.loading|=4,jc(u,a.precedence,t));return n.instance}function jc(t,n,a){for(var u=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,_=f,v=0;v<u.length;v++){var T=u[v];if(T.dataset.precedence===n)_=T;else if(_!==f)break}_?_.parentNode.insertBefore(t,_.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function zd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Ud(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Zc=null;function pv(t,n,a){if(Zc===null){var u=new Map,f=Zc=new Map;f.set(a,u)}else f=Zc,u=f.get(a),u||(u=new Map,f.set(a,u));if(u.has(t))return u;for(u.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var _=a[f];if(!(_[yr]||_[ye]||t==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var v=_.getAttribute(n)||"";v=t+v;var T=u.get(v);T?T.push(_):u.set(v,[_])}}return u}function gv(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function xS(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function vv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function AS(t,n,a,u){if(a.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=ao(u.href),_=n.querySelector(Dl(f));if(_){n=_._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=qc.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=_,be(_);return}_=n.ownerDocument||n,u=_v(u),(f=Hn.get(f))&&zd(u,f),_=_.createElement("link"),be(_);var v=_;v._p=new Promise(function(T,x){v.onload=T,v.onerror=x}),qe(_,"link",u),a.instance=_}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=qc.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Bd=0;function NS(t,n){return t.stylesheets&&t.count===0&&Gc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var u=setTimeout(function(){if(t.stylesheets&&Gc(t,t.stylesheets),t.unsuspend){var _=t.unsuspend;t.unsuspend=null,_()}},6e4+n);0<t.imgBytes&&Bd===0&&(Bd=62500*lS());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Gc(t,t.stylesheets),t.unsuspend)){var _=t.unsuspend;t.unsuspend=null,_()}},(t.imgBytes>Bd?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(u),clearTimeout(f)}}:null}function qc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Gc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Vc=null;function Gc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Vc=new Map,n.forEach(OS,t),Vc=null,qc.call(t))}function OS(t,n){if(!(n.state.loading&4)){var a=Vc.get(t);if(a)var u=a.get(null);else{a=new Map,Vc.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<f.length;_++){var v=f[_];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),u=v)}u&&a.set(null,u)}f=n.instance,v=f.getAttribute("data-precedence"),_=a.get(v)||u,_===u&&a.set(null,f),a.set(v,f),this.count++,u=qc.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),_?_.parentNode.insertBefore(f,_.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),n.state.loading|=4}}var Pl={$$typeof:pt,Provider:null,Consumer:null,_currentValue:Y,_currentValue2:Y,_threadCount:0};function RS(t,n,a,u,f,_,v,T,x){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Uo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Uo(0),this.hiddenUpdates=Uo(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=_,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function yv(t,n,a,u,f,_,v,T,x,P,Z,G){return t=new RS(t,n,a,v,x,P,Z,G,T),n=1,_===!0&&(n|=24),_=Ye(3,null,null,n),t.current=_,_.stateNode=t,n=vf(),n.refCount++,t.pooledCache=n,n.refCount++,_.memoizedState={element:u,isDehydrated:a,cache:n},Sf(_),t}function bv(t){return t?(t=Ui,t):Ui}function Ev(t,n,a,u,f,_){f=bv(f),u.context===null?u.context=f:u.pendingContext=f,u=Ls(n),u.payload={element:a},_=_===void 0?null:_,_!==null&&(u.callback=_),a=Is(t,u,n),a!==null&&(pn(a,t,n),_l(a,t,n))}function Sv(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Hd(t,n){Sv(t,n),(t=t.alternate)&&Sv(t,n)}function Tv(t){if(t.tag===13||t.tag===31){var n=Pn(t,67108864);n!==null&&pn(n,t,67108864),Hd(t,67108864)}}function wv(t){if(t.tag===13||t.tag===31){var n=On();n=rn(n);var a=Pn(t,n);a!==null&&pn(a,t,n),Hd(t,n)}}var Fc=!0;function MS(t,n,a,u){var f=H.T;H.T=null;var _=$.p;try{$.p=2,jd(t,n,a,u)}finally{$.p=_,H.T=f}}function LS(t,n,a,u){var f=H.T;H.T=null;var _=$.p;try{$.p=8,jd(t,n,a,u)}finally{$.p=_,H.T=f}}function jd(t,n,a,u){if(Fc){var f=Zd(u);if(f===null)Ad(t,n,u,Yc,a),xv(t,u);else if(DS(f,t,n,a,u))u.stopPropagation();else if(xv(t,u),n&4&&-1<IS.indexOf(t)){for(;f!==null;){var _=fs(f);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var v=Oi(_.pendingLanes);if(v!==0){var T=_;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var x=1<<31-Je(v);T.entanglements[1]|=x,v&=~x}bi(_),(Bt&6)===0&&(Oc=Xe()+500,Rl(0))}}break;case 31:case 13:T=Pn(_,2),T!==null&&pn(T,_,2),Mc(),Hd(_,2)}if(_=Zd(u),_===null&&Ad(t,n,u,Yc,a),_===f)break;f=_}f!==null&&u.stopPropagation()}else Ad(t,n,u,null,a)}}function Zd(t){return t=wr(t),qd(t)}var Yc=null;function qd(t){if(Yc=null,t=Li(t),t!==null){var n=d(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=p(n),t!==null)return t;t=null}else if(a===31){if(t=y(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Yc=t,null}function Cv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Yh()){case Ea:return 2;case Po:return 8;case dr:case Wh:return 32;case zo:return 268435456;default:return 32}default:return 32}}var Vd=!1,Vs=null,Gs=null,Fs=null,zl=new Map,Ul=new Map,Ys=[],IS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function xv(t,n){switch(t){case"focusin":case"focusout":Vs=null;break;case"dragenter":case"dragleave":Gs=null;break;case"mouseover":case"mouseout":Fs=null;break;case"pointerover":case"pointerout":zl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ul.delete(n.pointerId)}}function Bl(t,n,a,u,f,_){return t===null||t.nativeEvent!==_?(t={blockedOn:n,domEventName:a,eventSystemFlags:u,nativeEvent:_,targetContainers:[f]},n!==null&&(n=fs(n),n!==null&&Tv(n)),t):(t.eventSystemFlags|=u,n=t.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),t)}function DS(t,n,a,u,f){switch(n){case"focusin":return Vs=Bl(Vs,t,n,a,u,f),!0;case"dragenter":return Gs=Bl(Gs,t,n,a,u,f),!0;case"mouseover":return Fs=Bl(Fs,t,n,a,u,f),!0;case"pointerover":var _=f.pointerId;return zl.set(_,Bl(zl.get(_)||null,t,n,a,u,f)),!0;case"gotpointercapture":return _=f.pointerId,Ul.set(_,Bl(Ul.get(_)||null,t,n,a,u,f)),!0}return!1}function Av(t){var n=Li(t.target);if(n!==null){var a=d(n);if(a!==null){if(n=a.tag,n===13){if(n=p(a),n!==null){t.blockedOn=n,Ho(t.priority,function(){wv(a)});return}}else if(n===31){if(n=y(a),n!==null){t.blockedOn=n,Ho(t.priority,function(){wv(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Wc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Zd(t.nativeEvent);if(a===null){a=t.nativeEvent;var u=new a.constructor(a.type,a);xa=u,a.target.dispatchEvent(u),xa=null}else return n=fs(a),n!==null&&Tv(n),t.blockedOn=a,!1;n.shift()}return!0}function Nv(t,n,a){Wc(t)&&a.delete(n)}function kS(){Vd=!1,Vs!==null&&Wc(Vs)&&(Vs=null),Gs!==null&&Wc(Gs)&&(Gs=null),Fs!==null&&Wc(Fs)&&(Fs=null),zl.forEach(Nv),Ul.forEach(Nv)}function Kc(t,n){t.blockedOn===n&&(t.blockedOn=null,Vd||(Vd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,kS)))}var Qc=null;function Ov(t){Qc!==t&&(Qc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Qc===t&&(Qc=null);for(var n=0;n<t.length;n+=3){var a=t[n],u=t[n+1],f=t[n+2];if(typeof u!="function"){if(qd(u||a)===null)continue;break}var _=fs(a);_!==null&&(t.splice(n,3),n-=3,Zf(_,{pending:!0,data:f,method:a.method,action:u},u,f))}}))}function lo(t){function n(x){return Kc(x,t)}Vs!==null&&Kc(Vs,t),Gs!==null&&Kc(Gs,t),Fs!==null&&Kc(Fs,t),zl.forEach(n),Ul.forEach(n);for(var a=0;a<Ys.length;a++){var u=Ys[a];u.blockedOn===t&&(u.blockedOn=null)}for(;0<Ys.length&&(a=Ys[0],a.blockedOn===null);)Av(a),a.blockedOn===null&&Ys.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(u=0;u<a.length;u+=3){var f=a[u],_=a[u+1],v=f[Me]||null;if(typeof _=="function")v||Ov(a);else if(v){var T=null;if(_&&_.hasAttribute("formAction")){if(f=_,v=_[Me]||null)T=v.formAction;else if(qd(f)!==null)continue}else T=v.action;typeof T=="function"?a[u+1]=T:(a.splice(u,3),u-=3),Ov(a)}}}function Rv(){function t(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(v){return f=v})},focusReset:"manual",scroll:"manual"})}function n(){f!==null&&(f(),f=null),u||setTimeout(a,20)}function a(){if(!u&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){u=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),f!==null&&(f(),f=null)}}}function Gd(t){this._internalRoot=t}Xc.prototype.render=Gd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(o(409));var a=n.current,u=On();Ev(a,u,t,n,null,null)},Xc.prototype.unmount=Gd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Ev(t.current,2,null,t,null,null),Mc(),n[Mi]=null}};function Xc(t){this._internalRoot=t}Xc.prototype.unstable_scheduleHydration=function(t){if(t){var n=Bo();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Ys.length&&n!==0&&n<Ys[a].priority;a++);Ys.splice(a,0,t),a===0&&Av(t)}};var Mv=e.version;if(Mv!=="19.2.0")throw Error(o(527,Mv,"19.2.0"));$.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(o(188)):(t=Object.keys(t).join(","),Error(o(268,t)));return t=E(n),t=t!==null?N(t):null,t=t===null?null:t.stateNode,t};var PS={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jc.isDisabled&&Jc.supportsFiber)try{hs=Jc.inject(PS),Be=Jc}catch{}}return jl.createRoot=function(t,n){if(!c(t))throw Error(o(299));var a=!1,u="",f=Up,_=Bp,v=Hp;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(_=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError)),n=yv(t,1,!1,null,null,a,u,null,f,_,v,Rv),t[Mi]=n.current,xd(t),new Gd(n)},jl.hydrateRoot=function(t,n,a){if(!c(t))throw Error(o(299));var u=!1,f="",_=Up,v=Bp,T=Hp,x=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(_=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(x=a.formState)),n=yv(t,1,!0,n,a??null,u,f,x,_,v,T,Rv),n.context=bv(null),a=n.current,u=On(),u=rn(u),f=Ls(u),f.callback=null,Is(a,f,u),a=u,n.current.lanes=a,Ri(n,a),bi(n),t[Mi]=n.current,xd(t),new Xc(n)},jl.version="19.2.0",jl}var jv;function GS(){if(jv)return Wd.exports;jv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Wd.exports=VS(),Wd.exports}var FS=GS();const YS=()=>{};var Zv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q=function(r,e){if(!r)throw Co(e)},Co=function(r){return new Error("Firebase Database ("+s0.SDK_VERSION+") INTERNAL ASSERT FAILED: "+r)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0=function(r){const e=[];let i=0;for(let o=0;o<r.length;o++){let c=r.charCodeAt(o);c<128?e[i++]=c:c<2048?(e[i++]=c>>6|192,e[i++]=c&63|128):(c&64512)===55296&&o+1<r.length&&(r.charCodeAt(o+1)&64512)===56320?(c=65536+((c&1023)<<10)+(r.charCodeAt(++o)&1023),e[i++]=c>>18|240,e[i++]=c>>12&63|128,e[i++]=c>>6&63|128,e[i++]=c&63|128):(e[i++]=c>>12|224,e[i++]=c>>6&63|128,e[i++]=c&63|128)}return e},WS=function(r){const e=[];let i=0,o=0;for(;i<r.length;){const c=r[i++];if(c<128)e[o++]=String.fromCharCode(c);else if(c>191&&c<224){const d=r[i++];e[o++]=String.fromCharCode((c&31)<<6|d&63)}else if(c>239&&c<365){const d=r[i++],p=r[i++],y=r[i++],b=((c&7)<<18|(d&63)<<12|(p&63)<<6|y&63)-65536;e[o++]=String.fromCharCode(55296+(b>>10)),e[o++]=String.fromCharCode(56320+(b&1023))}else{const d=r[i++],p=r[i++];e[o++]=String.fromCharCode((c&15)<<12|(d&63)<<6|p&63)}}return e.join("")},P_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let c=0;c<r.length;c+=3){const d=r[c],p=c+1<r.length,y=p?r[c+1]:0,b=c+2<r.length,E=b?r[c+2]:0,N=d>>2,w=(d&3)<<4|y>>4;let O=(y&15)<<2|E>>6,F=E&63;b||(F=64,p||(O=64)),o.push(i[N],i[w],i[O],i[F])}return o.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(r0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):WS(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let c=0;c<r.length;){const d=i[r.charAt(c++)],y=c<r.length?i[r.charAt(c)]:0;++c;const E=c<r.length?i[r.charAt(c)]:64;++c;const w=c<r.length?i[r.charAt(c)]:64;if(++c,d==null||y==null||E==null||w==null)throw new KS;const O=d<<2|y>>4;if(o.push(O),E!==64){const F=y<<4&240|E>>2;if(o.push(F),w!==64){const K=E<<6&192|w;o.push(K)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class KS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const a0=function(r){const e=r0(r);return P_.encodeByteArray(e,!0)},oh=function(r){return a0(r).replace(/\./g,"")},lh=function(r){try{return P_.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QS(r){return o0(void 0,r)}function o0(r,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const i=e;return new Date(i.getTime());case Object:r===void 0&&(r={});break;case Array:r=[];break;default:return e}for(const i in e)!e.hasOwnProperty(i)||!XS(i)||(r[i]=o0(r[i],e[i]));return r}function XS(r){return r!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S=()=>JS().__FIREBASE_DEFAULTS__,tT=()=>{if(typeof process>"u"||typeof Zv>"u")return;const r=Zv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},eT=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&lh(r[1]);return e&&JSON.parse(e)},z_=()=>{try{return YS()||$S()||tT()||eT()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},l0=r=>z_()?.emulatorHosts?.[r],nT=r=>{const e=l0(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const o=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),o]:[e.substring(0,i),o]},u0=()=>z_()?.config,c0=r=>z_()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,o)=>{i?this.reject(i):this.resolve(o),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,o))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function h0(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iT(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},o=e||"demo-project",c=r.iat||0,d=r.sub||r.user_id;if(!d)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const p={iss:`https://securetoken.google.com/${o}`,aud:o,iat:c,exp:c+3600,auth_time:c,sub:d,user_id:d,firebase:{sign_in_provider:"custom",identities:{}},...r};return[oh(JSON.stringify(i)),oh(JSON.stringify(p)),""].join(".")}const Kl={};function sT(){const r={prod:[],emulator:[]};for(const e of Object.keys(Kl))Kl[e]?r.emulator.push(e):r.prod.push(e);return r}function rT(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let qv=!1;function f0(r,e){if(typeof window>"u"||typeof document>"u"||!xo(window.location.host)||Kl[r]===e||Kl[r]||qv)return;Kl[r]=e;function i(O){return`__firebase__banner__${O}`}const o="__firebase__banner",d=sT().prod.length>0;function p(){const O=document.getElementById(o);O&&O.remove()}function y(O){O.style.display="flex",O.style.background="#7faaf0",O.style.position="fixed",O.style.bottom="5px",O.style.left="5px",O.style.padding=".5em",O.style.borderRadius="5px",O.style.alignItems="center"}function b(O,F){O.setAttribute("width","24"),O.setAttribute("id",F),O.setAttribute("height","24"),O.setAttribute("viewBox","0 0 24 24"),O.setAttribute("fill","none"),O.style.marginLeft="-6px"}function E(){const O=document.createElement("span");return O.style.cursor="pointer",O.style.marginLeft="16px",O.style.fontSize="24px",O.innerHTML=" &times;",O.onclick=()=>{qv=!0,p()},O}function N(O,F){O.setAttribute("id",F),O.innerText="Learn more",O.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",O.setAttribute("target","__blank"),O.style.paddingLeft="5px",O.style.textDecoration="underline"}function w(){const O=rT(o),F=i("text"),K=document.getElementById(F)||document.createElement("span"),tt=i("learnmore"),Ot=document.getElementById(tt)||document.createElement("a"),zt=i("preprendIcon"),te=document.getElementById(zt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(O.created){const pt=O.element;y(pt),N(Ot,tt);const ve=E();b(te,zt),pt.append(te,K,Ot,ve),document.body.appendChild(pt)}d?(K.innerText="Preview backend disconnected.",te.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(te.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,K.innerText="Preview backend running in this workspace."),K.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function U_(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nn())}function aT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function oT(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function d0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function lT(){const r=nn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function uT(){return s0.NODE_ADMIN===!0}function cT(){try{return typeof indexedDB=="object"}catch{return!1}}function hT(){return new Promise((r,e)=>{try{let i=!0;const o="validate-browser-context-for-indexeddb-analytics-module",c=self.indexedDB.open(o);c.onsuccess=()=>{c.result.close(),i||self.indexedDB.deleteDatabase(o),r(!0)},c.onupgradeneeded=()=>{i=!1},c.onerror=()=>{e(c.error?.message||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT="FirebaseError";class or extends Error{constructor(e,i,o){super(i),this.code=e,this.customData=o,this.name=fT,Object.setPrototypeOf(this,or.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_u.prototype.create)}}class _u{constructor(e,i,o){this.service=e,this.serviceName=i,this.errors=o}create(e,...i){const o=i[0]||{},c=`${this.service}/${e}`,d=this.errors[e],p=d?dT(d,o):"Error",y=`${this.serviceName}: ${p} (${c}).`;return new or(c,y,o)}}function dT(r,e){return r.replace(_T,(i,o)=>{const c=e[o];return c!=null?String(c):`<${o}?>`})}const _T=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nu(r){return JSON.parse(r)}function ze(r){return JSON.stringify(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0=function(r){let e={},i={},o={},c="";try{const d=r.split(".");e=nu(lh(d[0])||""),i=nu(lh(d[1])||""),c=d[2],o=i.d||{},delete i.d}catch{}return{header:e,claims:i,data:o,signature:c}},mT=function(r){const e=_0(r),i=e.claims;return!!i&&typeof i=="object"&&i.hasOwnProperty("iat")},pT=function(r){const e=_0(r).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ti(r,e){return Object.prototype.hasOwnProperty.call(r,e)}function yo(r,e){if(Object.prototype.hasOwnProperty.call(r,e))return r[e]}function uh(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ch(r,e,i){const o={};for(const c in r)Object.prototype.hasOwnProperty.call(r,c)&&(o[c]=e.call(i,r[c],c,r));return o}function ra(r,e){if(r===e)return!0;const i=Object.keys(r),o=Object.keys(e);for(const c of i){if(!o.includes(c))return!1;const d=r[c],p=e[c];if(Vv(d)&&Vv(p)){if(!ra(d,p))return!1}else if(d!==p)return!1}for(const c of o)if(!i.includes(c))return!1;return!0}function Vv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ao(r){const e=[];for(const[i,o]of Object.entries(r))Array.isArray(o)?o.forEach(c=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(c))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(o));return e.length?"&"+e.join("&"):""}function Fl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(o=>{if(o){const[c,d]=o.split("=");e[decodeURIComponent(c)]=decodeURIComponent(d)}}),e}function Yl(r){const e=r.indexOf("?");if(!e)return"";const i=r.indexOf("#",e);return r.substring(e,i>0?i:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,i){i||(i=0);const o=this.W_;if(typeof e=="string")for(let w=0;w<16;w++)o[w]=e.charCodeAt(i)<<24|e.charCodeAt(i+1)<<16|e.charCodeAt(i+2)<<8|e.charCodeAt(i+3),i+=4;else for(let w=0;w<16;w++)o[w]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i+=4;for(let w=16;w<80;w++){const O=o[w-3]^o[w-8]^o[w-14]^o[w-16];o[w]=(O<<1|O>>>31)&4294967295}let c=this.chain_[0],d=this.chain_[1],p=this.chain_[2],y=this.chain_[3],b=this.chain_[4],E,N;for(let w=0;w<80;w++){w<40?w<20?(E=y^d&(p^y),N=1518500249):(E=d^p^y,N=1859775393):w<60?(E=d&p|y&(d|p),N=2400959708):(E=d^p^y,N=3395469782);const O=(c<<5|c>>>27)+E+b+N+o[w]&4294967295;b=y,y=p,p=(d<<30|d>>>2)&4294967295,d=c,c=O}this.chain_[0]=this.chain_[0]+c&4294967295,this.chain_[1]=this.chain_[1]+d&4294967295,this.chain_[2]=this.chain_[2]+p&4294967295,this.chain_[3]=this.chain_[3]+y&4294967295,this.chain_[4]=this.chain_[4]+b&4294967295}update(e,i){if(e==null)return;i===void 0&&(i=e.length);const o=i-this.blockSize;let c=0;const d=this.buf_;let p=this.inbuf_;for(;c<i;){if(p===0)for(;c<=o;)this.compress_(e,c),c+=this.blockSize;if(typeof e=="string"){for(;c<i;)if(d[p]=e.charCodeAt(c),++p,++c,p===this.blockSize){this.compress_(d),p=0;break}}else for(;c<i;)if(d[p]=e[c],++p,++c,p===this.blockSize){this.compress_(d),p=0;break}}this.inbuf_=p,this.total_+=i}digest(){const e=[];let i=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let c=this.blockSize-1;c>=56;c--)this.buf_[c]=i&255,i/=256;this.compress_(this.buf_);let o=0;for(let c=0;c<5;c++)for(let d=24;d>=0;d-=8)e[o]=this.chain_[c]>>d&255,++o;return e}}function vT(r,e){const i=new yT(r,e);return i.subscribe.bind(i)}class yT{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(o=>{this.error(o)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,o){let c;if(e===void 0&&i===void 0&&o===void 0)throw new Error("Missing Observer.");bT(e,["next","error","complete"])?c=e:c={next:e,error:i,complete:o},c.next===void 0&&(c.next=Jd),c.error===void 0&&(c.error=Jd),c.complete===void 0&&(c.complete=Jd);const d=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?c.error(this.finalError):c.complete()}catch{}}),this.observers.push(c),d}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(o){typeof console<"u"&&console.error&&console.error(o)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bT(r,e){if(typeof r!="object"||r===null)return!1;for(const i of e)if(i in r&&typeof r[i]=="function")return!0;return!1}function Jd(){}function bo(r,e){return`${r} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET=function(r){const e=[];let i=0;for(let o=0;o<r.length;o++){let c=r.charCodeAt(o);if(c>=55296&&c<=56319){const d=c-55296;o++,Q(o<r.length,"Surrogate pair missing trail surrogate.");const p=r.charCodeAt(o)-56320;c=65536+(d<<10)+p}c<128?e[i++]=c:c<2048?(e[i++]=c>>6|192,e[i++]=c&63|128):c<65536?(e[i++]=c>>12|224,e[i++]=c>>6&63|128,e[i++]=c&63|128):(e[i++]=c>>18|240,e[i++]=c>>12&63|128,e[i++]=c>>6&63|128,e[i++]=c&63|128)}return e},Lh=function(r){let e=0;for(let i=0;i<r.length;i++){const o=r.charCodeAt(i);o<128?e++:o<2048?e+=2:o>=55296&&o<=56319?(e+=4,i++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ge(r){return r&&r._delegate?r._delegate:r}class aa{constructor(e,i,o){this.name=e,this.instanceFactory=i,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const o=new $i;if(this.instancesDeferred.set(i,o),this.isInitialized(i)||this.shouldAutoInitialize())try{const c=this.getOrInitializeService({instanceIdentifier:i});c&&o.resolve(c)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),o=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(c){if(o)return null;throw c}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(wT(e))try{this.getOrInitializeService({instanceIdentifier:ta})}catch{}for(const[i,o]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(i);try{const d=this.getOrInitializeService({instanceIdentifier:c});o.resolve(d)}catch{}}}}clearInstance(e=ta){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ta){return this.instances.has(e)}getOptions(e=ta){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,o=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const c=this.getOrInitializeService({instanceIdentifier:o,options:i});for(const[d,p]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(d);o===y&&p.resolve(c)}return c}onInit(e,i){const o=this.normalizeInstanceIdentifier(i),c=this.onInitCallbacks.get(o)??new Set;c.add(e),this.onInitCallbacks.set(o,c);const d=this.instances.get(o);return d&&e(d,o),()=>{c.delete(e)}}invokeOnInitCallbacks(e,i){const o=this.onInitCallbacks.get(i);if(o)for(const c of o)try{c(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let o=this.instances.get(e);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:TT(e),options:i}),this.instances.set(e,o),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(o,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,o)}catch{}return o||null}normalizeInstanceIdentifier(e=ta){return this.component?this.component.multipleInstances?e:ta:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function TT(r){return r===ta?void 0:r}function wT(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new ST(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Kt||(Kt={}));const xT={debug:Kt.DEBUG,verbose:Kt.VERBOSE,info:Kt.INFO,warn:Kt.WARN,error:Kt.ERROR,silent:Kt.SILENT},AT=Kt.INFO,NT={[Kt.DEBUG]:"log",[Kt.VERBOSE]:"log",[Kt.INFO]:"info",[Kt.WARN]:"warn",[Kt.ERROR]:"error"},OT=(r,e,...i)=>{if(e<r.logLevel)return;const o=new Date().toISOString(),c=NT[e];if(c)console[c](`[${o}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class B_{constructor(e){this.name=e,this._logLevel=AT,this._logHandler=OT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Kt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?xT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Kt.DEBUG,...e),this._logHandler(this,Kt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Kt.VERBOSE,...e),this._logHandler(this,Kt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Kt.INFO,...e),this._logHandler(this,Kt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Kt.WARN,...e),this._logHandler(this,Kt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Kt.ERROR,...e),this._logHandler(this,Kt.ERROR,...e)}}const RT=(r,e)=>e.some(i=>r instanceof i);let Gv,Fv;function MT(){return Gv||(Gv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function LT(){return Fv||(Fv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const m0=new WeakMap,d_=new WeakMap,p0=new WeakMap,$d=new WeakMap,H_=new WeakMap;function IT(r){const e=new Promise((i,o)=>{const c=()=>{r.removeEventListener("success",d),r.removeEventListener("error",p)},d=()=>{i(tr(r.result)),c()},p=()=>{o(r.error),c()};r.addEventListener("success",d),r.addEventListener("error",p)});return e.then(i=>{i instanceof IDBCursor&&m0.set(i,r)}).catch(()=>{}),H_.set(e,r),e}function DT(r){if(d_.has(r))return;const e=new Promise((i,o)=>{const c=()=>{r.removeEventListener("complete",d),r.removeEventListener("error",p),r.removeEventListener("abort",p)},d=()=>{i(),c()},p=()=>{o(r.error||new DOMException("AbortError","AbortError")),c()};r.addEventListener("complete",d),r.addEventListener("error",p),r.addEventListener("abort",p)});d_.set(r,e)}let __={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return d_.get(r);if(e==="objectStoreNames")return r.objectStoreNames||p0.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return tr(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function kT(r){__=r(__)}function PT(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const o=r.call(t_(this),e,...i);return p0.set(o,e.sort?e.sort():[e]),tr(o)}:LT().includes(r)?function(...e){return r.apply(t_(this),e),tr(m0.get(this))}:function(...e){return tr(r.apply(t_(this),e))}}function zT(r){return typeof r=="function"?PT(r):(r instanceof IDBTransaction&&DT(r),RT(r,MT())?new Proxy(r,__):r)}function tr(r){if(r instanceof IDBRequest)return IT(r);if($d.has(r))return $d.get(r);const e=zT(r);return e!==r&&($d.set(r,e),H_.set(e,r)),e}const t_=r=>H_.get(r);function UT(r,e,{blocked:i,upgrade:o,blocking:c,terminated:d}={}){const p=indexedDB.open(r,e),y=tr(p);return o&&p.addEventListener("upgradeneeded",b=>{o(tr(p.result),b.oldVersion,b.newVersion,tr(p.transaction),b)}),i&&p.addEventListener("blocked",b=>i(b.oldVersion,b.newVersion,b)),y.then(b=>{d&&b.addEventListener("close",()=>d()),c&&b.addEventListener("versionchange",E=>c(E.oldVersion,E.newVersion,E))}).catch(()=>{}),y}const BT=["get","getKey","getAll","getAllKeys","count"],HT=["put","add","delete","clear"],e_=new Map;function Yv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(e_.get(e))return e_.get(e);const i=e.replace(/FromIndex$/,""),o=e!==i,c=HT.includes(i);if(!(i in(o?IDBIndex:IDBObjectStore).prototype)||!(c||BT.includes(i)))return;const d=async function(p,...y){const b=this.transaction(p,c?"readwrite":"readonly");let E=b.store;return o&&(E=E.index(y.shift())),(await Promise.all([E[i](...y),c&&b.done]))[0]};return e_.set(e,d),d}kT(r=>({...r,get:(e,i,o)=>Yv(e,i)||r.get(e,i,o),has:(e,i)=>!!Yv(e,i)||r.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(ZT(i)){const o=i.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(i=>i).join(" ")}}function ZT(r){return r.getComponent()?.type==="VERSION"}const m_="@firebase/app",Wv="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as=new B_("@firebase/app"),qT="@firebase/app-compat",VT="@firebase/analytics-compat",GT="@firebase/analytics",FT="@firebase/app-check-compat",YT="@firebase/app-check",WT="@firebase/auth",KT="@firebase/auth-compat",QT="@firebase/database",XT="@firebase/data-connect",JT="@firebase/database-compat",$T="@firebase/functions",tw="@firebase/functions-compat",ew="@firebase/installations",nw="@firebase/installations-compat",iw="@firebase/messaging",sw="@firebase/messaging-compat",rw="@firebase/performance",aw="@firebase/performance-compat",ow="@firebase/remote-config",lw="@firebase/remote-config-compat",uw="@firebase/storage",cw="@firebase/storage-compat",hw="@firebase/firestore",fw="@firebase/ai",dw="@firebase/firestore-compat",_w="firebase",mw="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_="[DEFAULT]",pw={[m_]:"fire-core",[qT]:"fire-core-compat",[GT]:"fire-analytics",[VT]:"fire-analytics-compat",[YT]:"fire-app-check",[FT]:"fire-app-check-compat",[WT]:"fire-auth",[KT]:"fire-auth-compat",[QT]:"fire-rtdb",[XT]:"fire-data-connect",[JT]:"fire-rtdb-compat",[$T]:"fire-fn",[tw]:"fire-fn-compat",[ew]:"fire-iid",[nw]:"fire-iid-compat",[iw]:"fire-fcm",[sw]:"fire-fcm-compat",[rw]:"fire-perf",[aw]:"fire-perf-compat",[ow]:"fire-rc",[lw]:"fire-rc-compat",[uw]:"fire-gcs",[cw]:"fire-gcs-compat",[hw]:"fire-fst",[dw]:"fire-fst-compat",[fw]:"fire-vertex","fire-js":"fire-js",[_w]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hh=new Map,gw=new Map,g_=new Map;function Kv(r,e){try{r.container.addComponent(e)}catch(i){as.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function Eo(r){const e=r.name;if(g_.has(e))return as.debug(`There were multiple attempts to register component ${e}.`),!1;g_.set(e,r);for(const i of hh.values())Kv(i,r);for(const i of gw.values())Kv(i,r);return!0}function j_(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function jn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},er=new _u("app","Firebase",vw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(e,i,o){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new aa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw er.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const No=mw;function g0(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const o={name:p_,automaticDataCollectionEnabled:!0,...e},c=o.name;if(typeof c!="string"||!c)throw er.create("bad-app-name",{appName:String(c)});if(i||(i=u0()),!i)throw er.create("no-options");const d=hh.get(c);if(d){if(ra(i,d.options)&&ra(o,d.config))return d;throw er.create("duplicate-app",{appName:c})}const p=new CT(c);for(const b of g_.values())p.addComponent(b);const y=new yw(i,o,p);return hh.set(c,y),y}function v0(r=p_){const e=hh.get(r);if(!e&&r===p_&&u0())return g0();if(!e)throw er.create("no-app",{appName:r});return e}function nr(r,e,i){let o=pw[r]??r;i&&(o+=`-${i}`);const c=o.match(/\s|\//),d=e.match(/\s|\//);if(c||d){const p=[`Unable to register library "${o}" with version "${e}":`];c&&p.push(`library name "${o}" contains illegal characters (whitespace or "/")`),c&&d&&p.push("and"),d&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),as.warn(p.join(" "));return}Eo(new aa(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw="firebase-heartbeat-database",Ew=1,iu="firebase-heartbeat-store";let n_=null;function y0(){return n_||(n_=UT(bw,Ew,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(iu)}catch(i){console.warn(i)}}}}).catch(r=>{throw er.create("idb-open",{originalErrorMessage:r.message})})),n_}async function Sw(r){try{const i=(await y0()).transaction(iu),o=await i.objectStore(iu).get(b0(r));return await i.done,o}catch(e){if(e instanceof or)as.warn(e.message);else{const i=er.create("idb-get",{originalErrorMessage:e?.message});as.warn(i.message)}}}async function Qv(r,e){try{const o=(await y0()).transaction(iu,"readwrite");await o.objectStore(iu).put(e,b0(r)),await o.done}catch(i){if(i instanceof or)as.warn(i.message);else{const o=er.create("idb-set",{originalErrorMessage:i?.message});as.warn(o.message)}}}function b0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw=1024,ww=30;class Cw{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Aw(i),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Xv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(c=>c.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>ww){const c=Nw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){as.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Xv(),{heartbeatsToSend:i,unsentEntries:o}=xw(this._heartbeatsCache.heartbeats),c=oh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(e){return as.warn(e),""}}}function Xv(){return new Date().toISOString().substring(0,10)}function xw(r,e=Tw){const i=[];let o=r.slice();for(const c of r){const d=i.find(p=>p.agent===c.agent);if(d){if(d.dates.push(c.date),Jv(i)>e){d.dates.pop();break}}else if(i.push({agent:c.agent,dates:[c.date]}),Jv(i)>e){i.pop();break}o=o.slice(1)}return{heartbeatsToSend:i,unsentEntries:o}}class Aw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return cT()?hT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Sw(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const o=await this.read();return Qv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const o=await this.read();return Qv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Jv(r){return oh(JSON.stringify({version:2,heartbeats:r})).length}function Nw(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let o=1;o<r.length;o++)r[o].date<i&&(i=r[o].date,e=o);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ow(r){Eo(new aa("platform-logger",e=>new jT(e),"PRIVATE")),Eo(new aa("heartbeat",e=>new Cw(e),"PRIVATE")),nr(m_,Wv,r),nr(m_,Wv,"esm2020"),nr("fire-js","")}Ow("");function E0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Rw=E0,S0=new _u("auth","Firebase",E0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fh=new B_("@firebase/auth");function Mw(r,...e){fh.logLevel<=Kt.WARN&&fh.warn(`Auth (${No}): ${r}`,...e)}function nh(r,...e){fh.logLevel<=Kt.ERROR&&fh.error(`Auth (${No}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(r,...e){throw Z_(r,...e)}function Ei(r,...e){return Z_(r,...e)}function T0(r,e,i){const o={...Rw(),[e]:i};return new _u("auth","Firebase",o).create(e,{appName:r.name})}function is(r){return T0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Z_(r,...e){if(typeof r!="string"){const i=e[0],o=[...e.slice(1)];return o[0]&&(o[0].appName=r.name),r._errorFactory.create(i,...o)}return S0.create(r,...e)}function ht(r,e,...i){if(!r)throw Z_(e,...i)}function ts(r){const e="INTERNAL ASSERTION FAILED: "+r;throw nh(e),new Error(e)}function os(r,e){r||ts(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v_(){return typeof self<"u"&&self.location?.href||""}function Lw(){return $v()==="http:"||$v()==="https:"}function $v(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Lw()||oT()||"connection"in navigator)?navigator.onLine:!0}function Dw(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(e,i){this.shortDelay=e,this.longDelay=i,os(i>e,"Short delay should be less than long delay!"),this.isMobile=U_()||d0()}get(){return Iw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q_(r,e){os(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{static initialize(e,i,o){this.fetchImpl=e,i&&(this.headersImpl=i),o&&(this.responseImpl=o)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ts("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ts("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ts("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],zw=new mu(3e4,6e4);function lr(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function ur(r,e,i,o,c={}){return C0(r,c,async()=>{let d={},p={};o&&(e==="GET"?p=o:d={body:JSON.stringify(o)});const y=Ao({key:r.config.apiKey,...p}).slice(1),b=await r._getAdditionalHeaders();b["Content-Type"]="application/json",r.languageCode&&(b["X-Firebase-Locale"]=r.languageCode);const E={method:e,headers:b,...d};return aT()||(E.referrerPolicy="no-referrer"),r.emulatorConfig&&xo(r.emulatorConfig.host)&&(E.credentials="include"),w0.fetch()(await x0(r,r.config.apiHost,i,y),E)})}async function C0(r,e,i){r._canInitEmulator=!1;const o={...kw,...e};try{const c=new Bw(r),d=await Promise.race([i(),c.promise]);c.clearNetworkTimeout();const p=await d.json();if("needConfirmation"in p)throw $c(r,"account-exists-with-different-credential",p);if(d.ok&&!("errorMessage"in p))return p;{const y=d.ok?p.errorMessage:p.error.message,[b,E]=y.split(" : ");if(b==="FEDERATED_USER_ID_ALREADY_LINKED")throw $c(r,"credential-already-in-use",p);if(b==="EMAIL_EXISTS")throw $c(r,"email-already-in-use",p);if(b==="USER_DISABLED")throw $c(r,"user-disabled",p);const N=o[b]||b.toLowerCase().replace(/[_\s]+/g,"-");if(E)throw T0(r,N,E);si(r,N)}}catch(c){if(c instanceof or)throw c;si(r,"network-request-failed",{message:String(c)})}}async function pu(r,e,i,o,c={}){const d=await ur(r,e,i,o,c);return"mfaPendingCredential"in d&&si(r,"multi-factor-auth-required",{_serverResponse:d}),d}async function x0(r,e,i,o){const c=`${e}${i}?${o}`,d=r,p=d.config.emulator?q_(r.config,c):`${r.config.apiScheme}://${c}`;return Pw.includes(i)&&(await d._persistenceManagerAvailable,d._getPersistenceType()==="COOKIE")?d._getPersistence()._getFinalTarget(p).toString():p}function Uw(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Bw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,o)=>{this.timer=setTimeout(()=>o(Ei(this.auth,"network-request-failed")),zw.get())})}}function $c(r,e,i){const o={appName:r.name};i.email&&(o.email=i.email),i.phoneNumber&&(o.phoneNumber=i.phoneNumber);const c=Ei(r,e,o);return c.customData._tokenResponse=i,c}function ty(r){return r!==void 0&&r.enterprise!==void 0}class Hw{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===e)return Uw(i.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function jw(r,e){return ur(r,"GET","/v2/recaptchaConfig",lr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zw(r,e){return ur(r,"POST","/v1/accounts:delete",e)}async function dh(r,e){return ur(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ql(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function qw(r,e=!1){const i=Ge(r),o=await i.getIdToken(e),c=V_(o);ht(c&&c.exp&&c.auth_time&&c.iat,i.auth,"internal-error");const d=typeof c.firebase=="object"?c.firebase:void 0,p=d?.sign_in_provider;return{claims:c,token:o,authTime:Ql(i_(c.auth_time)),issuedAtTime:Ql(i_(c.iat)),expirationTime:Ql(i_(c.exp)),signInProvider:p||null,signInSecondFactor:d?.sign_in_second_factor||null}}function i_(r){return Number(r)*1e3}function V_(r){const[e,i,o]=r.split(".");if(e===void 0||i===void 0||o===void 0)return nh("JWT malformed, contained fewer than 3 sections"),null;try{const c=lh(i);return c?JSON.parse(c):(nh("Failed to decode base64 JWT payload"),null)}catch(c){return nh("Caught error parsing JWT payload as JSON",c?.toString()),null}}function ey(r){const e=V_(r);return ht(e,"internal-error"),ht(typeof e.exp<"u","internal-error"),ht(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function su(r,e,i=!1){if(i)return e;try{return await e}catch(o){throw o instanceof or&&Vw(o)&&r.auth.currentUser===r&&await r.auth.signOut(),o}}function Vw({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ql(this.lastLoginAt),this.creationTime=Ql(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _h(r){const e=r.auth,i=await r.getIdToken(),o=await su(r,dh(e,{idToken:i}));ht(o?.users.length,e,"internal-error");const c=o.users[0];r._notifyReloadListener(c);const d=c.providerUserInfo?.length?A0(c.providerUserInfo):[],p=Yw(r.providerData,d),y=r.isAnonymous,b=!(r.email&&c.passwordHash)&&!p?.length,E=y?b:!1,N={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:p,metadata:new y_(c.createdAt,c.lastLoginAt),isAnonymous:E};Object.assign(r,N)}async function Fw(r){const e=Ge(r);await _h(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Yw(r,e){return[...r.filter(o=>!e.some(c=>c.providerId===o.providerId)),...e]}function A0(r){return r.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ww(r,e){const i=await C0(r,{},async()=>{const o=Ao({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:c,apiKey:d}=r.config,p=await x0(r,c,"/v1/token",`key=${d}`),y=await r._getAdditionalHeaders();y["Content-Type"]="application/x-www-form-urlencoded";const b={method:"POST",headers:y,body:o};return r.emulatorConfig&&xo(r.emulatorConfig.host)&&(b.credentials="include"),w0.fetch()(p,b)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function Kw(r,e){return ur(r,"POST","/v2/accounts:revokeToken",lr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ht(e.idToken,"internal-error"),ht(typeof e.idToken<"u","internal-error"),ht(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ey(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){ht(e.length!==0,"internal-error");const i=ey(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(ht(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:o,refreshToken:c,expiresIn:d}=await Ww(e,i);this.updateTokensAndExpiration(o,c,Number(d))}updateTokensAndExpiration(e,i,o){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+o*1e3}static fromJSON(e,i){const{refreshToken:o,accessToken:c,expirationTime:d}=i,p=new _o;return o&&(ht(typeof o=="string","internal-error",{appName:e}),p.refreshToken=o),c&&(ht(typeof c=="string","internal-error",{appName:e}),p.accessToken=c),d&&(ht(typeof d=="number","internal-error",{appName:e}),p.expirationTime=d),p}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _o,this.toJSON())}_performRefresh(){return ts("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ks(r,e){ht(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ei{constructor({uid:e,auth:i,stsTokenManager:o,...c}){this.providerId="firebase",this.proactiveRefresh=new Gw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new y_(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(e){const i=await su(this,this.stsTokenManager.getToken(this.auth,e));return ht(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return qw(this,e)}reload(){return Fw(this)}_assign(e){this!==e&&(ht(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new ei({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){ht(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let o=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),o=!0),i&&await _h(this),await this.auth._persistUserIfCurrent(this),o&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(jn(this.auth.app))return Promise.reject(is(this.auth));const e=await this.getIdToken();return await su(this,Zw(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const o=i.displayName??void 0,c=i.email??void 0,d=i.phoneNumber??void 0,p=i.photoURL??void 0,y=i.tenantId??void 0,b=i._redirectEventId??void 0,E=i.createdAt??void 0,N=i.lastLoginAt??void 0,{uid:w,emailVerified:O,isAnonymous:F,providerData:K,stsTokenManager:tt}=i;ht(w&&tt,e,"internal-error");const Ot=_o.fromJSON(this.name,tt);ht(typeof w=="string",e,"internal-error"),Ks(o,e.name),Ks(c,e.name),ht(typeof O=="boolean",e,"internal-error"),ht(typeof F=="boolean",e,"internal-error"),Ks(d,e.name),Ks(p,e.name),Ks(y,e.name),Ks(b,e.name),Ks(E,e.name),Ks(N,e.name);const zt=new ei({uid:w,auth:e,email:c,emailVerified:O,displayName:o,isAnonymous:F,photoURL:p,phoneNumber:d,tenantId:y,stsTokenManager:Ot,createdAt:E,lastLoginAt:N});return K&&Array.isArray(K)&&(zt.providerData=K.map(te=>({...te}))),b&&(zt._redirectEventId=b),zt}static async _fromIdTokenResponse(e,i,o=!1){const c=new _o;c.updateFromServerResponse(i);const d=new ei({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:o});return await _h(d),d}static async _fromGetAccountInfoResponse(e,i,o){const c=i.users[0];ht(c.localId!==void 0,"internal-error");const d=c.providerUserInfo!==void 0?A0(c.providerUserInfo):[],p=!(c.email&&c.passwordHash)&&!d?.length,y=new _o;y.updateFromIdToken(o);const b=new ei({uid:c.localId,auth:e,stsTokenManager:y,isAnonymous:p}),E={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:d,metadata:new y_(c.createdAt,c.lastLoginAt),isAnonymous:!(c.email&&c.passwordHash)&&!d?.length};return Object.assign(b,E),b}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ny=new Map;function es(r){os(r instanceof Function,"Expected a class definition");let e=ny.get(r);return e?(os(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,ny.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}N0.type="NONE";const iy=N0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ih(r,e,i){return`firebase:${r}:${e}:${i}`}class mo{constructor(e,i,o){this.persistence=e,this.auth=i,this.userKey=o;const{config:c,name:d}=this.auth;this.fullUserKey=ih(this.userKey,c.apiKey,d),this.fullPersistenceKey=ih("persistence",c.apiKey,d),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await dh(this.auth,{idToken:e}).catch(()=>{});return i?ei._fromGetAccountInfoResponse(this.auth,i,e):null}return ei._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,o="authUser"){if(!i.length)return new mo(es(iy),e,o);const c=(await Promise.all(i.map(async E=>{if(await E._isAvailable())return E}))).filter(E=>E);let d=c[0]||es(iy);const p=ih(o,e.config.apiKey,e.name);let y=null;for(const E of i)try{const N=await E._get(p);if(N){let w;if(typeof N=="string"){const O=await dh(e,{idToken:N}).catch(()=>{});if(!O)break;w=await ei._fromGetAccountInfoResponse(e,O,N)}else w=ei._fromJSON(e,N);E!==d&&(y=w),d=E;break}}catch{}const b=c.filter(E=>E._shouldAllowMigration);return!d._shouldAllowMigration||!b.length?new mo(d,e,o):(d=b[0],y&&await d._set(p,y.toJSON()),await Promise.all(i.map(async E=>{if(E!==d)try{await E._remove(p)}catch{}})),new mo(d,e,o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sy(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(L0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(O0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(D0(e))return"Blackberry";if(k0(e))return"Webos";if(R0(e))return"Safari";if((e.includes("chrome/")||M0(e))&&!e.includes("edge/"))return"Chrome";if(I0(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,o=r.match(i);if(o?.length===2)return o[1]}return"Other"}function O0(r=nn()){return/firefox\//i.test(r)}function R0(r=nn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function M0(r=nn()){return/crios\//i.test(r)}function L0(r=nn()){return/iemobile/i.test(r)}function I0(r=nn()){return/android/i.test(r)}function D0(r=nn()){return/blackberry/i.test(r)}function k0(r=nn()){return/webos/i.test(r)}function G_(r=nn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function Qw(r=nn()){return G_(r)&&!!window.navigator?.standalone}function Xw(){return lT()&&document.documentMode===10}function P0(r=nn()){return G_(r)||I0(r)||k0(r)||D0(r)||/windows phone/i.test(r)||L0(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z0(r,e=[]){let i;switch(r){case"Browser":i=sy(nn());break;case"Worker":i=`${sy(nn())}-${r}`;break;default:i=r}const o=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${No}/${o}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const o=d=>new Promise((p,y)=>{try{const b=e(d);p(b)}catch(b){y(b)}});o.onAbort=i,this.queue.push(o);const c=this.queue.length-1;return()=>{this.queue[c]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const o of this.queue)await o(e),o.onAbort&&i.push(o.onAbort)}catch(o){i.reverse();for(const c of i)try{c()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:o?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $w(r,e={}){return ur(r,"GET","/v2/passwordPolicy",lr(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC=6;class eC{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??tC,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const o=this.customStrengthOptions.minPasswordLength,c=this.customStrengthOptions.maxPasswordLength;o&&(i.meetsMinPasswordLength=e.length>=o),c&&(i.meetsMaxPasswordLength=e.length<=c)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let o;for(let c=0;c<e.length;c++)o=e.charAt(c),this.updatePasswordCharacterOptionsStatuses(i,o>="a"&&o<="z",o>="A"&&o<="Z",o>="0"&&o<="9",this.allowedNonAlphanumericCharacters.includes(o))}updatePasswordCharacterOptionsStatuses(e,i,o,c,d){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=o)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=c)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e,i,o,c){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=o,this.config=c,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ry(this),this.idTokenSubscription=new ry(this),this.beforeStateQueue=new Jw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=S0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=c.sdkClientVersion,this._persistenceManagerAvailable=new Promise(d=>this._resolvePersistenceManagerAvailable=d)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=es(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await mo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await dh(this,{idToken:e}),o=await ei._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(o)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(jn(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(p,p))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,c=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=this.redirectUser?._redirectEventId,p=o?._redirectEventId,y=await this.tryRedirectSignIn(e);(!d||d===p)&&y?.user&&(o=y.user,c=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(o)}catch(d){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return ht(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await _h(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Dw()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(jn(this.app))return Promise.reject(is(this));const i=e?Ge(e):null;return i&&ht(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&ht(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return jn(this.app)?Promise.reject(is(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return jn(this.app)?Promise.reject(is(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(es(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await $w(this),i=new eC(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new _u("auth","Firebase",e())}onAuthStateChanged(e,i,o){return this.registerStateListener(this.authStateSubscription,e,i,o)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,o){return this.registerStateListener(this.idTokenSubscription,e,i,o)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const o=this.onAuthStateChanged(()=>{o(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),o={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(o.tenantId=this.tenantId),await Kw(this,o)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const o=await this.getOrInitRedirectPersistenceManager(i);return e===null?o.removeCurrentUser():o.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&es(e)||this._popupRedirectResolver;ht(i,this,"argument-error"),this.redirectPersistenceManager=await mo.create(this,[es(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,o,c){if(this._deleted)return()=>{};const d=typeof i=="function"?i:i.next.bind(i);let p=!1;const y=this._isInitialized?Promise.resolve():this._initializationPromise;if(ht(y,this,"internal-error"),y.then(()=>{p||d(this.currentUser)}),typeof i=="function"){const b=e.addObserver(i,o,c);return()=>{p=!0,b()}}else{const b=e.addObserver(i);return()=>{p=!0,b()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ht(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=z0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(e["X-Firebase-AppCheck"]=o),e}async _getAppCheckToken(){if(jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Mw(`Error while retrieving App Check token: ${e.error}`),e?.token}}function _a(r){return Ge(r)}class ry{constructor(e){this.auth=e,this.observer=null,this.addObserver=vT(i=>this.observer=i)}get next(){return ht(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ih={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function iC(r){Ih=r}function U0(r){return Ih.loadJS(r)}function sC(){return Ih.recaptchaEnterpriseScript}function rC(){return Ih.gapiScript}function aC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class oC{constructor(){this.enterprise=new lC}ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}class lC{ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}const uC="recaptcha-enterprise",B0="NO_RECAPTCHA";class cC{constructor(e){this.type=uC,this.auth=_a(e)}async verify(e="verify",i=!1){async function o(d){if(!i){if(d.tenantId==null&&d._agentRecaptchaConfig!=null)return d._agentRecaptchaConfig.siteKey;if(d.tenantId!=null&&d._tenantRecaptchaConfigs[d.tenantId]!==void 0)return d._tenantRecaptchaConfigs[d.tenantId].siteKey}return new Promise(async(p,y)=>{jw(d,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(b=>{if(b.recaptchaKey===void 0)y(new Error("recaptcha Enterprise site key undefined"));else{const E=new Hw(b);return d.tenantId==null?d._agentRecaptchaConfig=E:d._tenantRecaptchaConfigs[d.tenantId]=E,p(E.siteKey)}}).catch(b=>{y(b)})})}function c(d,p,y){const b=window.grecaptcha;ty(b)?b.enterprise.ready(()=>{b.enterprise.execute(d,{action:e}).then(E=>{p(E)}).catch(()=>{p(B0)})}):y(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new oC().execute("siteKey",{action:"verify"}):new Promise((d,p)=>{o(this.auth).then(y=>{if(!i&&ty(window.grecaptcha))c(y,d,p);else{if(typeof window>"u"){p(new Error("RecaptchaVerifier is only supported in browser"));return}let b=sC();b.length!==0&&(b+=y),U0(b).then(()=>{c(y,d,p)}).catch(E=>{p(E)})}}).catch(y=>{p(y)})})}}async function ay(r,e,i,o=!1,c=!1){const d=new cC(r);let p;if(c)p=B0;else try{p=await d.verify(i)}catch{p=await d.verify(i,!0)}const y={...e};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in y){const b=y.phoneEnrollmentInfo.phoneNumber,E=y.phoneEnrollmentInfo.recaptchaToken;Object.assign(y,{phoneEnrollmentInfo:{phoneNumber:b,recaptchaToken:E,captchaResponse:p,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in y){const b=y.phoneSignInInfo.recaptchaToken;Object.assign(y,{phoneSignInInfo:{recaptchaToken:b,captchaResponse:p,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return y}return o?Object.assign(y,{captchaResp:p}):Object.assign(y,{captchaResponse:p}),Object.assign(y,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(y,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),y}async function b_(r,e,i,o,c){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const d=await ay(r,e,i,i==="getOobCode");return o(r,d)}else return o(r,e).catch(async d=>{if(d.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const p=await ay(r,e,i,i==="getOobCode");return o(r,p)}else return Promise.reject(d)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hC(r,e){const i=j_(r,"auth");if(i.isInitialized()){const c=i.getImmediate(),d=i.getOptions();if(ra(d,e??{}))return c;si(c,"already-initialized")}return i.initialize({options:e})}function fC(r,e){const i=e?.persistence||[],o=(Array.isArray(i)?i:[i]).map(es);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(o,e?.popupRedirectResolver)}function dC(r,e,i){const o=_a(r);ht(/^https?:\/\//.test(e),o,"invalid-emulator-scheme");const c=!1,d=H0(e),{host:p,port:y}=_C(e),b=y===null?"":`:${y}`,E={url:`${d}//${p}${b}/`},N=Object.freeze({host:p,port:y,protocol:d.replace(":",""),options:Object.freeze({disableWarnings:c})});if(!o._canInitEmulator){ht(o.config.emulator&&o.emulatorConfig,o,"emulator-config-failed"),ht(ra(E,o.config.emulator)&&ra(N,o.emulatorConfig),o,"emulator-config-failed");return}o.config.emulator=E,o.emulatorConfig=N,o.settings.appVerificationDisabledForTesting=!0,xo(p)?(h0(`${d}//${p}${b}`),f0("Auth",!0)):mC()}function H0(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function _C(r){const e=H0(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!i)return{host:"",port:null};const o=i[2].split("@").pop()||"",c=/^(\[[^\]]+\])(:|$)/.exec(o);if(c){const d=c[1];return{host:d,port:oy(o.substr(d.length+1))}}else{const[d,p]=o.split(":");return{host:d,port:oy(p)}}}function oy(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function mC(){function r(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return ts("not implemented")}_getIdTokenResponse(e){return ts("not implemented")}_linkToIdToken(e,i){return ts("not implemented")}_getReauthenticationResolver(e){return ts("not implemented")}}async function pC(r,e){return ur(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gC(r,e){return pu(r,"POST","/v1/accounts:signInWithPassword",lr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vC(r,e){return pu(r,"POST","/v1/accounts:signInWithEmailLink",lr(r,e))}async function yC(r,e){return pu(r,"POST","/v1/accounts:signInWithEmailLink",lr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru extends F_{constructor(e,i,o,c=null){super("password",o),this._email=e,this._password=i,this._tenantId=c}static _fromEmailAndPassword(e,i){return new ru(e,i,"password")}static _fromEmailAndCode(e,i,o=null){return new ru(e,i,"emailLink",o)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return b_(e,i,"signInWithPassword",gC);case"emailLink":return vC(e,{email:this._email,oobCode:this._password});default:si(e,"internal-error")}}async _linkToIdToken(e,i){switch(this.signInMethod){case"password":const o={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return b_(e,o,"signUpPassword",pC);case"emailLink":return yC(e,{idToken:i,email:this._email,oobCode:this._password});default:si(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function po(r,e){return pu(r,"POST","/v1/accounts:signInWithIdp",lr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC="http://localhost";class oa extends F_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new oa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):si("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:o,signInMethod:c,...d}=i;if(!o||!c)return null;const p=new oa(o,c);return p.idToken=d.idToken||void 0,p.accessToken=d.accessToken||void 0,p.secret=d.secret,p.nonce=d.nonce,p.pendingToken=d.pendingToken||null,p}_getIdTokenResponse(e){const i=this.buildRequest();return po(e,i)}_linkToIdToken(e,i){const o=this.buildRequest();return o.idToken=i,po(e,o)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,po(e,i)}buildRequest(){const e={requestUri:bC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Ao(i)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EC(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function SC(r){const e=Fl(Yl(r)).link,i=e?Fl(Yl(e)).deep_link_id:null,o=Fl(Yl(r)).deep_link_id;return(o?Fl(Yl(o)).link:null)||o||i||e||r}class Y_{constructor(e){const i=Fl(Yl(e)),o=i.apiKey??null,c=i.oobCode??null,d=EC(i.mode??null);ht(o&&c&&d,"argument-error"),this.apiKey=o,this.operation=d,this.code=c,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(e){const i=SC(e);try{return new Y_(i)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(){this.providerId=Oo.PROVIDER_ID}static credential(e,i){return ru._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const o=Y_.parseLink(i);return ht(o,"argument-error"),ru._fromEmailAndCode(e,o.code,o.tenantId)}}Oo.PROVIDER_ID="password";Oo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Oo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu extends j0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs extends gu{constructor(){super("facebook.com")}static credential(e){return oa._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qs.credentialFromTaggedObject(e)}static credentialFromError(e){return Qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qs.credential(e.oauthAccessToken)}catch{return null}}}Qs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs extends gu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return oa._fromParams({providerId:Xs.PROVIDER_ID,signInMethod:Xs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return Xs.credentialFromTaggedObject(e)}static credentialFromError(e){return Xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:o}=e;if(!i&&!o)return null;try{return Xs.credential(i,o)}catch{return null}}}Xs.GOOGLE_SIGN_IN_METHOD="google.com";Xs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js extends gu{constructor(){super("github.com")}static credential(e){return oa._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Js.credentialFromTaggedObject(e)}static credentialFromError(e){return Js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Js.credential(e.oauthAccessToken)}catch{return null}}}Js.GITHUB_SIGN_IN_METHOD="github.com";Js.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s extends gu{constructor(){super("twitter.com")}static credential(e,i){return oa._fromParams({providerId:$s.PROVIDER_ID,signInMethod:$s.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return $s.credentialFromTaggedObject(e)}static credentialFromError(e){return $s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:o}=e;if(!i||!o)return null;try{return $s.credential(i,o)}catch{return null}}}$s.TWITTER_SIGN_IN_METHOD="twitter.com";$s.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TC(r,e){return pu(r,"POST","/v1/accounts:signUp",lr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,o,c=!1){const d=await ei._fromIdTokenResponse(e,o,c),p=ly(o);return new la({user:d,providerId:p,_tokenResponse:o,operationType:i})}static async _forOperation(e,i,o){await e._updateTokensIfNecessary(o,!0);const c=ly(o);return new la({user:e,providerId:c,_tokenResponse:o,operationType:i})}}function ly(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh extends or{constructor(e,i,o,c){super(i.code,i.message),this.operationType=o,this.user=c,Object.setPrototypeOf(this,mh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:o}}static _fromErrorAndOperation(e,i,o,c){return new mh(e,i,o,c)}}function Z0(r,e,i,o){return(e==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(d=>{throw d.code==="auth/multi-factor-auth-required"?mh._fromErrorAndOperation(r,d,e,o):d})}async function wC(r,e,i=!1){const o=await su(r,e._linkToIdToken(r.auth,await r.getIdToken()),i);return la._forOperation(r,"link",o)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CC(r,e,i=!1){const{auth:o}=r;if(jn(o.app))return Promise.reject(is(o));const c="reauthenticate";try{const d=await su(r,Z0(o,c,e,r),i);ht(d.idToken,o,"internal-error");const p=V_(d.idToken);ht(p,o,"internal-error");const{sub:y}=p;return ht(r.uid===y,o,"user-mismatch"),la._forOperation(r,c,d)}catch(d){throw d?.code==="auth/user-not-found"&&si(o,"user-mismatch"),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q0(r,e,i=!1){if(jn(r.app))return Promise.reject(is(r));const o="signIn",c=await Z0(r,o,e),d=await la._fromIdTokenResponse(r,o,c);return i||await r._updateCurrentUser(d.user),d}async function xC(r,e){return q0(_a(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V0(r){const e=_a(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function AC(r,e,i){if(jn(r.app))return Promise.reject(is(r));const o=_a(r),p=await b_(o,{returnSecureToken:!0,email:e,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",TC).catch(b=>{throw b.code==="auth/password-does-not-meet-requirements"&&V0(r),b}),y=await la._fromIdTokenResponse(o,"signIn",p);return await o._updateCurrentUser(y.user),y}function NC(r,e,i){return jn(r.app)?Promise.reject(is(r)):xC(Ge(r),Oo.credential(e,i)).catch(async o=>{throw o.code==="auth/password-does-not-meet-requirements"&&V0(r),o})}function OC(r,e,i,o){return Ge(r).onIdTokenChanged(e,i,o)}function RC(r,e,i){return Ge(r).beforeAuthStateChanged(e,i)}function MC(r,e,i,o){return Ge(r).onAuthStateChanged(e,i,o)}function LC(r){return Ge(r).signOut()}const ph="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(ph,"1"),this.storage.removeItem(ph),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC=1e3,DC=10;class F0 extends G0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=P0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const o=this.storage.getItem(i),c=this.localCache[i];o!==c&&e(i,c,o)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((p,y,b)=>{this.notifyListeners(p,b)});return}const o=e.key;i?this.detachListener():this.stopPolling();const c=()=>{const p=this.storage.getItem(o);!i&&this.localCache[o]===p||this.notifyListeners(o,p)},d=this.storage.getItem(o);Xw()&&d!==e.newValue&&e.newValue!==e.oldValue?setTimeout(c,DC):c()}notifyListeners(e,i){this.localCache[e]=i;const o=this.listeners[e];if(o)for(const c of Array.from(o))c(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,o)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:o}),!0)})},IC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}F0.type="LOCAL";const kC=F0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0 extends G0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}Y0.type="SESSION";const W0=Y0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(c=>c.isListeningto(e));if(i)return i;const o=new Dh(e);return this.receivers.push(o),o}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:o,eventType:c,data:d}=i.data,p=this.handlersMap[c];if(!p?.size)return;i.ports[0].postMessage({status:"ack",eventId:o,eventType:c});const y=Array.from(p).map(async E=>E(i.origin,d)),b=await PC(y);i.ports[0].postMessage({status:"done",eventId:o,eventType:c,response:b})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Dh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W_(r="",e=10){let i="";for(let o=0;o<e;o++)i+=Math.floor(Math.random()*10);return r+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,o=50){const c=typeof MessageChannel<"u"?new MessageChannel:null;if(!c)throw new Error("connection_unavailable");let d,p;return new Promise((y,b)=>{const E=W_("",20);c.port1.start();const N=setTimeout(()=>{b(new Error("unsupported_event"))},o);p={messageChannel:c,onMessage(w){const O=w;if(O.data.eventId===E)switch(O.data.status){case"ack":clearTimeout(N),d=setTimeout(()=>{b(new Error("timeout"))},3e3);break;case"done":clearTimeout(d),y(O.data.response);break;default:clearTimeout(N),clearTimeout(d),b(new Error("invalid_response"));break}}},this.handlers.add(p),c.port1.addEventListener("message",p.onMessage),this.target.postMessage({eventType:e,eventId:E,data:i},[c.port2])}).finally(()=>{p&&this.removeMessageHandler(p)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Si(){return window}function UC(r){Si().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K0(){return typeof Si().WorkerGlobalScope<"u"&&typeof Si().importScripts=="function"}async function BC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function HC(){return navigator?.serviceWorker?.controller||null}function jC(){return K0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0="firebaseLocalStorageDb",ZC=1,gh="firebaseLocalStorage",X0="fbase_key";class vu{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function kh(r,e){return r.transaction([gh],e?"readwrite":"readonly").objectStore(gh)}function qC(){const r=indexedDB.deleteDatabase(Q0);return new vu(r).toPromise()}function E_(){const r=indexedDB.open(Q0,ZC);return new Promise((e,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const o=r.result;try{o.createObjectStore(gh,{keyPath:X0})}catch(c){i(c)}}),r.addEventListener("success",async()=>{const o=r.result;o.objectStoreNames.contains(gh)?e(o):(o.close(),await qC(),e(await E_()))})})}async function uy(r,e,i){const o=kh(r,!0).put({[X0]:e,value:i});return new vu(o).toPromise()}async function VC(r,e){const i=kh(r,!1).get(e),o=await new vu(i).toPromise();return o===void 0?null:o.value}function cy(r,e){const i=kh(r,!0).delete(e);return new vu(i).toPromise()}const GC=800,FC=3;class J0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await E_(),this.db)}async _withRetries(e){let i=0;for(;;)try{const o=await this._openDb();return await e(o)}catch(o){if(i++>FC)throw o;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return K0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Dh._getInstance(jC()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await BC(),!this.activeServiceWorker)return;this.sender=new zC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||HC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await E_();return await uy(e,ph,"1"),await cy(e,ph),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(o=>uy(o,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(o=>VC(o,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>cy(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(c=>{const d=kh(c,!1).getAll();return new vu(d).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],o=new Set;if(e.length!==0)for(const{fbase_key:c,value:d}of e)o.add(c),JSON.stringify(this.localCache[c])!==JSON.stringify(d)&&(this.notifyListeners(c,d),i.push(c));for(const c of Object.keys(this.localCache))this.localCache[c]&&!o.has(c)&&(this.notifyListeners(c,null),i.push(c));return i}notifyListeners(e,i){this.localCache[e]=i;const o=this.listeners[e];if(o)for(const c of Array.from(o))c(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),GC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}J0.type="LOCAL";const YC=J0;new mu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WC(r,e){return e?es(e):(ht(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_ extends F_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return po(e,this._buildIdpRequest())}_linkToIdToken(e,i){return po(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return po(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function KC(r){return q0(r.auth,new K_(r),r.bypassAuthState)}function QC(r){const{auth:e,user:i}=r;return ht(i,e,"internal-error"),CC(i,new K_(r),r.bypassAuthState)}async function XC(r){const{auth:e,user:i}=r;return ht(i,e,"internal-error"),wC(i,new K_(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(e,i,o,c,d=!1){this.auth=e,this.resolver=o,this.user=c,this.bypassAuthState=d,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(o){this.reject(o)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:o,postBody:c,tenantId:d,error:p,type:y}=e;if(p){this.reject(p);return}const b={auth:this.auth,requestUri:i,sessionId:o,tenantId:d||void 0,postBody:c||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(y)(b))}catch(E){this.reject(E)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return KC;case"linkViaPopup":case"linkViaRedirect":return XC;case"reauthViaPopup":case"reauthViaRedirect":return QC;default:si(this.auth,"internal-error")}}resolve(e){os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC=new mu(2e3,1e4);class co extends $0{constructor(e,i,o,c,d){super(e,i,c,d),this.provider=o,this.authWindow=null,this.pollId=null,co.currentPopupAction&&co.currentPopupAction.cancel(),co.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ht(e,this.auth,"internal-error"),e}async onExecution(){os(this.filter.length===1,"Popup operations only handle one event");const e=W_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ei(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ei(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,co.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ei(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,JC.get())};e()}}co.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C="pendingRedirect",sh=new Map;class t1 extends $0{constructor(e,i,o=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,o),this.eventId=null}async execute(){let e=sh.get(this.auth._key());if(!e){try{const o=await e1(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(o)}catch(i){e=()=>Promise.reject(i)}sh.set(this.auth._key(),e)}return this.bypassAuthState||sh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function e1(r,e){const i=s1(e),o=i1(r);if(!await o._isAvailable())return!1;const c=await o._get(i)==="true";return await o._remove(i),c}function n1(r,e){sh.set(r._key(),e)}function i1(r){return es(r._redirectPersistence)}function s1(r){return ih($C,r.config.apiKey,r.name)}async function r1(r,e,i=!1){if(jn(r.app))return Promise.reject(is(r));const o=_a(r),c=WC(o,e),p=await new t1(o,c,i).execute();return p&&!i&&(delete p.user._redirectEventId,await o._persistUserIfCurrent(p.user),await o._setRedirectUser(null,e)),p}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1=600*1e3;class o1{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(o=>{this.isEventForConsumer(e,o)&&(i=!0,this.sendToConsumer(e,o),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!l1(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!tb(e)){const o=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Ei(this.auth,o))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const o=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&o}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=a1&&this.cachedEventUids.clear(),this.cachedEventUids.has(hy(e))}saveEventToCache(e){this.cachedEventUids.add(hy(e)),this.lastProcessedEventTime=Date.now()}}function hy(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function tb({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function l1(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tb(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u1(r,e={}){return ur(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,h1=/^https?/;async function f1(r){if(r.config.emulator)return;const{authorizedDomains:e}=await u1(r);for(const i of e)try{if(d1(i))return}catch{}si(r,"unauthorized-domain")}function d1(r){const e=v_(),{protocol:i,hostname:o}=new URL(e);if(r.startsWith("chrome-extension://")){const p=new URL(r);return p.hostname===""&&o===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&p.hostname===o}if(!h1.test(i))return!1;if(c1.test(r))return o===r;const c=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+c+"|"+c+")$","i").test(o)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1=new mu(3e4,6e4);function fy(){const r=Si().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function m1(r){return new Promise((e,i)=>{function o(){fy(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{fy(),i(Ei(r,"network-request-failed"))},timeout:_1.get()})}if(Si().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Si().gapi?.load)o();else{const c=aC("iframefcb");return Si()[c]=()=>{gapi.load?o():i(Ei(r,"network-request-failed"))},U0(`${rC()}?onload=${c}`).catch(d=>i(d))}}).catch(e=>{throw rh=null,e})}let rh=null;function p1(r){return rh=rh||m1(r),rh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1=new mu(5e3,15e3),v1="__/auth/iframe",y1="emulator/auth/iframe",b1={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},E1=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function S1(r){const e=r.config;ht(e.authDomain,r,"auth-domain-config-required");const i=e.emulator?q_(e,y1):`https://${r.config.authDomain}/${v1}`,o={apiKey:e.apiKey,appName:r.name,v:No},c=E1.get(r.config.apiHost);c&&(o.eid=c);const d=r._getFrameworks();return d.length&&(o.fw=d.join(",")),`${i}?${Ao(o).slice(1)}`}async function T1(r){const e=await p1(r),i=Si().gapi;return ht(i,r,"internal-error"),e.open({where:document.body,url:S1(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:b1,dontclear:!0},o=>new Promise(async(c,d)=>{await o.restyle({setHideOnLeave:!1});const p=Ei(r,"network-request-failed"),y=Si().setTimeout(()=>{d(p)},g1.get());function b(){Si().clearTimeout(y),c(o)}o.ping(b).then(b,()=>{d(p)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},C1=500,x1=600,A1="_blank",N1="http://localhost";class dy{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function O1(r,e,i,o=C1,c=x1){const d=Math.max((window.screen.availHeight-c)/2,0).toString(),p=Math.max((window.screen.availWidth-o)/2,0).toString();let y="";const b={...w1,width:o.toString(),height:c.toString(),top:d,left:p},E=nn().toLowerCase();i&&(y=M0(E)?A1:i),O0(E)&&(e=e||N1,b.scrollbars="yes");const N=Object.entries(b).reduce((O,[F,K])=>`${O}${F}=${K},`,"");if(Qw(E)&&y!=="_self")return R1(e||"",y),new dy(null);const w=window.open(e||"",y,N);ht(w,r,"popup-blocked");try{w.focus()}catch{}return new dy(w)}function R1(r,e){const i=document.createElement("a");i.href=r,i.target=e;const o=document.createEvent("MouseEvent");o.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1="__/auth/handler",L1="emulator/auth/handler",I1=encodeURIComponent("fac");async function _y(r,e,i,o,c,d){ht(r.config.authDomain,r,"auth-domain-config-required"),ht(r.config.apiKey,r,"invalid-api-key");const p={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:o,v:No,eventId:c};if(e instanceof j0){e.setDefaultLanguage(r.languageCode),p.providerId=e.providerId||"",uh(e.getCustomParameters())||(p.customParameters=JSON.stringify(e.getCustomParameters()));for(const[N,w]of Object.entries({}))p[N]=w}if(e instanceof gu){const N=e.getScopes().filter(w=>w!=="");N.length>0&&(p.scopes=N.join(","))}r.tenantId&&(p.tid=r.tenantId);const y=p;for(const N of Object.keys(y))y[N]===void 0&&delete y[N];const b=await r._getAppCheckToken(),E=b?`#${I1}=${encodeURIComponent(b)}`:"";return`${D1(r)}?${Ao(y).slice(1)}${E}`}function D1({config:r}){return r.emulator?q_(r,L1):`https://${r.authDomain}/${M1}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s_="webStorageSupport";class k1{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=W0,this._completeRedirectFn=r1,this._overrideRedirectResult=n1}async _openPopup(e,i,o,c){os(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const d=await _y(e,i,o,v_(),c);return O1(e,d,W_())}async _openRedirect(e,i,o,c){await this._originValidation(e);const d=await _y(e,i,o,v_(),c);return UC(d),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:c,promise:d}=this.eventManagers[i];return c?Promise.resolve(c):(os(d,"If manager is not set, promise should be"),d)}const o=this.initAndGetManager(e);return this.eventManagers[i]={promise:o},o.catch(()=>{delete this.eventManagers[i]}),o}async initAndGetManager(e){const i=await T1(e),o=new o1(e);return i.register("authEvent",c=>(ht(c?.authEvent,e,"invalid-auth-event"),{status:o.onEvent(c.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:o},this.iframes[e._key()]=i,o}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(s_,{type:s_},c=>{const d=c?.[0]?.[s_];d!==void 0&&i(!!d),si(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=f1(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return P0()||R0()||G_()}}const P1=k1;var my="@firebase/auth",py="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(o=>{e(o?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){ht(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function B1(r){Eo(new aa("auth",(e,{options:i})=>{const o=e.getProvider("app").getImmediate(),c=e.getProvider("heartbeat"),d=e.getProvider("app-check-internal"),{apiKey:p,authDomain:y}=o.options;ht(p&&!p.includes(":"),"invalid-api-key",{appName:o.name});const b={apiKey:p,authDomain:y,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:z0(r)},E=new nC(o,c,d,b);return fC(E,i),E},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,o)=>{e.getProvider("auth-internal").initialize()})),Eo(new aa("auth-internal",e=>{const i=_a(e.getProvider("auth").getImmediate());return(o=>new z1(o))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),nr(my,py,U1(r)),nr(my,py,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1=300,j1=c0("authIdTokenMaxAge")||H1;let gy=null;const Z1=r=>async e=>{const i=e&&await e.getIdTokenResult(),o=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(o&&o>j1)return;const c=i?.token;gy!==c&&(gy=c,await fetch(r,{method:c?"POST":"DELETE",headers:c?{Authorization:`Bearer ${c}`}:{}}))};function q1(r=v0()){const e=j_(r,"auth");if(e.isInitialized())return e.getImmediate();const i=hC(r,{popupRedirectResolver:P1,persistence:[YC,kC,W0]}),o=c0("authTokenSyncURL");if(o&&typeof isSecureContext=="boolean"&&isSecureContext){const d=new URL(o,location.origin);if(location.origin===d.origin){const p=Z1(d.toString());RC(i,p,()=>p(i.currentUser)),OC(i,y=>p(y))}}const c=l0("auth");return c&&dC(i,`http://${c}`),i}function V1(){return document.getElementsByTagName("head")?.[0]??document}iC({loadJS(r){return new Promise((e,i)=>{const o=document.createElement("script");o.setAttribute("src",r),o.onload=e,o.onerror=c=>{const d=Ei("internal-error");d.customData=c,i(d)},o.type="text/javascript",o.charset="UTF-8",V1().appendChild(o)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});B1("Browser");var G1="firebase",F1="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nr(G1,F1,"app");var vy={};const yy="@firebase/database",by="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eb="";function Y1(r){eb=r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,i){i==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),ze(i))}get(e){const i=this.domStorage_.getItem(this.prefixedName_(e));return i==null?null:nu(i)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,i){i==null?delete this.cache_[e]:this.cache_[e]=i}get(e){return Ti(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb=function(r){try{if(typeof window<"u"&&typeof window[r]<"u"){const e=window[r];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new W1(e)}}catch{}return new K1},na=nb("localStorage"),Q1=nb("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const go=new B_("@firebase/database"),X1=(function(){let r=1;return function(){return r++}})(),ib=function(r){const e=ET(r),i=new gT;i.update(e);const o=i.digest();return P_.encodeByteArray(o)},yu=function(...r){let e="";for(let i=0;i<r.length;i++){const o=r[i];Array.isArray(o)||o&&typeof o=="object"&&typeof o.length=="number"?e+=yu.apply(null,o):typeof o=="object"?e+=ze(o):e+=o,e+=" "}return e};let Xl=null,Ey=!0;const J1=function(r,e){Q(!0,"Can't turn on custom loggers persistently."),go.logLevel=Kt.VERBOSE,Xl=go.log.bind(go)},Ve=function(...r){if(Ey===!0&&(Ey=!1,Xl===null&&Q1.get("logging_enabled")===!0&&J1()),Xl){const e=yu.apply(null,r);Xl(e)}},bu=function(r){return function(...e){Ve(r,...e)}},S_=function(...r){const e="FIREBASE INTERNAL ERROR: "+yu(...r);go.error(e)},ls=function(...r){const e=`FIREBASE FATAL ERROR: ${yu(...r)}`;throw go.error(e),new Error(e)},yn=function(...r){const e="FIREBASE WARNING: "+yu(...r);go.warn(e)},$1=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&yn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Ph=function(r){return typeof r=="number"&&(r!==r||r===Number.POSITIVE_INFINITY||r===Number.NEGATIVE_INFINITY)},tx=function(r){if(document.readyState==="complete")r();else{let e=!1;const i=function(){if(!document.body){setTimeout(i,Math.floor(10));return}e||(e=!0,r())};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&i()}),window.attachEvent("onload",i))}},ua="[MIN_NAME]",sr="[MAX_NAME]",ma=function(r,e){if(r===e)return 0;if(r===ua||e===sr)return-1;if(e===ua||r===sr)return 1;{const i=Sy(r),o=Sy(e);return i!==null?o!==null?i-o===0?r.length-e.length:i-o:-1:o!==null?1:r<e?-1:1}},ex=function(r,e){return r===e?0:r<e?-1:1},Zl=function(r,e){if(e&&r in e)return e[r];throw new Error("Missing required key ("+r+") in object: "+ze(e))},Q_=function(r){if(typeof r!="object"||r===null)return ze(r);const e=[];for(const o in r)e.push(o);e.sort();let i="{";for(let o=0;o<e.length;o++)o!==0&&(i+=","),i+=ze(e[o]),i+=":",i+=Q_(r[e[o]]);return i+="}",i},sb=function(r,e){const i=r.length;if(i<=e)return[r];const o=[];for(let c=0;c<i;c+=e)c+e>i?o.push(r.substring(c,i)):o.push(r.substring(c,c+e));return o};function Ke(r,e){for(const i in r)r.hasOwnProperty(i)&&e(i,r[i])}const rb=function(r){Q(!Ph(r),"Invalid JSON number");const e=11,i=52,o=(1<<e-1)-1;let c,d,p,y,b;r===0?(d=0,p=0,c=1/r===-1/0?1:0):(c=r<0,r=Math.abs(r),r>=Math.pow(2,1-o)?(y=Math.min(Math.floor(Math.log(r)/Math.LN2),o),d=y+o,p=Math.round(r*Math.pow(2,i-y)-Math.pow(2,i))):(d=0,p=Math.round(r/Math.pow(2,1-o-i))));const E=[];for(b=i;b;b-=1)E.push(p%2?1:0),p=Math.floor(p/2);for(b=e;b;b-=1)E.push(d%2?1:0),d=Math.floor(d/2);E.push(c?1:0),E.reverse();const N=E.join("");let w="";for(b=0;b<64;b+=8){let O=parseInt(N.substr(b,8),2).toString(16);O.length===1&&(O="0"+O),w=w+O}return w.toLowerCase()},nx=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},ix=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function sx(r,e){let i="Unknown Error";r==="too_big"?i="The data requested exceeds the maximum size that can be accessed with a single request.":r==="permission_denied"?i="Client doesn't have permission to access the desired data.":r==="unavailable"&&(i="The service is unavailable");const o=new Error(r+" at "+e._path.toString()+": "+i);return o.code=r.toUpperCase(),o}const rx=new RegExp("^-?(0*)\\d{1,10}$"),ax=-2147483648,ox=2147483647,Sy=function(r){if(rx.test(r)){const e=Number(r);if(e>=ax&&e<=ox)return e}return null},Ro=function(r){try{r()}catch(e){setTimeout(()=>{const i=e.stack||"";throw yn("Exception was thrown by user callback.",i),e},Math.floor(0))}},lx=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Jl=function(r,e){const i=setTimeout(r,e);return typeof i=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(i):typeof i=="object"&&i.unref&&i.unref(),i};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(e,i){this.appCheckProvider=i,this.appName=e.name,jn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=i?.getImmediate({optional:!0}),this.appCheck||i?.get().then(o=>this.appCheck=o)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((i,o)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(i,o):i(null)},0)})}addTokenChangeListener(e){this.appCheckProvider?.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){yn(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(e,i,o){this.appName_=e,this.firebaseOptions_=i,this.authProvider_=o,this.auth_=null,this.auth_=o.getImmediate({optional:!0}),this.auth_||o.onInit(c=>this.auth_=c)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(i=>i&&i.code==="auth/token-not-initialized"?(Ve("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(i)):new Promise((i,o)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(i,o):i(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(i=>i.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(i=>i.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',yn(e)}}class ah{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}ah.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_="5",ab="v",ob="s",lb="r",ub="f",cb=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,hb="ls",fb="p",T_="ac",db="websocket",_b="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(e,i,o,c,d=!1,p="",y=!1,b=!1,E=null){this.secure=i,this.namespace=o,this.webSocketOnly=c,this.nodeAdmin=d,this.persistenceKey=p,this.includeNamespaceInQueryParams=y,this.isUsingEmulator=b,this.emulatorOptions=E,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=na.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&na.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",i=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${i}`}}function hx(r){return r.host!==r.internalHost||r.isCustomHost()||r.includeNamespaceInQueryParams}function pb(r,e,i){Q(typeof e=="string","typeof type must == string"),Q(typeof i=="object","typeof params must == object");let o;if(e===db)o=(r.secure?"wss://":"ws://")+r.internalHost+"/.ws?";else if(e===_b)o=(r.secure?"https://":"http://")+r.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);hx(r)&&(i.ns=r.namespace);const c=[];return Ke(i,(d,p)=>{c.push(d+"="+p)}),o+c.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(){this.counters_={}}incrementCounter(e,i=1){Ti(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=i}get(){return QS(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r_={},a_={};function J_(r){const e=r.toString();return r_[e]||(r_[e]=new fx),r_[e]}function dx(r,e){const i=r.toString();return a_[i]||(a_[i]=e()),a_[i]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,i){this.closeAfterResponse=e,this.onClose=i,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,i){for(this.pendingResponses[e]=i;this.pendingResponses[this.currentResponseNum];){const o=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let c=0;c<o.length;++c)o[c]&&Ro(()=>{this.onMessage_(o[c])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ty="start",mx="close",px="pLPCommand",gx="pRTLPCB",gb="id",vb="pw",yb="ser",vx="cb",yx="seg",bx="ts",Ex="d",Sx="dframe",bb=1870,Eb=30,Tx=bb-Eb,wx=25e3,Cx=3e4;class ho{constructor(e,i,o,c,d,p,y){this.connId=e,this.repoInfo=i,this.applicationId=o,this.appCheckToken=c,this.authToken=d,this.transportSessionId=p,this.lastSessionId=y,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=bu(e),this.stats_=J_(i),this.urlFn=b=>(this.appCheckToken&&(b[T_]=this.appCheckToken),pb(i,_b,b))}open(e,i){this.curSegmentNum=0,this.onDisconnect_=i,this.myPacketOrderer=new _x(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Cx)),tx(()=>{if(this.isClosed_)return;this.scriptTagHolder=new $_((...d)=>{const[p,y,b,E,N]=d;if(this.incrementIncomingBytes_(d),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,p===Ty)this.id=y,this.password=b;else if(p===mx)y?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(y,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+p)},(...d)=>{const[p,y]=d;this.incrementIncomingBytes_(d),this.myPacketOrderer.handleResponse(p,y)},()=>{this.onClosed_()},this.urlFn);const o={};o[Ty]="t",o[yb]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(o[vx]=this.scriptTagHolder.uniqueCallbackIdentifier),o[ab]=X_,this.transportSessionId&&(o[ob]=this.transportSessionId),this.lastSessionId&&(o[hb]=this.lastSessionId),this.applicationId&&(o[fb]=this.applicationId),this.appCheckToken&&(o[T_]=this.appCheckToken),typeof location<"u"&&location.hostname&&cb.test(location.hostname)&&(o[lb]=ub);const c=this.urlFn(o);this.log_("Connecting via long-poll to "+c),this.scriptTagHolder.addTag(c,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ho.forceAllow_=!0}static forceDisallow(){ho.forceDisallow_=!0}static isAvailable(){return ho.forceAllow_?!0:!ho.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!nx()&&!ix()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const i=ze(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const o=a0(i),c=sb(o,Tx);for(let d=0;d<c.length;d++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,c.length,c[d]),this.curSegmentNum++}addDisconnectPingFrame(e,i){this.myDisconnFrame=document.createElement("iframe");const o={};o[Sx]="t",o[gb]=e,o[vb]=i,this.myDisconnFrame.src=this.urlFn(o),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const i=ze(e).length;this.bytesReceived+=i,this.stats_.incrementCounter("bytes_received",i)}}class $_{constructor(e,i,o,c){this.onDisconnect=o,this.urlFn=c,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=X1(),window[px+this.uniqueCallbackIdentifier]=e,window[gx+this.uniqueCallbackIdentifier]=i,this.myIFrame=$_.createIFrame_();let d="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(d='<script>document.domain="'+document.domain+'";<\/script>');const p="<html><body>"+d+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(p),this.myIFrame.doc.close()}catch(y){Ve("frame writing exception"),y.stack&&Ve(y.stack),Ve(y)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Ve("No IE domain setting required")}catch{const o=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+o+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,i){for(this.myID=e,this.myPW=i,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[gb]=this.myID,e[vb]=this.myPW,e[yb]=this.currentSerial;let i=this.urlFn(e),o="",c=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Eb+o.length<=bb;){const p=this.pendingSegs.shift();o=o+"&"+yx+c+"="+p.seg+"&"+bx+c+"="+p.ts+"&"+Ex+c+"="+p.d,c++}return i=i+o,this.addLongPollTag_(i,this.currentSerial),!0}else return!1}enqueueSegment(e,i,o){this.pendingSegs.push({seg:e,ts:i,d:o}),this.alive&&this.newRequest_()}addLongPollTag_(e,i){this.outstandingRequests.add(i);const o=()=>{this.outstandingRequests.delete(i),this.newRequest_()},c=setTimeout(o,Math.floor(wx)),d=()=>{clearTimeout(c),o()};this.addTag(e,d)}addTag(e,i){setTimeout(()=>{try{if(!this.sendNewPolls)return;const o=this.myIFrame.doc.createElement("script");o.type="text/javascript",o.async=!0,o.src=e,o.onload=o.onreadystatechange=function(){const c=o.readyState;(!c||c==="loaded"||c==="complete")&&(o.onload=o.onreadystatechange=null,o.parentNode&&o.parentNode.removeChild(o),i())},o.onerror=()=>{Ve("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(o)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xx=16384,Ax=45e3;let vh=null;typeof MozWebSocket<"u"?vh=MozWebSocket:typeof WebSocket<"u"&&(vh=WebSocket);class ti{constructor(e,i,o,c,d,p,y){this.connId=e,this.applicationId=o,this.appCheckToken=c,this.authToken=d,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=bu(this.connId),this.stats_=J_(i),this.connURL=ti.connectionURL_(i,p,y,c,o),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,o,c,d){const p={};return p[ab]=X_,typeof location<"u"&&location.hostname&&cb.test(location.hostname)&&(p[lb]=ub),i&&(p[ob]=i),o&&(p[hb]=o),c&&(p[T_]=c),d&&(p[fb]=d),pb(e,db,p)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,na.set("previous_websocket_failure",!0);try{let o;uT(),this.mySock=new vh(this.connURL,[],o)}catch(o){this.log_("Error instantiating WebSocket.");const c=o.message||o.data;c&&this.log_(c),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=o=>{this.handleIncomingFrame(o)},this.mySock.onerror=o=>{this.log_("WebSocket error.  Closing connection.");const c=o.message||o.data;c&&this.log_(c),this.onClosed_()}}start(){}static forceDisallow(){ti.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=/Android ([0-9]{0,}\.[0-9]{0,})/,o=navigator.userAgent.match(i);o&&o.length>1&&parseFloat(o[1])<4.4&&(e=!0)}return!e&&vh!==null&&!ti.forceDisallow_}static previouslyFailed(){return na.isInMemoryStorage||na.get("previous_websocket_failure")===!0}markConnectionHealthy(){na.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const o=nu(i);this.onMessage(o)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Q(this.frames===null,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{const o=this.extractFrameCount_(i);o!==null&&this.appendFrame_(o)}}send(e){this.resetKeepAlive();const i=ze(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const o=sb(i,xx);o.length>1&&this.sendString_(String(o.length));for(let c=0;c<o.length;c++)this.sendString_(o[c])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Ax))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}ti.responsesRequiredToBeHealthy=2;ti.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{static get ALL_TRANSPORTS(){return[ho,ti]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const i=ti&&ti.isAvailable();let o=i&&!ti.previouslyFailed();if(e.webSocketOnly&&(i||yn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[ti];else{const c=this.transports_=[];for(const d of au.ALL_TRANSPORTS)d&&d.isAvailable()&&c.push(d);au.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}au.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx=6e4,Ox=5e3,Rx=10*1024,Mx=100*1024,o_="t",wy="d",Lx="s",Cy="r",Ix="e",xy="o",Ay="a",Ny="n",Oy="p",Dx="h";class kx{constructor(e,i,o,c,d,p,y,b,E,N){this.id=e,this.repoInfo_=i,this.applicationId_=o,this.appCheckToken_=c,this.authToken_=d,this.onMessage_=p,this.onReady_=y,this.onDisconnect_=b,this.onKill_=E,this.lastSessionId=N,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=bu("c:"+this.id+":"),this.transportManager_=new au(i),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.conn_),o=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(i,o)},Math.floor(0));const c=e.healthyTimeout||0;c>0&&(this.healthyTimeout_=Jl(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Mx?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Rx?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(c)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return i=>{e===this.conn_?this.onConnectionLost_(i):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return i=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(i):e===this.secondaryConn_?this.onSecondaryMessageReceived_(i):this.log_("message on old connection"))}}sendRequest(e){const i={t:"d",d:e};this.sendData_(i)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(o_ in e){const i=e[o_];i===Ay?this.upgradeIfSecondaryHealthy_():i===Cy?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):i===xy&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const i=Zl("t",e),o=Zl("d",e);if(i==="c")this.onSecondaryControl_(o);else if(i==="d")this.pendingDataMessages.push(o);else throw new Error("Unknown protocol layer: "+i)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Oy,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Ay,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Ny,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const i=Zl("t",e),o=Zl("d",e);i==="c"?this.onControl_(o):i==="d"&&this.onDataMessage_(o)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const i=Zl(o_,e);if(wy in e){const o=e[wy];if(i===Dx){const c={...o};this.repoInfo_.isUsingEmulator&&(c.h=this.repoInfo_.host),this.onHandshake_(c)}else if(i===Ny){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let c=0;c<this.pendingDataMessages.length;++c)this.onDataMessage_(this.pendingDataMessages[c]);this.pendingDataMessages=[],this.tryCleanupConnection()}else i===Lx?this.onConnectionShutdown_(o):i===Cy?this.onReset_(o):i===Ix?S_("Server Error: "+o):i===xy?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):S_("Unknown control packet command: "+i)}}onHandshake_(e){const i=e.ts,o=e.v,c=e.h;this.sessionId=e.s,this.repoInfo_.host=c,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,i),X_!==o&&yn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.secondaryConn_),o=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,o),Jl(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Nx))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,i){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(i,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Jl(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Ox))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Oy,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(na.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{put(e,i,o,c){}merge(e,i,o,c){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,i,o){}onDisconnectMerge(e,i,o){}onDisconnectCancel(e,i){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(e){this.allowedEvents_=e,this.listeners_={},Q(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...i){if(Array.isArray(this.listeners_[e])){const o=[...this.listeners_[e]];for(let c=0;c<o.length;c++)o[c].callback.apply(o[c].context,i)}}on(e,i,o){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:i,context:o});const c=this.getInitialEvent(e);c&&i.apply(o,c)}off(e,i,o){this.validateEventType_(e);const c=this.listeners_[e]||[];for(let d=0;d<c.length;d++)if(c[d].callback===i&&(!o||o===c[d].context)){c.splice(d,1);return}}validateEventType_(e){Q(this.allowedEvents_.find(i=>i===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh extends Tb{static getInstance(){return new yh}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!U_()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return Q(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ry=32,My=768;class Zt{constructor(e,i){if(i===void 0){this.pieces_=e.split("/");let o=0;for(let c=0;c<this.pieces_.length;c++)this.pieces_[c].length>0&&(this.pieces_[o]=this.pieces_[c],o++);this.pieces_.length=o,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=i}toString(){let e="";for(let i=this.pieceNum_;i<this.pieces_.length;i++)this.pieces_[i]!==""&&(e+="/"+this.pieces_[i]);return e||"/"}}function Ht(){return new Zt("")}function Et(r){return r.pieceNum_>=r.pieces_.length?null:r.pieces_[r.pieceNum_]}function rr(r){return r.pieces_.length-r.pieceNum_}function $t(r){let e=r.pieceNum_;return e<r.pieces_.length&&e++,new Zt(r.pieces_,e)}function tm(r){return r.pieceNum_<r.pieces_.length?r.pieces_[r.pieces_.length-1]:null}function Px(r){let e="";for(let i=r.pieceNum_;i<r.pieces_.length;i++)r.pieces_[i]!==""&&(e+="/"+encodeURIComponent(String(r.pieces_[i])));return e||"/"}function ou(r,e=0){return r.pieces_.slice(r.pieceNum_+e)}function wb(r){if(r.pieceNum_>=r.pieces_.length)return null;const e=[];for(let i=r.pieceNum_;i<r.pieces_.length-1;i++)e.push(r.pieces_[i]);return new Zt(e,0)}function ge(r,e){const i=[];for(let o=r.pieceNum_;o<r.pieces_.length;o++)i.push(r.pieces_[o]);if(e instanceof Zt)for(let o=e.pieceNum_;o<e.pieces_.length;o++)i.push(e.pieces_[o]);else{const o=e.split("/");for(let c=0;c<o.length;c++)o[c].length>0&&i.push(o[c])}return new Zt(i,0)}function St(r){return r.pieceNum_>=r.pieces_.length}function gn(r,e){const i=Et(r),o=Et(e);if(i===null)return e;if(i===o)return gn($t(r),$t(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+r+")")}function zx(r,e){const i=ou(r,0),o=ou(e,0);for(let c=0;c<i.length&&c<o.length;c++){const d=ma(i[c],o[c]);if(d!==0)return d}return i.length===o.length?0:i.length<o.length?-1:1}function em(r,e){if(rr(r)!==rr(e))return!1;for(let i=r.pieceNum_,o=e.pieceNum_;i<=r.pieces_.length;i++,o++)if(r.pieces_[i]!==e.pieces_[o])return!1;return!0}function Zn(r,e){let i=r.pieceNum_,o=e.pieceNum_;if(rr(r)>rr(e))return!1;for(;i<r.pieces_.length;){if(r.pieces_[i]!==e.pieces_[o])return!1;++i,++o}return!0}class Ux{constructor(e,i){this.errorPrefix_=i,this.parts_=ou(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let o=0;o<this.parts_.length;o++)this.byteLength_+=Lh(this.parts_[o]);Cb(this)}}function Bx(r,e){r.parts_.length>0&&(r.byteLength_+=1),r.parts_.push(e),r.byteLength_+=Lh(e),Cb(r)}function Hx(r){const e=r.parts_.pop();r.byteLength_-=Lh(e),r.parts_.length>0&&(r.byteLength_-=1)}function Cb(r){if(r.byteLength_>My)throw new Error(r.errorPrefix_+"has a key path longer than "+My+" bytes ("+r.byteLength_+").");if(r.parts_.length>Ry)throw new Error(r.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Ry+") or object contains a cycle "+ea(r))}function ea(r){return r.parts_.length===0?"":"in property '"+r.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm extends Tb{static getInstance(){return new nm}constructor(){super(["visible"]);let e,i;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,i&&document.addEventListener(i,()=>{const o=!document[e];o!==this.visible_&&(this.visible_=o,this.trigger("visible",o))},!1)}getInitialEvent(e){return Q(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ql=1e3,jx=300*1e3,Ly=30*1e3,Zx=1.3,qx=3e4,Vx="server_kill",Iy=3;class ss extends Sb{constructor(e,i,o,c,d,p,y,b){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=o,this.onConnectStatus_=c,this.onServerInfoUpdate_=d,this.authTokenProvider_=p,this.appCheckTokenProvider_=y,this.authOverride_=b,this.id=ss.nextPersistentConnectionId_++,this.log_=bu("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ql,this.maxReconnectDelay_=jx,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,b)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");nm.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&yh.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,o){const c=++this.requestNumber_,d={r:c,a:e,b:i};this.log_(ze(d)),Q(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(d),o&&(this.requestCBHash_[c]=o)}get(e){this.initConnection_();const i=new $i,c={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:p=>{const y=p.d;p.s==="ok"?i.resolve(y):i.reject(y)}};this.outstandingGets_.push(c),this.outstandingGetCount_++;const d=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(d),i.promise}listen(e,i,o,c){this.initConnection_();const d=e._queryIdentifier,p=e._path.toString();this.log_("Listen called for "+p+" "+d),this.listens.has(p)||this.listens.set(p,new Map),Q(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Q(!this.listens.get(p).has(d),"listen() called twice for same path/queryId.");const y={onComplete:c,hashFn:i,query:e,tag:o};this.listens.get(p).set(d,y),this.connected_&&this.sendListen_(y)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,o=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(o)})}sendListen_(e){const i=e.query,o=i._path.toString(),c=i._queryIdentifier;this.log_("Listen on "+o+" for "+c);const d={p:o},p="q";e.tag&&(d.q=i._queryObject,d.t=e.tag),d.h=e.hashFn(),this.sendRequest(p,d,y=>{const b=y.d,E=y.s;ss.warnOnListenWarnings_(b,i),(this.listens.get(o)&&this.listens.get(o).get(c))===e&&(this.log_("listen response",y),E!=="ok"&&this.removeListen_(o,c),e.onComplete&&e.onComplete(E,b))})}static warnOnListenWarnings_(e,i){if(e&&typeof e=="object"&&Ti(e,"w")){const o=yo(e,"w");if(Array.isArray(o)&&~o.indexOf("no_index")){const c='".indexOn": "'+i._queryParams.getIndex().toString()+'"',d=i._path.toString();yn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${c} at ${d} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||pT(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Ly)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=mT(e)?"auth":"gauth",o={cred:e};this.authOverride_===null?o.noauth=!0:typeof this.authOverride_=="object"&&(o.authvar=this.authOverride_),this.sendRequest(i,o,c=>{const d=c.s,p=c.d||"error";this.authToken_===e&&(d==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(d,p))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,o=e.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,o)})}unlisten(e,i){const o=e._path.toString(),c=e._queryIdentifier;this.log_("Unlisten called for "+o+" "+c),Q(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(o,c)&&this.connected_&&this.sendUnlisten_(o,c,e._queryObject,i)}sendUnlisten_(e,i,o,c){this.log_("Unlisten on "+e+" for "+i);const d={p:e},p="n";c&&(d.q=o,d.t=c),this.sendRequest(p,d)}onDisconnectPut(e,i,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,o):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:o})}onDisconnectMerge(e,i,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,o):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:o})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,o,c){const d={p:i,d:o};this.log_("onDisconnect "+e,d),this.sendRequest(e,d,p=>{c&&setTimeout(()=>{c(p.s,p.d)},Math.floor(0))})}put(e,i,o,c){this.putInternal("p",e,i,o,c)}merge(e,i,o,c){this.putInternal("m",e,i,o,c)}putInternal(e,i,o,c,d){this.initConnection_();const p={p:i,d:o};d!==void 0&&(p.h=d),this.outstandingPuts_.push({action:e,request:p,onComplete:c}),this.outstandingPutCount_++;const y=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(y):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,o=this.outstandingPuts_[e].request,c=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,o,d=>{this.log_(i+" response",d),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),c&&c(d.s,d.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,o=>{if(o.s!=="ok"){const d=o.d;this.log_("reportStats","Error sending stats: "+d)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+ze(e));const i=e.r,o=this.requestCBHash_[i];o&&(delete this.requestCBHash_[i],o(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),e==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):e==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):e==="c"?this.onListenRevoked_(i.p,i.q):e==="ac"?this.onAuthRevoked_(i.s,i.d):e==="apc"?this.onAppCheckRevoked_(i.s,i.d):e==="sd"?this.onSecurityDebugPacket_(i):S_("Unrecognized action received from server: "+ze(e)+`
Are you using the latest client?`)}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Q(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ql,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=ql,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>qx&&(this.reconnectDelay_=ql),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Zx)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),o=this.onRealtimeDisconnect_.bind(this),c=this.id+":"+ss.nextConnectionId_++,d=this.lastSessionId;let p=!1,y=null;const b=function(){y?y.close():(p=!0,o())},E=function(w){Q(y,"sendRequest call when we're not connected not allowed."),y.sendRequest(w)};this.realtime_={close:b,sendRequest:E};const N=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[w,O]=await Promise.all([this.authTokenProvider_.getToken(N),this.appCheckTokenProvider_.getToken(N)]);p?Ve("getToken() completed but was canceled"):(Ve("getToken() completed. Creating connection."),this.authToken_=w&&w.accessToken,this.appCheckToken_=O&&O.token,y=new kx(c,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,i,o,F=>{yn(F+" ("+this.repoInfo_.toString()+")"),this.interrupt(Vx)},d))}catch(w){this.log_("Failed to get token: "+w),p||(this.repoInfo_.nodeAdmin&&yn(w),b())}}}interrupt(e){Ve("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Ve("Resuming connection for reason: "+e),delete this.interruptReasons_[e],uh(this.interruptReasons_)&&(this.reconnectDelay_=ql,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let o;i?o=i.map(d=>Q_(d)).join("$"):o="default";const c=this.removeListen_(e,o);c&&c.onComplete&&c.onComplete("permission_denied")}removeListen_(e,i){const o=new Zt(e).toString();let c;if(this.listens.has(o)){const d=this.listens.get(o);c=d.get(i),d.delete(i),d.size===0&&this.listens.delete(o)}else c=void 0;return c}onAuthRevoked_(e,i){Ve("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Iy&&(this.reconnectDelay_=Ly,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){Ve("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Iy&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";e["sdk."+i+"."+eb.replace(/\./g,"-")]=1,U_()?e["framework.cordova"]=1:d0()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=yh.getInstance().currentlyOnline();return uh(this.interruptReasons_)&&e}}ss.nextPersistentConnectionId_=0;ss.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e,i){this.name=e,this.node=i}static Wrap(e,i){return new wt(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,i){const o=new wt(ua,e),c=new wt(ua,i);return this.compare(o,c)!==0}minPost(){return wt.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let th;class xb extends zh{static get __EMPTY_NODE(){return th}static set __EMPTY_NODE(e){th=e}compare(e,i){return ma(e.name,i.name)}isDefinedOn(e){throw Co("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,i){return!1}minPost(){return wt.MIN}maxPost(){return new wt(sr,th)}makePost(e,i){return Q(typeof e=="string","KeyIndex indexValue must always be a string."),new wt(e,th)}toString(){return".key"}}const sa=new xb;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e,i,o,c,d=null){this.isReverse_=c,this.resultGenerator_=d,this.nodeStack_=[];let p=1;for(;!e.isEmpty();)if(e=e,p=i?o(e.key,i):1,c&&(p*=-1),p<0)this.isReverse_?e=e.left:e=e.right;else if(p===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),i;if(this.resultGenerator_?i=this.resultGenerator_(e.key,e.value):i={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return i}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Pe{constructor(e,i,o,c,d){this.key=e,this.value=i,this.color=o??Pe.RED,this.left=c??vn.EMPTY_NODE,this.right=d??vn.EMPTY_NODE}copy(e,i,o,c,d){return new Pe(e??this.key,i??this.value,o??this.color,c??this.left,d??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,o){let c=this;const d=o(e,c.key);return d<0?c=c.copy(null,null,null,c.left.insert(e,i,o),null):d===0?c=c.copy(null,i,null,null,null):c=c.copy(null,null,null,null,c.right.insert(e,i,o)),c.fixUp_()}removeMin_(){if(this.left.isEmpty())return vn.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let o,c;if(o=this,i(e,o.key)<0)!o.left.isEmpty()&&!o.left.isRed_()&&!o.left.left.isRed_()&&(o=o.moveRedLeft_()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed_()&&(o=o.rotateRight_()),!o.right.isEmpty()&&!o.right.isRed_()&&!o.right.left.isRed_()&&(o=o.moveRedRight_()),i(e,o.key)===0){if(o.right.isEmpty())return vn.EMPTY_NODE;c=o.right.min_(),o=o.copy(c.key,c.value,null,null,o.right.removeMin_())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Pe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Pe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Pe.RED=!0;Pe.BLACK=!1;class Gx{copy(e,i,o,c,d){return this}insert(e,i,o){return new Pe(e,i,null)}remove(e,i){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class vn{constructor(e,i=vn.EMPTY_NODE){this.comparator_=e,this.root_=i}insert(e,i){return new vn(this.comparator_,this.root_.insert(e,i,this.comparator_).copy(null,null,Pe.BLACK,null,null))}remove(e){return new vn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Pe.BLACK,null,null))}get(e){let i,o=this.root_;for(;!o.isEmpty();){if(i=this.comparator_(e,o.key),i===0)return o.value;i<0?o=o.left:i>0&&(o=o.right)}return null}getPredecessorKey(e){let i,o=this.root_,c=null;for(;!o.isEmpty();)if(i=this.comparator_(e,o.key),i===0){if(o.left.isEmpty())return c?c.key:null;for(o=o.left;!o.right.isEmpty();)o=o.right;return o.key}else i<0?o=o.left:i>0&&(c=o,o=o.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new eh(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,i){return new eh(this.root_,e,this.comparator_,!1,i)}getReverseIteratorFrom(e,i){return new eh(this.root_,e,this.comparator_,!0,i)}getReverseIterator(e){return new eh(this.root_,null,this.comparator_,!0,e)}}vn.EMPTY_NODE=new Gx;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fx(r,e){return ma(r.name,e.name)}function im(r,e){return ma(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let w_;function Yx(r){w_=r}const Ab=function(r){return typeof r=="number"?"number:"+rb(r):"string:"+r},Nb=function(r){if(r.isLeafNode()){const e=r.val();Q(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Ti(e,".sv"),"Priority must be a string or number.")}else Q(r===w_||r.isEmpty(),"priority of unexpected type.");Q(r===w_||r.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dy;class ke{static set __childrenNodeConstructor(e){Dy=e}static get __childrenNodeConstructor(){return Dy}constructor(e,i=ke.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,Q(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Nb(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new ke(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:ke.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return St(e)?this:Et(e)===".priority"?this.priorityNode_:ke.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return e===".priority"?this.updatePriority(i):i.isEmpty()&&e!==".priority"?this:ke.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const o=Et(e);return o===null?i:i.isEmpty()&&o!==".priority"?this:(Q(o!==".priority"||rr(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(o,ke.__childrenNodeConstructor.EMPTY_NODE.updateChild($t(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Ab(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",i==="number"?e+=rb(this.value_):e+=this.value_,this.lazyHash_=ib(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===ke.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof ke.__childrenNodeConstructor?-1:(Q(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,o=typeof this.value_,c=ke.VALUE_TYPE_ORDER.indexOf(i),d=ke.VALUE_TYPE_ORDER.indexOf(o);return Q(c>=0,"Unknown leaf type: "+i),Q(d>=0,"Unknown leaf type: "+o),c===d?o==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:d-c}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}ke.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ob,Rb;function Wx(r){Ob=r}function Kx(r){Rb=r}class Qx extends zh{compare(e,i){const o=e.node.getPriority(),c=i.node.getPriority(),d=o.compareTo(c);return d===0?ma(e.name,i.name):d}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,i){return!e.getPriority().equals(i.getPriority())}minPost(){return wt.MIN}maxPost(){return new wt(sr,new ke("[PRIORITY-POST]",Rb))}makePost(e,i){const o=Ob(e);return new wt(i,new ke("[PRIORITY-POST]",o))}toString(){return".priority"}}const ue=new Qx;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx=Math.log(2);class Jx{constructor(e){const i=d=>parseInt(Math.log(d)/Xx,10),o=d=>parseInt(Array(d+1).join("1"),2);this.count=i(e+1),this.current_=this.count-1;const c=o(this.count);this.bits_=e+1&c}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const bh=function(r,e,i,o){r.sort(e);const c=function(b,E){const N=E-b;let w,O;if(N===0)return null;if(N===1)return w=r[b],O=i?i(w):w,new Pe(O,w.node,Pe.BLACK,null,null);{const F=parseInt(N/2,10)+b,K=c(b,F),tt=c(F+1,E);return w=r[F],O=i?i(w):w,new Pe(O,w.node,Pe.BLACK,K,tt)}},d=function(b){let E=null,N=null,w=r.length;const O=function(K,tt){const Ot=w-K,zt=w;w-=K;const te=c(Ot+1,zt),pt=r[Ot],ve=i?i(pt):pt;F(new Pe(ve,pt.node,tt,null,te))},F=function(K){E?(E.left=K,E=K):(N=K,E=K)};for(let K=0;K<b.count;++K){const tt=b.nextBitIsOne(),Ot=Math.pow(2,b.count-(K+1));tt?O(Ot,Pe.BLACK):(O(Ot,Pe.BLACK),O(Ot,Pe.RED))}return N},p=new Jx(r.length),y=d(p);return new vn(o||e,y)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let l_;const uo={};class ns{static get Default(){return Q(uo&&ue,"ChildrenNode.ts has not been loaded"),l_=l_||new ns({".priority":uo},{".priority":ue}),l_}constructor(e,i){this.indexes_=e,this.indexSet_=i}get(e){const i=yo(this.indexes_,e);if(!i)throw new Error("No index defined for "+e);return i instanceof vn?i:null}hasIndex(e){return Ti(this.indexSet_,e.toString())}addIndex(e,i){Q(e!==sa,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const o=[];let c=!1;const d=i.getIterator(wt.Wrap);let p=d.getNext();for(;p;)c=c||e.isDefinedOn(p.node),o.push(p),p=d.getNext();let y;c?y=bh(o,e.getCompare()):y=uo;const b=e.toString(),E={...this.indexSet_};E[b]=e;const N={...this.indexes_};return N[b]=y,new ns(N,E)}addToIndexes(e,i){const o=ch(this.indexes_,(c,d)=>{const p=yo(this.indexSet_,d);if(Q(p,"Missing index implementation for "+d),c===uo)if(p.isDefinedOn(e.node)){const y=[],b=i.getIterator(wt.Wrap);let E=b.getNext();for(;E;)E.name!==e.name&&y.push(E),E=b.getNext();return y.push(e),bh(y,p.getCompare())}else return uo;else{const y=i.get(e.name);let b=c;return y&&(b=b.remove(new wt(e.name,y))),b.insert(e,e.node)}});return new ns(o,this.indexSet_)}removeFromIndexes(e,i){const o=ch(this.indexes_,c=>{if(c===uo)return c;{const d=i.get(e.name);return d?c.remove(new wt(e.name,d)):c}});return new ns(o,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vl;class ft{static get EMPTY_NODE(){return Vl||(Vl=new ft(new vn(im),null,ns.Default))}constructor(e,i,o){this.children_=e,this.priorityNode_=i,this.indexMap_=o,this.lazyHash_=null,this.priorityNode_&&Nb(this.priorityNode_),this.children_.isEmpty()&&Q(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Vl}updatePriority(e){return this.children_.isEmpty()?this:new ft(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const i=this.children_.get(e);return i===null?Vl:i}}getChild(e){const i=Et(e);return i===null?this:this.getImmediateChild(i).getChild($t(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,i){if(Q(i,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(i);{const o=new wt(e,i);let c,d;i.isEmpty()?(c=this.children_.remove(e),d=this.indexMap_.removeFromIndexes(o,this.children_)):(c=this.children_.insert(e,i),d=this.indexMap_.addToIndexes(o,this.children_));const p=c.isEmpty()?Vl:this.priorityNode_;return new ft(c,p,d)}}updateChild(e,i){const o=Et(e);if(o===null)return i;{Q(Et(e)!==".priority"||rr(e)===1,".priority must be the last token in a path");const c=this.getImmediateChild(o).updateChild($t(e),i);return this.updateImmediateChild(o,c)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let o=0,c=0,d=!0;if(this.forEachChild(ue,(p,y)=>{i[p]=y.val(e),o++,d&&ft.INTEGER_REGEXP_.test(p)?c=Math.max(c,Number(p)):d=!1}),!e&&d&&c<2*o){const p=[];for(const y in i)p[y]=i[y];return p}else return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Ab(this.getPriority().val())+":"),this.forEachChild(ue,(i,o)=>{const c=o.hash();c!==""&&(e+=":"+i+":"+c)}),this.lazyHash_=e===""?"":ib(e)}return this.lazyHash_}getPredecessorChildName(e,i,o){const c=this.resolveIndex_(o);if(c){const d=c.getPredecessorKey(new wt(e,i));return d?d.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const o=i.minKey();return o&&o.name}else return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new wt(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const o=i.maxKey();return o&&o.name}else return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new wt(i,this.children_.get(i)):null}forEachChild(e,i){const o=this.resolveIndex_(e);return o?o.inorderTraversal(c=>i(c.name,c.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const o=this.resolveIndex_(i);if(o)return o.getIteratorFrom(e,c=>c);{const c=this.children_.getIteratorFrom(e.name,wt.Wrap);let d=c.peek();for(;d!=null&&i.compare(d,e)<0;)c.getNext(),d=c.peek();return c}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const o=this.resolveIndex_(i);if(o)return o.getReverseIteratorFrom(e,c=>c);{const c=this.children_.getReverseIteratorFrom(e.name,wt.Wrap);let d=c.peek();for(;d!=null&&i.compare(d,e)>0;)c.getNext(),d=c.peek();return c}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Eu?-1:0}withIndex(e){if(e===sa||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new ft(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===sa||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){const o=this.getIterator(ue),c=i.getIterator(ue);let d=o.getNext(),p=c.getNext();for(;d&&p;){if(d.name!==p.name||!d.node.equals(p.node))return!1;d=o.getNext(),p=c.getNext()}return d===null&&p===null}else return!1;else return!1}}resolveIndex_(e){return e===sa?null:this.indexMap_.get(e.toString())}}ft.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class $x extends ft{constructor(){super(new vn(im),ft.EMPTY_NODE,ns.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ft.EMPTY_NODE}isEmpty(){return!1}}const Eu=new $x;Object.defineProperties(wt,{MIN:{value:new wt(ua,ft.EMPTY_NODE)},MAX:{value:new wt(sr,Eu)}});xb.__EMPTY_NODE=ft.EMPTY_NODE;ke.__childrenNodeConstructor=ft;Yx(Eu);Kx(Eu);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA=!0;function Ce(r,e=null){if(r===null)return ft.EMPTY_NODE;if(typeof r=="object"&&".priority"in r&&(e=r[".priority"]),Q(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof r=="object"&&".value"in r&&r[".value"]!==null&&(r=r[".value"]),typeof r!="object"||".sv"in r){const i=r;return new ke(i,Ce(e))}if(!(r instanceof Array)&&tA){const i=[];let o=!1;if(Ke(r,(p,y)=>{if(p.substring(0,1)!=="."){const b=Ce(y);b.isEmpty()||(o=o||!b.getPriority().isEmpty(),i.push(new wt(p,b)))}}),i.length===0)return ft.EMPTY_NODE;const d=bh(i,Fx,p=>p.name,im);if(o){const p=bh(i,ue.getCompare());return new ft(d,Ce(e),new ns({".priority":p},{".priority":ue}))}else return new ft(d,Ce(e),ns.Default)}else{let i=ft.EMPTY_NODE;return Ke(r,(o,c)=>{if(Ti(r,o)&&o.substring(0,1)!=="."){const d=Ce(c);(d.isLeafNode()||!d.isEmpty())&&(i=i.updateImmediateChild(o,d))}}),i.updatePriority(Ce(e))}}Wx(Ce);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm extends zh{constructor(e){super(),this.indexPath_=e,Q(!St(e)&&Et(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,i){const o=this.extractChild(e.node),c=this.extractChild(i.node),d=o.compareTo(c);return d===0?ma(e.name,i.name):d}makePost(e,i){const o=Ce(e),c=ft.EMPTY_NODE.updateChild(this.indexPath_,o);return new wt(i,c)}maxPost(){const e=ft.EMPTY_NODE.updateChild(this.indexPath_,Eu);return new wt(sr,e)}toString(){return ou(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA extends zh{compare(e,i){const o=e.node.compareTo(i.node);return o===0?ma(e.name,i.name):o}isDefinedOn(e){return!0}indexedValueChanged(e,i){return!e.equals(i)}minPost(){return wt.MIN}maxPost(){return wt.MAX}makePost(e,i){const o=Ce(e);return new wt(i,o)}toString(){return".value"}}const Mb=new eA;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lb(r){return{type:"value",snapshotNode:r}}function So(r,e){return{type:"child_added",snapshotNode:e,childName:r}}function lu(r,e){return{type:"child_removed",snapshotNode:e,childName:r}}function uu(r,e,i){return{type:"child_changed",snapshotNode:e,childName:r,oldSnap:i}}function nA(r,e){return{type:"child_moved",snapshotNode:e,childName:r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(e){this.index_=e}updateChild(e,i,o,c,d,p){Q(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const y=e.getImmediateChild(i);return y.getChild(c).equals(o.getChild(c))&&y.isEmpty()===o.isEmpty()||(p!=null&&(o.isEmpty()?e.hasChild(i)?p.trackChildChange(lu(i,y)):Q(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):y.isEmpty()?p.trackChildChange(So(i,o)):p.trackChildChange(uu(i,o,y))),e.isLeafNode()&&o.isEmpty())?e:e.updateImmediateChild(i,o).withIndex(this.index_)}updateFullNode(e,i,o){return o!=null&&(e.isLeafNode()||e.forEachChild(ue,(c,d)=>{i.hasChild(c)||o.trackChildChange(lu(c,d))}),i.isLeafNode()||i.forEachChild(ue,(c,d)=>{if(e.hasChild(c)){const p=e.getImmediateChild(c);p.equals(d)||o.trackChildChange(uu(c,d,p))}else o.trackChildChange(So(c,d))})),i.withIndex(this.index_)}updatePriority(e,i){return e.isEmpty()?ft.EMPTY_NODE:e.updatePriority(i)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e){this.indexedFilter_=new rm(e.getIndex()),this.index_=e.getIndex(),this.startPost_=cu.getStartPost_(e),this.endPost_=cu.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const i=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,o=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return i&&o}updateChild(e,i,o,c,d,p){return this.matches(new wt(i,o))||(o=ft.EMPTY_NODE),this.indexedFilter_.updateChild(e,i,o,c,d,p)}updateFullNode(e,i,o){i.isLeafNode()&&(i=ft.EMPTY_NODE);let c=i.withIndex(this.index_);c=c.updatePriority(ft.EMPTY_NODE);const d=this;return i.forEachChild(ue,(p,y)=>{d.matches(new wt(p,y))||(c=c.updateImmediateChild(p,ft.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,c,o)}updatePriority(e,i){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const i=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),i)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const i=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),i)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(e){this.withinDirectionalStart=i=>this.reverse_?this.withinEndPost(i):this.withinStartPost(i),this.withinDirectionalEnd=i=>this.reverse_?this.withinStartPost(i):this.withinEndPost(i),this.withinStartPost=i=>{const o=this.index_.compare(this.rangedFilter_.getStartPost(),i);return this.startIsInclusive_?o<=0:o<0},this.withinEndPost=i=>{const o=this.index_.compare(i,this.rangedFilter_.getEndPost());return this.endIsInclusive_?o<=0:o<0},this.rangedFilter_=new cu(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,i,o,c,d,p){return this.rangedFilter_.matches(new wt(i,o))||(o=ft.EMPTY_NODE),e.getImmediateChild(i).equals(o)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,i,o,c,d,p):this.fullLimitUpdateChild_(e,i,o,d,p)}updateFullNode(e,i,o){let c;if(i.isLeafNode()||i.isEmpty())c=ft.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<i.numChildren()&&i.isIndexed(this.index_)){c=ft.EMPTY_NODE.withIndex(this.index_);let d;this.reverse_?d=i.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):d=i.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let p=0;for(;d.hasNext()&&p<this.limit_;){const y=d.getNext();if(this.withinDirectionalStart(y))if(this.withinDirectionalEnd(y))c=c.updateImmediateChild(y.name,y.node),p++;else break;else continue}}else{c=i.withIndex(this.index_),c=c.updatePriority(ft.EMPTY_NODE);let d;this.reverse_?d=c.getReverseIterator(this.index_):d=c.getIterator(this.index_);let p=0;for(;d.hasNext();){const y=d.getNext();p<this.limit_&&this.withinDirectionalStart(y)&&this.withinDirectionalEnd(y)?p++:c=c.updateImmediateChild(y.name,ft.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,c,o)}updatePriority(e,i){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,i,o,c,d){let p;if(this.reverse_){const w=this.index_.getCompare();p=(O,F)=>w(F,O)}else p=this.index_.getCompare();const y=e;Q(y.numChildren()===this.limit_,"");const b=new wt(i,o),E=this.reverse_?y.getFirstChild(this.index_):y.getLastChild(this.index_),N=this.rangedFilter_.matches(b);if(y.hasChild(i)){const w=y.getImmediateChild(i);let O=c.getChildAfterChild(this.index_,E,this.reverse_);for(;O!=null&&(O.name===i||y.hasChild(O.name));)O=c.getChildAfterChild(this.index_,O,this.reverse_);const F=O==null?1:p(O,b);if(N&&!o.isEmpty()&&F>=0)return d?.trackChildChange(uu(i,o,w)),y.updateImmediateChild(i,o);{d?.trackChildChange(lu(i,w));const tt=y.updateImmediateChild(i,ft.EMPTY_NODE);return O!=null&&this.rangedFilter_.matches(O)?(d?.trackChildChange(So(O.name,O.node)),tt.updateImmediateChild(O.name,O.node)):tt}}else return o.isEmpty()?e:N&&p(E,b)>=0?(d!=null&&(d.trackChildChange(lu(E.name,E.node)),d.trackChildChange(So(i,o))),y.updateImmediateChild(i,o).updateImmediateChild(E.name,ft.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ue}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Q(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Q(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ua}hasEnd(){return this.endSet_}getIndexEndValue(){return Q(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Q(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:sr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Q(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ue}copy(){const e=new am;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function sA(r){return r.loadsAllData()?new rm(r.getIndex()):r.hasLimit()?new iA(r):new cu(r)}function rA(r,e,i){const o=r.copy();return o.startSet_=!0,e===void 0&&(e=null),o.indexStartValue_=e,i!=null?(o.startNameSet_=!0,o.indexStartName_=i):(o.startNameSet_=!1,o.indexStartName_=""),o}function aA(r,e,i){const o=r.copy();return o.endSet_=!0,e===void 0&&(e=null),o.indexEndValue_=e,i!==void 0?(o.endNameSet_=!0,o.indexEndName_=i):(o.endNameSet_=!1,o.indexEndName_=""),o}function oA(r,e){const i=r.copy();return i.index_=e,i}function ky(r){const e={};if(r.isDefault())return e;let i;if(r.index_===ue?i="$priority":r.index_===Mb?i="$value":r.index_===sa?i="$key":(Q(r.index_ instanceof sm,"Unrecognized index type!"),i=r.index_.toString()),e.orderBy=ze(i),r.startSet_){const o=r.startAfterSet_?"startAfter":"startAt";e[o]=ze(r.indexStartValue_),r.startNameSet_&&(e[o]+=","+ze(r.indexStartName_))}if(r.endSet_){const o=r.endBeforeSet_?"endBefore":"endAt";e[o]=ze(r.indexEndValue_),r.endNameSet_&&(e[o]+=","+ze(r.indexEndName_))}return r.limitSet_&&(r.isViewFromLeft()?e.limitToFirst=r.limit_:e.limitToLast=r.limit_),e}function Py(r){const e={};if(r.startSet_&&(e.sp=r.indexStartValue_,r.startNameSet_&&(e.sn=r.indexStartName_),e.sin=!r.startAfterSet_),r.endSet_&&(e.ep=r.indexEndValue_,r.endNameSet_&&(e.en=r.indexEndName_),e.ein=!r.endBeforeSet_),r.limitSet_){e.l=r.limit_;let i=r.viewFrom_;i===""&&(r.isViewFromLeft()?i="l":i="r"),e.vf=i}return r.index_!==ue&&(e.i=r.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh extends Sb{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,i){return i!==void 0?"tag$"+i:(Q(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,i,o,c){super(),this.repoInfo_=e,this.onDataUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=c,this.log_=bu("p:rest:"),this.listens_={}}listen(e,i,o,c){const d=e._path.toString();this.log_("Listen called for "+d+" "+e._queryIdentifier);const p=Eh.getListenId_(e,o),y={};this.listens_[p]=y;const b=ky(e._queryParams);this.restRequest_(d+".json",b,(E,N)=>{let w=N;if(E===404&&(w=null,E=null),E===null&&this.onDataUpdate_(d,w,!1,o),yo(this.listens_,p)===y){let O;E?E===401?O="permission_denied":O="rest_error:"+E:O="ok",c(O,null)}})}unlisten(e,i){const o=Eh.getListenId_(e,i);delete this.listens_[o]}get(e){const i=ky(e._queryParams),o=e._path.toString(),c=new $i;return this.restRequest_(o+".json",i,(d,p)=>{let y=p;d===404&&(y=null,d=null),d===null?(this.onDataUpdate_(o,y,!1,null),c.resolve(y)):c.reject(new Error(y))}),c.promise}refreshAuthToken(e){}restRequest_(e,i={},o){return i.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([c,d])=>{c&&c.accessToken&&(i.auth=c.accessToken),d&&d.token&&(i.ac=d.token);const p=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Ao(i);this.log_("Sending REST request for "+p);const y=new XMLHttpRequest;y.onreadystatechange=()=>{if(o&&y.readyState===4){this.log_("REST Response for "+p+" received. status:",y.status,"response:",y.responseText);let b=null;if(y.status>=200&&y.status<300){try{b=nu(y.responseText)}catch{yn("Failed to parse JSON response for "+p+": "+y.responseText)}o(null,b)}else y.status!==401&&y.status!==404&&yn("Got unsuccessful REST response for "+p+" Status: "+y.status),o(y.status);o=null}},y.open("GET",p,!0),y.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(){this.rootNode_=ft.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,i){this.rootNode_=this.rootNode_.updateChild(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sh(){return{value:null,children:new Map}}function Mo(r,e,i){if(St(e))r.value=i,r.children.clear();else if(r.value!==null)r.value=r.value.updateChild(e,i);else{const o=Et(e);r.children.has(o)||r.children.set(o,Sh());const c=r.children.get(o);e=$t(e),Mo(c,e,i)}}function C_(r,e){if(St(e))return r.value=null,r.children.clear(),!0;if(r.value!==null){if(r.value.isLeafNode())return!1;{const i=r.value;return r.value=null,i.forEachChild(ue,(o,c)=>{Mo(r,new Zt(o),c)}),C_(r,e)}}else if(r.children.size>0){const i=Et(e);return e=$t(e),r.children.has(i)&&C_(r.children.get(i),e)&&r.children.delete(i),r.children.size===0}else return!0}function x_(r,e,i){r.value!==null?i(e,r.value):uA(r,(o,c)=>{const d=new Zt(e.toString()+"/"+o);x_(c,d,i)})}function uA(r,e){r.children.forEach((i,o)=>{e(o,i)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),i={...e};return this.last_&&Ke(this.last_,(o,c)=>{i[o]=i[o]-c}),this.last_=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy=10*1e3,hA=30*1e3,fA=300*1e3;class dA{constructor(e,i){this.server_=i,this.statsToReport_={},this.statsListener_=new cA(e);const o=zy+(hA-zy)*Math.random();Jl(this.reportStats_.bind(this),Math.floor(o))}reportStats_(){const e=this.statsListener_.get(),i={};let o=!1;Ke(e,(c,d)=>{d>0&&Ti(this.statsToReport_,c)&&(i[c]=d,o=!0)}),o&&this.server_.reportStats(i),Jl(this.reportStats_.bind(this),Math.floor(Math.random()*2*fA))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ni;(function(r){r[r.OVERWRITE=0]="OVERWRITE",r[r.MERGE=1]="MERGE",r[r.ACK_USER_WRITE=2]="ACK_USER_WRITE",r[r.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(ni||(ni={}));function Ib(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function om(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function lm(r){return{fromUser:!1,fromServer:!0,queryId:r,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,i,o){this.path=e,this.affectedTree=i,this.revert=o,this.type=ni.ACK_USER_WRITE,this.source=Ib()}operationForChild(e){if(St(this.path)){if(this.affectedTree.value!=null)return Q(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const i=this.affectedTree.subtree(new Zt(e));return new Th(Ht(),i,this.revert)}}else return Q(Et(this.path)===e,"operationForChild called for unrelated child."),new Th($t(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e,i){this.source=e,this.path=i,this.type=ni.LISTEN_COMPLETE}operationForChild(e){return St(this.path)?new hu(this.source,Ht()):new hu(this.source,$t(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e,i,o){this.source=e,this.path=i,this.snap=o,this.type=ni.OVERWRITE}operationForChild(e){return St(this.path)?new ca(this.source,Ht(),this.snap.getImmediateChild(e)):new ca(this.source,$t(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,i,o){this.source=e,this.path=i,this.children=o,this.type=ni.MERGE}operationForChild(e){if(St(this.path)){const i=this.children.subtree(new Zt(e));return i.isEmpty()?null:i.value?new ca(this.source,Ht(),i.value):new fu(this.source,Ht(),i)}else return Q(Et(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new fu(this.source,$t(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e,i,o){this.node_=e,this.fullyInitialized_=i,this.filtered_=o}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(St(e))return this.isFullyInitialized()&&!this.filtered_;const i=Et(e);return this.isCompleteForChild(i)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function mA(r,e,i,o){const c=[],d=[];return e.forEach(p=>{p.type==="child_changed"&&r.index_.indexedValueChanged(p.oldSnap,p.snapshotNode)&&d.push(nA(p.childName,p.snapshotNode))}),Gl(r,c,"child_removed",e,o,i),Gl(r,c,"child_added",e,o,i),Gl(r,c,"child_moved",d,o,i),Gl(r,c,"child_changed",e,o,i),Gl(r,c,"value",e,o,i),c}function Gl(r,e,i,o,c,d){const p=o.filter(y=>y.type===i);p.sort((y,b)=>gA(r,y,b)),p.forEach(y=>{const b=pA(r,y,d);c.forEach(E=>{E.respondsTo(y.type)&&e.push(E.createEvent(b,r.query_))})})}function pA(r,e,i){return e.type==="value"||e.type==="child_removed"||(e.prevName=i.getPredecessorChildName(e.childName,e.snapshotNode,r.index_)),e}function gA(r,e,i){if(e.childName==null||i.childName==null)throw Co("Should only compare child_ events.");const o=new wt(e.childName,e.snapshotNode),c=new wt(i.childName,i.snapshotNode);return r.index_.compare(o,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uh(r,e){return{eventCache:r,serverCache:e}}function $l(r,e,i,o){return Uh(new ha(e,i,o),r.serverCache)}function Db(r,e,i,o){return Uh(r.eventCache,new ha(e,i,o))}function A_(r){return r.eventCache.isFullyInitialized()?r.eventCache.getNode():null}function fa(r){return r.serverCache.isFullyInitialized()?r.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let u_;const vA=()=>(u_||(u_=new vn(ex)),u_);class se{static fromObject(e){let i=new se(null);return Ke(e,(o,c)=>{i=i.set(new Zt(o),c)}),i}constructor(e,i=vA()){this.value=e,this.children=i}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,i){if(this.value!=null&&i(this.value))return{path:Ht(),value:this.value};if(St(e))return null;{const o=Et(e),c=this.children.get(o);if(c!==null){const d=c.findRootMostMatchingPathAndValue($t(e),i);return d!=null?{path:ge(new Zt(o),d.path),value:d.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(St(e))return this;{const i=Et(e),o=this.children.get(i);return o!==null?o.subtree($t(e)):new se(null)}}set(e,i){if(St(e))return new se(i,this.children);{const o=Et(e),d=(this.children.get(o)||new se(null)).set($t(e),i),p=this.children.insert(o,d);return new se(this.value,p)}}remove(e){if(St(e))return this.children.isEmpty()?new se(null):new se(null,this.children);{const i=Et(e),o=this.children.get(i);if(o){const c=o.remove($t(e));let d;return c.isEmpty()?d=this.children.remove(i):d=this.children.insert(i,c),this.value===null&&d.isEmpty()?new se(null):new se(this.value,d)}else return this}}get(e){if(St(e))return this.value;{const i=Et(e),o=this.children.get(i);return o?o.get($t(e)):null}}setTree(e,i){if(St(e))return i;{const o=Et(e),d=(this.children.get(o)||new se(null)).setTree($t(e),i);let p;return d.isEmpty()?p=this.children.remove(o):p=this.children.insert(o,d),new se(this.value,p)}}fold(e){return this.fold_(Ht(),e)}fold_(e,i){const o={};return this.children.inorderTraversal((c,d)=>{o[c]=d.fold_(ge(e,c),i)}),i(e,this.value,o)}findOnPath(e,i){return this.findOnPath_(e,Ht(),i)}findOnPath_(e,i,o){const c=this.value?o(i,this.value):!1;if(c)return c;if(St(e))return null;{const d=Et(e),p=this.children.get(d);return p?p.findOnPath_($t(e),ge(i,d),o):null}}foreachOnPath(e,i){return this.foreachOnPath_(e,Ht(),i)}foreachOnPath_(e,i,o){if(St(e))return this;{this.value&&o(i,this.value);const c=Et(e),d=this.children.get(c);return d?d.foreachOnPath_($t(e),ge(i,c),o):new se(null)}}foreach(e){this.foreach_(Ht(),e)}foreach_(e,i){this.children.inorderTraversal((o,c)=>{c.foreach_(ge(e,o),i)}),this.value&&i(e,this.value)}foreachChild(e){this.children.inorderTraversal((i,o)=>{o.value&&e(i,o.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e){this.writeTree_=e}static empty(){return new ii(new se(null))}}function tu(r,e,i){if(St(e))return new ii(new se(i));{const o=r.writeTree_.findRootMostValueAndPath(e);if(o!=null){const c=o.path;let d=o.value;const p=gn(c,e);return d=d.updateChild(p,i),new ii(r.writeTree_.set(c,d))}else{const c=new se(i),d=r.writeTree_.setTree(e,c);return new ii(d)}}}function Uy(r,e,i){let o=r;return Ke(i,(c,d)=>{o=tu(o,ge(e,c),d)}),o}function By(r,e){if(St(e))return ii.empty();{const i=r.writeTree_.setTree(e,new se(null));return new ii(i)}}function N_(r,e){return pa(r,e)!=null}function pa(r,e){const i=r.writeTree_.findRootMostValueAndPath(e);return i!=null?r.writeTree_.get(i.path).getChild(gn(i.path,e)):null}function Hy(r){const e=[],i=r.writeTree_.value;return i!=null?i.isLeafNode()||i.forEachChild(ue,(o,c)=>{e.push(new wt(o,c))}):r.writeTree_.children.inorderTraversal((o,c)=>{c.value!=null&&e.push(new wt(o,c.value))}),e}function ir(r,e){if(St(e))return r;{const i=pa(r,e);return i!=null?new ii(new se(i)):new ii(r.writeTree_.subtree(e))}}function O_(r){return r.writeTree_.isEmpty()}function To(r,e){return kb(Ht(),r.writeTree_,e)}function kb(r,e,i){if(e.value!=null)return i.updateChild(r,e.value);{let o=null;return e.children.inorderTraversal((c,d)=>{c===".priority"?(Q(d.value!==null,"Priority writes must always be leaf nodes"),o=d.value):i=kb(ge(r,c),d,i)}),!i.getChild(r).isEmpty()&&o!==null&&(i=i.updateChild(ge(r,".priority"),o)),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function um(r,e){return Bb(e,r)}function yA(r,e,i,o,c){Q(o>r.lastWriteId,"Stacking an older write on top of newer ones"),c===void 0&&(c=!0),r.allWrites.push({path:e,snap:i,writeId:o,visible:c}),c&&(r.visibleWrites=tu(r.visibleWrites,e,i)),r.lastWriteId=o}function bA(r,e){for(let i=0;i<r.allWrites.length;i++){const o=r.allWrites[i];if(o.writeId===e)return o}return null}function EA(r,e){const i=r.allWrites.findIndex(y=>y.writeId===e);Q(i>=0,"removeWrite called with nonexistent writeId.");const o=r.allWrites[i];r.allWrites.splice(i,1);let c=o.visible,d=!1,p=r.allWrites.length-1;for(;c&&p>=0;){const y=r.allWrites[p];y.visible&&(p>=i&&SA(y,o.path)?c=!1:Zn(o.path,y.path)&&(d=!0)),p--}if(c){if(d)return TA(r),!0;if(o.snap)r.visibleWrites=By(r.visibleWrites,o.path);else{const y=o.children;Ke(y,b=>{r.visibleWrites=By(r.visibleWrites,ge(o.path,b))})}return!0}else return!1}function SA(r,e){if(r.snap)return Zn(r.path,e);for(const i in r.children)if(r.children.hasOwnProperty(i)&&Zn(ge(r.path,i),e))return!0;return!1}function TA(r){r.visibleWrites=Pb(r.allWrites,wA,Ht()),r.allWrites.length>0?r.lastWriteId=r.allWrites[r.allWrites.length-1].writeId:r.lastWriteId=-1}function wA(r){return r.visible}function Pb(r,e,i){let o=ii.empty();for(let c=0;c<r.length;++c){const d=r[c];if(e(d)){const p=d.path;let y;if(d.snap)Zn(i,p)?(y=gn(i,p),o=tu(o,y,d.snap)):Zn(p,i)&&(y=gn(p,i),o=tu(o,Ht(),d.snap.getChild(y)));else if(d.children){if(Zn(i,p))y=gn(i,p),o=Uy(o,y,d.children);else if(Zn(p,i))if(y=gn(p,i),St(y))o=Uy(o,Ht(),d.children);else{const b=yo(d.children,Et(y));if(b){const E=b.getChild($t(y));o=tu(o,Ht(),E)}}}else throw Co("WriteRecord should have .snap or .children")}}return o}function zb(r,e,i,o,c){if(!o&&!c){const d=pa(r.visibleWrites,e);if(d!=null)return d;{const p=ir(r.visibleWrites,e);if(O_(p))return i;if(i==null&&!N_(p,Ht()))return null;{const y=i||ft.EMPTY_NODE;return To(p,y)}}}else{const d=ir(r.visibleWrites,e);if(!c&&O_(d))return i;if(!c&&i==null&&!N_(d,Ht()))return null;{const p=function(E){return(E.visible||c)&&(!o||!~o.indexOf(E.writeId))&&(Zn(E.path,e)||Zn(e,E.path))},y=Pb(r.allWrites,p,e),b=i||ft.EMPTY_NODE;return To(y,b)}}}function CA(r,e,i){let o=ft.EMPTY_NODE;const c=pa(r.visibleWrites,e);if(c)return c.isLeafNode()||c.forEachChild(ue,(d,p)=>{o=o.updateImmediateChild(d,p)}),o;if(i){const d=ir(r.visibleWrites,e);return i.forEachChild(ue,(p,y)=>{const b=To(ir(d,new Zt(p)),y);o=o.updateImmediateChild(p,b)}),Hy(d).forEach(p=>{o=o.updateImmediateChild(p.name,p.node)}),o}else{const d=ir(r.visibleWrites,e);return Hy(d).forEach(p=>{o=o.updateImmediateChild(p.name,p.node)}),o}}function xA(r,e,i,o,c){Q(o||c,"Either existingEventSnap or existingServerSnap must exist");const d=ge(e,i);if(N_(r.visibleWrites,d))return null;{const p=ir(r.visibleWrites,d);return O_(p)?c.getChild(i):To(p,c.getChild(i))}}function AA(r,e,i,o){const c=ge(e,i),d=pa(r.visibleWrites,c);if(d!=null)return d;if(o.isCompleteForChild(i)){const p=ir(r.visibleWrites,c);return To(p,o.getNode().getImmediateChild(i))}else return null}function NA(r,e){return pa(r.visibleWrites,e)}function OA(r,e,i,o,c,d,p){let y;const b=ir(r.visibleWrites,e),E=pa(b,Ht());if(E!=null)y=E;else if(i!=null)y=To(b,i);else return[];if(y=y.withIndex(p),!y.isEmpty()&&!y.isLeafNode()){const N=[],w=p.getCompare(),O=d?y.getReverseIteratorFrom(o,p):y.getIteratorFrom(o,p);let F=O.getNext();for(;F&&N.length<c;)w(F,o)!==0&&N.push(F),F=O.getNext();return N}else return[]}function RA(){return{visibleWrites:ii.empty(),allWrites:[],lastWriteId:-1}}function wh(r,e,i,o){return zb(r.writeTree,r.treePath,e,i,o)}function cm(r,e){return CA(r.writeTree,r.treePath,e)}function jy(r,e,i,o){return xA(r.writeTree,r.treePath,e,i,o)}function Ch(r,e){return NA(r.writeTree,ge(r.treePath,e))}function MA(r,e,i,o,c,d){return OA(r.writeTree,r.treePath,e,i,o,c,d)}function hm(r,e,i){return AA(r.writeTree,r.treePath,e,i)}function Ub(r,e){return Bb(ge(r.treePath,e),r.writeTree)}function Bb(r,e){return{treePath:r,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(){this.changeMap=new Map}trackChildChange(e){const i=e.type,o=e.childName;Q(i==="child_added"||i==="child_changed"||i==="child_removed","Only child changes supported for tracking"),Q(o!==".priority","Only non-priority child changes can be tracked.");const c=this.changeMap.get(o);if(c){const d=c.type;if(i==="child_added"&&d==="child_removed")this.changeMap.set(o,uu(o,e.snapshotNode,c.snapshotNode));else if(i==="child_removed"&&d==="child_added")this.changeMap.delete(o);else if(i==="child_removed"&&d==="child_changed")this.changeMap.set(o,lu(o,c.oldSnap));else if(i==="child_changed"&&d==="child_added")this.changeMap.set(o,So(o,e.snapshotNode));else if(i==="child_changed"&&d==="child_changed")this.changeMap.set(o,uu(o,e.snapshotNode,c.oldSnap));else throw Co("Illegal combination of changes: "+e+" occurred after "+c)}else this.changeMap.set(o,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{getCompleteChild(e){return null}getChildAfterChild(e,i,o){return null}}const Hb=new IA;class fm{constructor(e,i,o=null){this.writes_=e,this.viewCache_=i,this.optCompleteServerCache_=o}getCompleteChild(e){const i=this.viewCache_.eventCache;if(i.isCompleteForChild(e))return i.getNode().getImmediateChild(e);{const o=this.optCompleteServerCache_!=null?new ha(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return hm(this.writes_,e,o)}}getChildAfterChild(e,i,o){const c=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:fa(this.viewCache_),d=MA(this.writes_,c,i,1,o,e);return d.length===0?null:d[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DA(r){return{filter:r}}function kA(r,e){Q(e.eventCache.getNode().isIndexed(r.filter.getIndex()),"Event snap not indexed"),Q(e.serverCache.getNode().isIndexed(r.filter.getIndex()),"Server snap not indexed")}function PA(r,e,i,o,c){const d=new LA;let p,y;if(i.type===ni.OVERWRITE){const E=i;E.source.fromUser?p=R_(r,e,E.path,E.snap,o,c,d):(Q(E.source.fromServer,"Unknown source."),y=E.source.tagged||e.serverCache.isFiltered()&&!St(E.path),p=xh(r,e,E.path,E.snap,o,c,y,d))}else if(i.type===ni.MERGE){const E=i;E.source.fromUser?p=UA(r,e,E.path,E.children,o,c,d):(Q(E.source.fromServer,"Unknown source."),y=E.source.tagged||e.serverCache.isFiltered(),p=M_(r,e,E.path,E.children,o,c,y,d))}else if(i.type===ni.ACK_USER_WRITE){const E=i;E.revert?p=jA(r,e,E.path,o,c,d):p=BA(r,e,E.path,E.affectedTree,o,c,d)}else if(i.type===ni.LISTEN_COMPLETE)p=HA(r,e,i.path,o,d);else throw Co("Unknown operation type: "+i.type);const b=d.getChanges();return zA(e,p,b),{viewCache:p,changes:b}}function zA(r,e,i){const o=e.eventCache;if(o.isFullyInitialized()){const c=o.getNode().isLeafNode()||o.getNode().isEmpty(),d=A_(r);(i.length>0||!r.eventCache.isFullyInitialized()||c&&!o.getNode().equals(d)||!o.getNode().getPriority().equals(d.getPriority()))&&i.push(Lb(A_(e)))}}function jb(r,e,i,o,c,d){const p=e.eventCache;if(Ch(o,i)!=null)return e;{let y,b;if(St(i))if(Q(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const E=fa(e),N=E instanceof ft?E:ft.EMPTY_NODE,w=cm(o,N);y=r.filter.updateFullNode(e.eventCache.getNode(),w,d)}else{const E=wh(o,fa(e));y=r.filter.updateFullNode(e.eventCache.getNode(),E,d)}else{const E=Et(i);if(E===".priority"){Q(rr(i)===1,"Can't have a priority with additional path components");const N=p.getNode();b=e.serverCache.getNode();const w=jy(o,i,N,b);w!=null?y=r.filter.updatePriority(N,w):y=p.getNode()}else{const N=$t(i);let w;if(p.isCompleteForChild(E)){b=e.serverCache.getNode();const O=jy(o,i,p.getNode(),b);O!=null?w=p.getNode().getImmediateChild(E).updateChild(N,O):w=p.getNode().getImmediateChild(E)}else w=hm(o,E,e.serverCache);w!=null?y=r.filter.updateChild(p.getNode(),E,w,N,c,d):y=p.getNode()}}return $l(e,y,p.isFullyInitialized()||St(i),r.filter.filtersNodes())}}function xh(r,e,i,o,c,d,p,y){const b=e.serverCache;let E;const N=p?r.filter:r.filter.getIndexedFilter();if(St(i))E=N.updateFullNode(b.getNode(),o,null);else if(N.filtersNodes()&&!b.isFiltered()){const F=b.getNode().updateChild(i,o);E=N.updateFullNode(b.getNode(),F,null)}else{const F=Et(i);if(!b.isCompleteForPath(i)&&rr(i)>1)return e;const K=$t(i),Ot=b.getNode().getImmediateChild(F).updateChild(K,o);F===".priority"?E=N.updatePriority(b.getNode(),Ot):E=N.updateChild(b.getNode(),F,Ot,K,Hb,null)}const w=Db(e,E,b.isFullyInitialized()||St(i),N.filtersNodes()),O=new fm(c,w,d);return jb(r,w,i,c,O,y)}function R_(r,e,i,o,c,d,p){const y=e.eventCache;let b,E;const N=new fm(c,e,d);if(St(i))E=r.filter.updateFullNode(e.eventCache.getNode(),o,p),b=$l(e,E,!0,r.filter.filtersNodes());else{const w=Et(i);if(w===".priority")E=r.filter.updatePriority(e.eventCache.getNode(),o),b=$l(e,E,y.isFullyInitialized(),y.isFiltered());else{const O=$t(i),F=y.getNode().getImmediateChild(w);let K;if(St(O))K=o;else{const tt=N.getCompleteChild(w);tt!=null?tm(O)===".priority"&&tt.getChild(wb(O)).isEmpty()?K=tt:K=tt.updateChild(O,o):K=ft.EMPTY_NODE}if(F.equals(K))b=e;else{const tt=r.filter.updateChild(y.getNode(),w,K,O,N,p);b=$l(e,tt,y.isFullyInitialized(),r.filter.filtersNodes())}}}return b}function Zy(r,e){return r.eventCache.isCompleteForChild(e)}function UA(r,e,i,o,c,d,p){let y=e;return o.foreach((b,E)=>{const N=ge(i,b);Zy(e,Et(N))&&(y=R_(r,y,N,E,c,d,p))}),o.foreach((b,E)=>{const N=ge(i,b);Zy(e,Et(N))||(y=R_(r,y,N,E,c,d,p))}),y}function qy(r,e,i){return i.foreach((o,c)=>{e=e.updateChild(o,c)}),e}function M_(r,e,i,o,c,d,p,y){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let b=e,E;St(i)?E=o:E=new se(null).setTree(i,o);const N=e.serverCache.getNode();return E.children.inorderTraversal((w,O)=>{if(N.hasChild(w)){const F=e.serverCache.getNode().getImmediateChild(w),K=qy(r,F,O);b=xh(r,b,new Zt(w),K,c,d,p,y)}}),E.children.inorderTraversal((w,O)=>{const F=!e.serverCache.isCompleteForChild(w)&&O.value===null;if(!N.hasChild(w)&&!F){const K=e.serverCache.getNode().getImmediateChild(w),tt=qy(r,K,O);b=xh(r,b,new Zt(w),tt,c,d,p,y)}}),b}function BA(r,e,i,o,c,d,p){if(Ch(c,i)!=null)return e;const y=e.serverCache.isFiltered(),b=e.serverCache;if(o.value!=null){if(St(i)&&b.isFullyInitialized()||b.isCompleteForPath(i))return xh(r,e,i,b.getNode().getChild(i),c,d,y,p);if(St(i)){let E=new se(null);return b.getNode().forEachChild(sa,(N,w)=>{E=E.set(new Zt(N),w)}),M_(r,e,i,E,c,d,y,p)}else return e}else{let E=new se(null);return o.foreach((N,w)=>{const O=ge(i,N);b.isCompleteForPath(O)&&(E=E.set(N,b.getNode().getChild(O)))}),M_(r,e,i,E,c,d,y,p)}}function HA(r,e,i,o,c){const d=e.serverCache,p=Db(e,d.getNode(),d.isFullyInitialized()||St(i),d.isFiltered());return jb(r,p,i,o,Hb,c)}function jA(r,e,i,o,c,d){let p;if(Ch(o,i)!=null)return e;{const y=new fm(o,e,c),b=e.eventCache.getNode();let E;if(St(i)||Et(i)===".priority"){let N;if(e.serverCache.isFullyInitialized())N=wh(o,fa(e));else{const w=e.serverCache.getNode();Q(w instanceof ft,"serverChildren would be complete if leaf node"),N=cm(o,w)}N=N,E=r.filter.updateFullNode(b,N,d)}else{const N=Et(i);let w=hm(o,N,e.serverCache);w==null&&e.serverCache.isCompleteForChild(N)&&(w=b.getImmediateChild(N)),w!=null?E=r.filter.updateChild(b,N,w,$t(i),y,d):e.eventCache.getNode().hasChild(N)?E=r.filter.updateChild(b,N,ft.EMPTY_NODE,$t(i),y,d):E=b,E.isEmpty()&&e.serverCache.isFullyInitialized()&&(p=wh(o,fa(e)),p.isLeafNode()&&(E=r.filter.updateFullNode(E,p,d)))}return p=e.serverCache.isFullyInitialized()||Ch(o,Ht())!=null,$l(e,E,p,r.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(e,i){this.query_=e,this.eventRegistrations_=[];const o=this.query_._queryParams,c=new rm(o.getIndex()),d=sA(o);this.processor_=DA(d);const p=i.serverCache,y=i.eventCache,b=c.updateFullNode(ft.EMPTY_NODE,p.getNode(),null),E=d.updateFullNode(ft.EMPTY_NODE,y.getNode(),null),N=new ha(b,p.isFullyInitialized(),c.filtersNodes()),w=new ha(E,y.isFullyInitialized(),d.filtersNodes());this.viewCache_=Uh(w,N),this.eventGenerator_=new _A(this.query_)}get query(){return this.query_}}function qA(r){return r.viewCache_.serverCache.getNode()}function VA(r,e){const i=fa(r.viewCache_);return i&&(r.query._queryParams.loadsAllData()||!St(e)&&!i.getImmediateChild(Et(e)).isEmpty())?i.getChild(e):null}function Vy(r){return r.eventRegistrations_.length===0}function GA(r,e){r.eventRegistrations_.push(e)}function Gy(r,e,i){const o=[];if(i){Q(e==null,"A cancel should cancel all event registrations.");const c=r.query._path;r.eventRegistrations_.forEach(d=>{const p=d.createCancelEvent(i,c);p&&o.push(p)})}if(e){let c=[];for(let d=0;d<r.eventRegistrations_.length;++d){const p=r.eventRegistrations_[d];if(!p.matches(e))c.push(p);else if(e.hasAnyCallback()){c=c.concat(r.eventRegistrations_.slice(d+1));break}}r.eventRegistrations_=c}else r.eventRegistrations_=[];return o}function Fy(r,e,i,o){e.type===ni.MERGE&&e.source.queryId!==null&&(Q(fa(r.viewCache_),"We should always have a full cache before handling merges"),Q(A_(r.viewCache_),"Missing event cache, even though we have a server cache"));const c=r.viewCache_,d=PA(r.processor_,c,e,i,o);return kA(r.processor_,d.viewCache),Q(d.viewCache.serverCache.isFullyInitialized()||!c.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),r.viewCache_=d.viewCache,Zb(r,d.changes,d.viewCache.eventCache.getNode(),null)}function FA(r,e){const i=r.viewCache_.eventCache,o=[];return i.getNode().isLeafNode()||i.getNode().forEachChild(ue,(d,p)=>{o.push(So(d,p))}),i.isFullyInitialized()&&o.push(Lb(i.getNode())),Zb(r,o,i.getNode(),e)}function Zb(r,e,i,o){const c=o?[o]:r.eventRegistrations_;return mA(r.eventGenerator_,e,i,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ah;class YA{constructor(){this.views=new Map}}function WA(r){Q(!Ah,"__referenceConstructor has already been defined"),Ah=r}function KA(){return Q(Ah,"Reference.ts has not been loaded"),Ah}function QA(r){return r.views.size===0}function dm(r,e,i,o){const c=e.source.queryId;if(c!==null){const d=r.views.get(c);return Q(d!=null,"SyncTree gave us an op for an invalid query."),Fy(d,e,i,o)}else{let d=[];for(const p of r.views.values())d=d.concat(Fy(p,e,i,o));return d}}function XA(r,e,i,o,c){const d=e._queryIdentifier,p=r.views.get(d);if(!p){let y=wh(i,c?o:null),b=!1;y?b=!0:o instanceof ft?(y=cm(i,o),b=!1):(y=ft.EMPTY_NODE,b=!1);const E=Uh(new ha(y,b,!1),new ha(o,c,!1));return new ZA(e,E)}return p}function JA(r,e,i,o,c,d){const p=XA(r,e,o,c,d);return r.views.has(e._queryIdentifier)||r.views.set(e._queryIdentifier,p),GA(p,i),FA(p,i)}function $A(r,e,i,o){const c=e._queryIdentifier,d=[];let p=[];const y=ar(r);if(c==="default")for(const[b,E]of r.views.entries())p=p.concat(Gy(E,i,o)),Vy(E)&&(r.views.delete(b),E.query._queryParams.loadsAllData()||d.push(E.query));else{const b=r.views.get(c);b&&(p=p.concat(Gy(b,i,o)),Vy(b)&&(r.views.delete(c),b.query._queryParams.loadsAllData()||d.push(b.query)))}return y&&!ar(r)&&d.push(new(KA())(e._repo,e._path)),{removed:d,events:p}}function qb(r){const e=[];for(const i of r.views.values())i.query._queryParams.loadsAllData()||e.push(i);return e}function vo(r,e){let i=null;for(const o of r.views.values())i=i||VA(o,e);return i}function Vb(r,e){if(e._queryParams.loadsAllData())return Bh(r);{const o=e._queryIdentifier;return r.views.get(o)}}function Gb(r,e){return Vb(r,e)!=null}function ar(r){return Bh(r)!=null}function Bh(r){for(const e of r.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nh;function tN(r){Q(!Nh,"__referenceConstructor has already been defined"),Nh=r}function eN(){return Q(Nh,"Reference.ts has not been loaded"),Nh}let nN=1;class Yy{constructor(e){this.listenProvider_=e,this.syncPointTree_=new se(null),this.pendingWriteTree_=RA(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Fb(r,e,i,o,c){return yA(r.pendingWriteTree_,e,i,o,c),c?Su(r,new ca(Ib(),e,i)):[]}function ia(r,e,i=!1){const o=bA(r.pendingWriteTree_,e);if(EA(r.pendingWriteTree_,e)){let d=new se(null);return o.snap!=null?d=d.set(Ht(),!0):Ke(o.children,p=>{d=d.set(new Zt(p),!0)}),Su(r,new Th(o.path,d,i))}else return[]}function Hh(r,e,i){return Su(r,new ca(om(),e,i))}function iN(r,e,i){const o=se.fromObject(i);return Su(r,new fu(om(),e,o))}function sN(r,e){return Su(r,new hu(om(),e))}function rN(r,e,i){const o=mm(r,i);if(o){const c=pm(o),d=c.path,p=c.queryId,y=gn(d,e),b=new hu(lm(p),y);return gm(r,d,b)}else return[]}function L_(r,e,i,o,c=!1){const d=e._path,p=r.syncPointTree_.get(d);let y=[];if(p&&(e._queryIdentifier==="default"||Gb(p,e))){const b=$A(p,e,i,o);QA(p)&&(r.syncPointTree_=r.syncPointTree_.remove(d));const E=b.removed;if(y=b.events,!c){const N=E.findIndex(O=>O._queryParams.loadsAllData())!==-1,w=r.syncPointTree_.findOnPath(d,(O,F)=>ar(F));if(N&&!w){const O=r.syncPointTree_.subtree(d);if(!O.isEmpty()){const F=lN(O);for(let K=0;K<F.length;++K){const tt=F[K],Ot=tt.query,zt=Kb(r,tt);r.listenProvider_.startListening(eu(Ot),Oh(r,Ot),zt.hashFn,zt.onComplete)}}}!w&&E.length>0&&!o&&(N?r.listenProvider_.stopListening(eu(e),null):E.forEach(O=>{const F=r.queryToTagMap.get(jh(O));r.listenProvider_.stopListening(eu(O),F)}))}uN(r,E)}return y}function aN(r,e,i,o){const c=mm(r,o);if(c!=null){const d=pm(c),p=d.path,y=d.queryId,b=gn(p,e),E=new ca(lm(y),b,i);return gm(r,p,E)}else return[]}function oN(r,e,i,o){const c=mm(r,o);if(c){const d=pm(c),p=d.path,y=d.queryId,b=gn(p,e),E=se.fromObject(i),N=new fu(lm(y),b,E);return gm(r,p,N)}else return[]}function Wy(r,e,i,o=!1){const c=e._path;let d=null,p=!1;r.syncPointTree_.foreachOnPath(c,(O,F)=>{const K=gn(O,c);d=d||vo(F,K),p=p||ar(F)});let y=r.syncPointTree_.get(c);y?(p=p||ar(y),d=d||vo(y,Ht())):(y=new YA,r.syncPointTree_=r.syncPointTree_.set(c,y));let b;d!=null?b=!0:(b=!1,d=ft.EMPTY_NODE,r.syncPointTree_.subtree(c).foreachChild((F,K)=>{const tt=vo(K,Ht());tt&&(d=d.updateImmediateChild(F,tt))}));const E=Gb(y,e);if(!E&&!e._queryParams.loadsAllData()){const O=jh(e);Q(!r.queryToTagMap.has(O),"View does not exist, but we have a tag");const F=cN();r.queryToTagMap.set(O,F),r.tagToQueryMap.set(F,O)}const N=um(r.pendingWriteTree_,c);let w=JA(y,e,i,N,d,b);if(!E&&!p&&!o){const O=Vb(y,e);w=w.concat(hN(r,e,O))}return w}function _m(r,e,i){const c=r.pendingWriteTree_,d=r.syncPointTree_.findOnPath(e,(p,y)=>{const b=gn(p,e),E=vo(y,b);if(E)return E});return zb(c,e,d,i,!0)}function Su(r,e){return Yb(e,r.syncPointTree_,null,um(r.pendingWriteTree_,Ht()))}function Yb(r,e,i,o){if(St(r.path))return Wb(r,e,i,o);{const c=e.get(Ht());i==null&&c!=null&&(i=vo(c,Ht()));let d=[];const p=Et(r.path),y=r.operationForChild(p),b=e.children.get(p);if(b&&y){const E=i?i.getImmediateChild(p):null,N=Ub(o,p);d=d.concat(Yb(y,b,E,N))}return c&&(d=d.concat(dm(c,r,o,i))),d}}function Wb(r,e,i,o){const c=e.get(Ht());i==null&&c!=null&&(i=vo(c,Ht()));let d=[];return e.children.inorderTraversal((p,y)=>{const b=i?i.getImmediateChild(p):null,E=Ub(o,p),N=r.operationForChild(p);N&&(d=d.concat(Wb(N,y,b,E)))}),c&&(d=d.concat(dm(c,r,o,i))),d}function Kb(r,e){const i=e.query,o=Oh(r,i);return{hashFn:()=>(qA(e)||ft.EMPTY_NODE).hash(),onComplete:c=>{if(c==="ok")return o?rN(r,i._path,o):sN(r,i._path);{const d=sx(c,i);return L_(r,i,null,d)}}}}function Oh(r,e){const i=jh(e);return r.queryToTagMap.get(i)}function jh(r){return r._path.toString()+"$"+r._queryIdentifier}function mm(r,e){return r.tagToQueryMap.get(e)}function pm(r){const e=r.indexOf("$");return Q(e!==-1&&e<r.length-1,"Bad queryKey."),{queryId:r.substr(e+1),path:new Zt(r.substr(0,e))}}function gm(r,e,i){const o=r.syncPointTree_.get(e);Q(o,"Missing sync point for query tag that we're tracking");const c=um(r.pendingWriteTree_,e);return dm(o,i,c,null)}function lN(r){return r.fold((e,i,o)=>{if(i&&ar(i))return[Bh(i)];{let c=[];return i&&(c=qb(i)),Ke(o,(d,p)=>{c=c.concat(p)}),c}})}function eu(r){return r._queryParams.loadsAllData()&&!r._queryParams.isDefault()?new(eN())(r._repo,r._path):r}function uN(r,e){for(let i=0;i<e.length;++i){const o=e[i];if(!o._queryParams.loadsAllData()){const c=jh(o),d=r.queryToTagMap.get(c);r.queryToTagMap.delete(c),r.tagToQueryMap.delete(d)}}}function cN(){return nN++}function hN(r,e,i){const o=e._path,c=Oh(r,e),d=Kb(r,i),p=r.listenProvider_.startListening(eu(e),c,d.hashFn,d.onComplete),y=r.syncPointTree_.subtree(o);if(c)Q(!ar(y.value),"If we're adding a query, it shouldn't be shadowed");else{const b=y.fold((E,N,w)=>{if(!St(E)&&N&&ar(N))return[Bh(N).query];{let O=[];return N&&(O=O.concat(qb(N).map(F=>F.query))),Ke(w,(F,K)=>{O=O.concat(K)}),O}});for(let E=0;E<b.length;++E){const N=b[E];r.listenProvider_.stopListening(eu(N),Oh(r,N))}}return p}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(e){this.node_=e}getImmediateChild(e){const i=this.node_.getImmediateChild(e);return new vm(i)}node(){return this.node_}}class ym{constructor(e,i){this.syncTree_=e,this.path_=i}getImmediateChild(e){const i=ge(this.path_,e);return new ym(this.syncTree_,i)}node(){return _m(this.syncTree_,this.path_)}}const fN=function(r){return r=r||{},r.timestamp=r.timestamp||new Date().getTime(),r},Ky=function(r,e,i){if(!r||typeof r!="object")return r;if(Q(".sv"in r,"Unexpected leaf node or priority contents"),typeof r[".sv"]=="string")return dN(r[".sv"],e,i);if(typeof r[".sv"]=="object")return _N(r[".sv"],e);Q(!1,"Unexpected server value: "+JSON.stringify(r,null,2))},dN=function(r,e,i){switch(r){case"timestamp":return i.timestamp;default:Q(!1,"Unexpected server value: "+r)}},_N=function(r,e,i){r.hasOwnProperty("increment")||Q(!1,"Unexpected server value: "+JSON.stringify(r,null,2));const o=r.increment;typeof o!="number"&&Q(!1,"Unexpected increment value: "+o);const c=e.node();if(Q(c!==null&&typeof c<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!c.isLeafNode())return o;const p=c.getValue();return typeof p!="number"?o:p+o},mN=function(r,e,i,o){return bm(e,new ym(i,r),o)},Qb=function(r,e,i){return bm(r,new vm(e),i)};function bm(r,e,i){const o=r.getPriority().val(),c=Ky(o,e.getImmediateChild(".priority"),i);let d;if(r.isLeafNode()){const p=r,y=Ky(p.getValue(),e,i);return y!==p.getValue()||c!==p.getPriority().val()?new ke(y,Ce(c)):r}else{const p=r;return d=p,c!==p.getPriority().val()&&(d=d.updatePriority(new ke(c))),p.forEachChild(ue,(y,b)=>{const E=bm(b,e.getImmediateChild(y),i);E!==b&&(d=d.updateImmediateChild(y,E))}),d}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(e="",i=null,o={children:{},childCount:0}){this.name=e,this.parent=i,this.node=o}}function Sm(r,e){let i=e instanceof Zt?e:new Zt(e),o=r,c=Et(i);for(;c!==null;){const d=yo(o.node.children,c)||{children:{},childCount:0};o=new Em(c,o,d),i=$t(i),c=Et(i)}return o}function Lo(r){return r.node.value}function Xb(r,e){r.node.value=e,I_(r)}function Jb(r){return r.node.childCount>0}function pN(r){return Lo(r)===void 0&&!Jb(r)}function Zh(r,e){Ke(r.node.children,(i,o)=>{e(new Em(i,r,o))})}function $b(r,e,i,o){i&&e(r),Zh(r,c=>{$b(c,e,!0)})}function gN(r,e,i){let o=r.parent;for(;o!==null;){if(e(o))return!0;o=o.parent}return!1}function Tu(r){return new Zt(r.parent===null?r.name:Tu(r.parent)+"/"+r.name)}function I_(r){r.parent!==null&&vN(r.parent,r.name,r)}function vN(r,e,i){const o=pN(i),c=Ti(r.node.children,e);o&&c?(delete r.node.children[e],r.node.childCount--,I_(r)):!o&&!c&&(r.node.children[e]=i.node,r.node.childCount++,I_(r))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN=/[\[\].#$\/\u0000-\u001F\u007F]/,bN=/[\[\].#$\u0000-\u001F\u007F]/,c_=10*1024*1024,Tm=function(r){return typeof r=="string"&&r.length!==0&&!yN.test(r)},tE=function(r){return typeof r=="string"&&r.length!==0&&!bN.test(r)},EN=function(r){return r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),tE(r)},Rh=function(r){return r===null||typeof r=="string"||typeof r=="number"&&!Ph(r)||r&&typeof r=="object"&&Ti(r,".sv")},da=function(r,e,i,o){o&&e===void 0||qh(bo(r,"value"),e,i)},qh=function(r,e,i){const o=i instanceof Zt?new Ux(i,r):i;if(e===void 0)throw new Error(r+"contains undefined "+ea(o));if(typeof e=="function")throw new Error(r+"contains a function "+ea(o)+" with contents = "+e.toString());if(Ph(e))throw new Error(r+"contains "+e.toString()+" "+ea(o));if(typeof e=="string"&&e.length>c_/3&&Lh(e)>c_)throw new Error(r+"contains a string greater than "+c_+" utf8 bytes "+ea(o)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let c=!1,d=!1;if(Ke(e,(p,y)=>{if(p===".value")c=!0;else if(p!==".priority"&&p!==".sv"&&(d=!0,!Tm(p)))throw new Error(r+" contains an invalid key ("+p+") "+ea(o)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Bx(o,p),qh(r,y,o),Hx(o)}),c&&d)throw new Error(r+' contains ".value" child '+ea(o)+" in addition to actual children.")}},SN=function(r,e){let i,o;for(i=0;i<e.length;i++){o=e[i];const d=ou(o);for(let p=0;p<d.length;p++)if(!(d[p]===".priority"&&p===d.length-1)){if(!Tm(d[p]))throw new Error(r+"contains an invalid key ("+d[p]+") in path "+o.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(zx);let c=null;for(i=0;i<e.length;i++){if(o=e[i],c!==null&&Zn(c,o))throw new Error(r+"contains a path "+c.toString()+" that is ancestor of another path "+o.toString());c=o}},TN=function(r,e,i,o){const c=bo(r,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(c+" must be an object containing the children to replace.");const d=[];Ke(e,(p,y)=>{const b=new Zt(p);if(qh(c,y,ge(i,b)),tm(b)===".priority"&&!Rh(y))throw new Error(c+"contains an invalid value for '"+b.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");d.push(b)}),SN(c,d)},wN=function(r,e,i){if(Ph(e))throw new Error(bo(r,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Rh(e))throw new Error(bo(r,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")},wm=function(r,e,i,o){if(!tE(i))throw new Error(bo(r,e)+'was an invalid path = "'+i+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},CN=function(r,e,i,o){i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),wm(r,e,i)},fo=function(r,e){if(Et(e)===".info")throw new Error(r+" failed = Can't modify data under /.info/")},xN=function(r,e){const i=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Tm(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||i.length!==0&&!EN(i))throw new Error(bo(r,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Cm(r,e){let i=null;for(let o=0;o<e.length;o++){const c=e[o],d=c.getPath();i!==null&&!em(d,i.path)&&(r.eventLists_.push(i),i=null),i===null&&(i={events:[],path:d}),i.events.push(c)}i&&r.eventLists_.push(i)}function eE(r,e,i){Cm(r,i),nE(r,o=>em(o,e))}function us(r,e,i){Cm(r,i),nE(r,o=>Zn(o,e)||Zn(e,o))}function nE(r,e){r.recursionDepth_++;let i=!0;for(let o=0;o<r.eventLists_.length;o++){const c=r.eventLists_[o];if(c){const d=c.path;e(d)?(NN(r.eventLists_[o]),r.eventLists_[o]=null):i=!1}}i&&(r.eventLists_=[]),r.recursionDepth_--}function NN(r){for(let e=0;e<r.events.length;e++){const i=r.events[e];if(i!==null){r.events[e]=null;const o=i.getEventRunner();Xl&&Ve("event: "+i.toString()),Ro(o)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON="repo_interrupt",RN=25;class MN{constructor(e,i,o,c){this.repoInfo_=e,this.forceRestClient_=i,this.authTokenProvider_=o,this.appCheckProvider_=c,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new AN,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Sh(),this.transactionQueueTree_=new Em,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function LN(r,e,i){if(r.stats_=J_(r.repoInfo_),r.forceRestClient_||lx())r.server_=new Eh(r.repoInfo_,(o,c,d,p)=>{Qy(r,o,c,d,p)},r.authTokenProvider_,r.appCheckProvider_),setTimeout(()=>Xy(r,!0),0);else{if(typeof i<"u"&&i!==null){if(typeof i!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ze(i)}catch(o){throw new Error("Invalid authOverride provided: "+o)}}r.persistentConnection_=new ss(r.repoInfo_,e,(o,c,d,p)=>{Qy(r,o,c,d,p)},o=>{Xy(r,o)},o=>{IN(r,o)},r.authTokenProvider_,r.appCheckProvider_,i),r.server_=r.persistentConnection_}r.authTokenProvider_.addTokenChangeListener(o=>{r.server_.refreshAuthToken(o)}),r.appCheckProvider_.addTokenChangeListener(o=>{r.server_.refreshAppCheckToken(o.token)}),r.statsReporter_=dx(r.repoInfo_,()=>new dA(r.stats_,r.server_)),r.infoData_=new lA,r.infoSyncTree_=new Yy({startListening:(o,c,d,p)=>{let y=[];const b=r.infoData_.getNode(o._path);return b.isEmpty()||(y=Hh(r.infoSyncTree_,o._path,b),setTimeout(()=>{p("ok")},0)),y},stopListening:()=>{}}),Am(r,"connected",!1),r.serverSyncTree_=new Yy({startListening:(o,c,d,p)=>(r.server_.listen(o,d,c,(y,b)=>{const E=p(y,b);us(r.eventQueue_,o._path,E)}),[]),stopListening:(o,c)=>{r.server_.unlisten(o,c)}})}function iE(r){const i=r.infoData_.getNode(new Zt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+i}function xm(r){return fN({timestamp:iE(r)})}function Qy(r,e,i,o,c){r.dataUpdateCount++;const d=new Zt(e);i=r.interceptServerDataCallback_?r.interceptServerDataCallback_(e,i):i;let p=[];if(c)if(o){const b=ch(i,E=>Ce(E));p=oN(r.serverSyncTree_,d,b,c)}else{const b=Ce(i);p=aN(r.serverSyncTree_,d,b,c)}else if(o){const b=ch(i,E=>Ce(E));p=iN(r.serverSyncTree_,d,b)}else{const b=Ce(i);p=Hh(r.serverSyncTree_,d,b)}let y=d;p.length>0&&(y=Vh(r,d)),us(r.eventQueue_,y,p)}function Xy(r,e){Am(r,"connected",e),e===!1&&kN(r)}function IN(r,e){Ke(e,(i,o)=>{Am(r,i,o)})}function Am(r,e,i){const o=new Zt("/.info/"+e),c=Ce(i);r.infoData_.updateSnapshot(o,c);const d=Hh(r.infoSyncTree_,o,c);us(r.eventQueue_,o,d)}function sE(r){return r.nextWriteId_++}function DN(r,e,i,o,c){Nm(r,"set",{path:e.toString(),value:i,priority:o});const d=xm(r),p=Ce(i,o),y=_m(r.serverSyncTree_,e),b=Qb(p,y,d),E=sE(r),N=Fb(r.serverSyncTree_,e,b,E,!0);Cm(r.eventQueue_,N),r.server_.put(e.toString(),p.val(!0),(O,F)=>{const K=O==="ok";K||yn("set at "+e+" failed: "+O);const tt=ia(r.serverSyncTree_,E,!K);us(r.eventQueue_,e,tt),wo(r,c,O,F)});const w=uE(r,e);Vh(r,w),us(r.eventQueue_,w,[])}function kN(r){Nm(r,"onDisconnectEvents");const e=xm(r),i=Sh();x_(r.onDisconnect_,Ht(),(c,d)=>{const p=mN(c,d,r.serverSyncTree_,e);Mo(i,c,p)});let o=[];x_(i,Ht(),(c,d)=>{o=o.concat(Hh(r.serverSyncTree_,c,d));const p=uE(r,c);Vh(r,p)}),r.onDisconnect_=Sh(),us(r.eventQueue_,Ht(),o)}function PN(r,e,i){r.server_.onDisconnectCancel(e.toString(),(o,c)=>{o==="ok"&&C_(r.onDisconnect_,e),wo(r,i,o,c)})}function Jy(r,e,i,o){const c=Ce(i);r.server_.onDisconnectPut(e.toString(),c.val(!0),(d,p)=>{d==="ok"&&Mo(r.onDisconnect_,e,c),wo(r,o,d,p)})}function zN(r,e,i,o,c){const d=Ce(i,o);r.server_.onDisconnectPut(e.toString(),d.val(!0),(p,y)=>{p==="ok"&&Mo(r.onDisconnect_,e,d),wo(r,c,p,y)})}function UN(r,e,i,o){if(uh(i)){Ve("onDisconnect().update() called with empty data.  Don't do anything."),wo(r,o,"ok",void 0);return}r.server_.onDisconnectMerge(e.toString(),i,(c,d)=>{c==="ok"&&Ke(i,(p,y)=>{const b=Ce(y);Mo(r.onDisconnect_,ge(e,p),b)}),wo(r,o,c,d)})}function BN(r,e,i){let o;Et(e._path)===".info"?o=Wy(r.infoSyncTree_,e,i):o=Wy(r.serverSyncTree_,e,i),eE(r.eventQueue_,e._path,o)}function HN(r,e,i){let o;Et(e._path)===".info"?o=L_(r.infoSyncTree_,e,i):o=L_(r.serverSyncTree_,e,i),eE(r.eventQueue_,e._path,o)}function jN(r){r.persistentConnection_&&r.persistentConnection_.interrupt(ON)}function Nm(r,...e){let i="";r.persistentConnection_&&(i=r.persistentConnection_.id+":"),Ve(i,...e)}function wo(r,e,i,o){e&&Ro(()=>{if(i==="ok")e(null);else{const c=(i||"error").toUpperCase();let d=c;o&&(d+=": "+o);const p=new Error(d);p.code=c,e(p)}})}function rE(r,e,i){return _m(r.serverSyncTree_,e,i)||ft.EMPTY_NODE}function Om(r,e=r.transactionQueueTree_){if(e||Gh(r,e),Lo(e)){const i=oE(r,e);Q(i.length>0,"Sending zero length transaction queue"),i.every(c=>c.status===0)&&ZN(r,Tu(e),i)}else Jb(e)&&Zh(e,i=>{Om(r,i)})}function ZN(r,e,i){const o=i.map(E=>E.currentWriteId),c=rE(r,e,o);let d=c;const p=c.hash();for(let E=0;E<i.length;E++){const N=i[E];Q(N.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),N.status=1,N.retryCount++;const w=gn(e,N.path);d=d.updateChild(w,N.currentOutputSnapshotRaw)}const y=d.val(!0),b=e;r.server_.put(b.toString(),y,E=>{Nm(r,"transaction put response",{path:b.toString(),status:E});let N=[];if(E==="ok"){const w=[];for(let O=0;O<i.length;O++)i[O].status=2,N=N.concat(ia(r.serverSyncTree_,i[O].currentWriteId)),i[O].onComplete&&w.push(()=>i[O].onComplete(null,!0,i[O].currentOutputSnapshotResolved)),i[O].unwatcher();Gh(r,Sm(r.transactionQueueTree_,e)),Om(r,r.transactionQueueTree_),us(r.eventQueue_,e,N);for(let O=0;O<w.length;O++)Ro(w[O])}else{if(E==="datastale")for(let w=0;w<i.length;w++)i[w].status===3?i[w].status=4:i[w].status=0;else{yn("transaction at "+b.toString()+" failed: "+E);for(let w=0;w<i.length;w++)i[w].status=4,i[w].abortReason=E}Vh(r,e)}},p)}function Vh(r,e){const i=aE(r,e),o=Tu(i),c=oE(r,i);return qN(r,c,o),o}function qN(r,e,i){if(e.length===0)return;const o=[];let c=[];const p=e.filter(y=>y.status===0).map(y=>y.currentWriteId);for(let y=0;y<e.length;y++){const b=e[y],E=gn(i,b.path);let N=!1,w;if(Q(E!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),b.status===4)N=!0,w=b.abortReason,c=c.concat(ia(r.serverSyncTree_,b.currentWriteId,!0));else if(b.status===0)if(b.retryCount>=RN)N=!0,w="maxretry",c=c.concat(ia(r.serverSyncTree_,b.currentWriteId,!0));else{const O=rE(r,b.path,p);b.currentInputSnapshot=O;const F=e[y].update(O.val());if(F!==void 0){qh("transaction failed: Data returned ",F,b.path);let K=Ce(F);typeof F=="object"&&F!=null&&Ti(F,".priority")||(K=K.updatePriority(O.getPriority()));const Ot=b.currentWriteId,zt=xm(r),te=Qb(K,O,zt);b.currentOutputSnapshotRaw=K,b.currentOutputSnapshotResolved=te,b.currentWriteId=sE(r),p.splice(p.indexOf(Ot),1),c=c.concat(Fb(r.serverSyncTree_,b.path,te,b.currentWriteId,b.applyLocally)),c=c.concat(ia(r.serverSyncTree_,Ot,!0))}else N=!0,w="nodata",c=c.concat(ia(r.serverSyncTree_,b.currentWriteId,!0))}us(r.eventQueue_,i,c),c=[],N&&(e[y].status=2,(function(O){setTimeout(O,Math.floor(0))})(e[y].unwatcher),e[y].onComplete&&(w==="nodata"?o.push(()=>e[y].onComplete(null,!1,e[y].currentInputSnapshot)):o.push(()=>e[y].onComplete(new Error(w),!1,null))))}Gh(r,r.transactionQueueTree_);for(let y=0;y<o.length;y++)Ro(o[y]);Om(r,r.transactionQueueTree_)}function aE(r,e){let i,o=r.transactionQueueTree_;for(i=Et(e);i!==null&&Lo(o)===void 0;)o=Sm(o,i),e=$t(e),i=Et(e);return o}function oE(r,e){const i=[];return lE(r,e,i),i.sort((o,c)=>o.order-c.order),i}function lE(r,e,i){const o=Lo(e);if(o)for(let c=0;c<o.length;c++)i.push(o[c]);Zh(e,c=>{lE(r,c,i)})}function Gh(r,e){const i=Lo(e);if(i){let o=0;for(let c=0;c<i.length;c++)i[c].status!==2&&(i[o]=i[c],o++);i.length=o,Xb(e,i.length>0?i:void 0)}Zh(e,o=>{Gh(r,o)})}function uE(r,e){const i=Tu(aE(r,e)),o=Sm(r.transactionQueueTree_,e);return gN(o,c=>{h_(r,c)}),h_(r,o),$b(o,c=>{h_(r,c)}),i}function h_(r,e){const i=Lo(e);if(i){const o=[];let c=[],d=-1;for(let p=0;p<i.length;p++)i[p].status===3||(i[p].status===1?(Q(d===p-1,"All SENT items should be at beginning of queue."),d=p,i[p].status=3,i[p].abortReason="set"):(Q(i[p].status===0,"Unexpected transaction status in abort"),i[p].unwatcher(),c=c.concat(ia(r.serverSyncTree_,i[p].currentWriteId,!0)),i[p].onComplete&&o.push(i[p].onComplete.bind(null,new Error("set"),!1,null))));d===-1?Xb(e,void 0):i.length=d+1,us(r.eventQueue_,Tu(e),c);for(let p=0;p<o.length;p++)Ro(o[p])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VN(r){let e="";const i=r.split("/");for(let o=0;o<i.length;o++)if(i[o].length>0){let c=i[o];try{c=decodeURIComponent(c.replace(/\+/g," "))}catch{}e+="/"+c}return e}function GN(r){const e={};r.charAt(0)==="?"&&(r=r.substring(1));for(const i of r.split("&")){if(i.length===0)continue;const o=i.split("=");o.length===2?e[decodeURIComponent(o[0])]=decodeURIComponent(o[1]):yn(`Invalid query segment '${i}' in query '${r}'`)}return e}const $y=function(r,e){const i=FN(r),o=i.namespace;i.domain==="firebase.com"&&ls(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!o||o==="undefined")&&i.domain!=="localhost"&&ls("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.secure||$1();const c=i.scheme==="ws"||i.scheme==="wss";return{repoInfo:new mb(i.host,i.secure,o,c,e,"",o!==i.subdomain),path:new Zt(i.pathString)}},FN=function(r){let e="",i="",o="",c="",d="",p=!0,y="https",b=443;if(typeof r=="string"){let E=r.indexOf("//");E>=0&&(y=r.substring(0,E-1),r=r.substring(E+2));let N=r.indexOf("/");N===-1&&(N=r.length);let w=r.indexOf("?");w===-1&&(w=r.length),e=r.substring(0,Math.min(N,w)),N<w&&(c=VN(r.substring(N,w)));const O=GN(r.substring(Math.min(r.length,w)));E=e.indexOf(":"),E>=0?(p=y==="https"||y==="wss",b=parseInt(e.substring(E+1),10)):E=e.length;const F=e.slice(0,E);if(F.toLowerCase()==="localhost")i="localhost";else if(F.split(".").length<=2)i=F;else{const K=e.indexOf(".");o=e.substring(0,K).toLowerCase(),i=e.substring(K+1),d=o}"ns"in O&&(d=O.ns)}return{host:e,port:b,domain:i,subdomain:o,secure:p,scheme:y,pathString:c,namespace:d}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",YN=(function(){let r=0;const e=[];return function(i){const o=i===r;r=i;let c;const d=new Array(8);for(c=7;c>=0;c--)d[c]=t0.charAt(i%64),i=Math.floor(i/64);Q(i===0,"Cannot push at time == 0");let p=d.join("");if(o){for(c=11;c>=0&&e[c]===63;c--)e[c]=0;e[c]++}else for(c=0;c<12;c++)e[c]=Math.floor(Math.random()*64);for(c=0;c<12;c++)p+=t0.charAt(e[c]);return Q(p.length===20,"nextPushId: Length should be 20."),p}})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(e,i,o,c){this.eventType=e,this.eventRegistration=i,this.snapshot=o,this.prevName=c}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+ze(this.snapshot.exportVal())}}class KN{constructor(e,i,o){this.eventRegistration=e,this.error=i,this.path=o}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(e,i){this.snapshotCallback=e,this.cancelCallback=i}onValue(e,i){this.snapshotCallback.call(null,e,i)}onCancel(e){return Q(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(e,i){this._repo=e,this._path=i}cancel(){const e=new $i;return PN(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){fo("OnDisconnect.remove",this._path);const e=new $i;return Jy(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){fo("OnDisconnect.set",this._path),da("OnDisconnect.set",e,this._path,!1);const i=new $i;return Jy(this._repo,this._path,e,i.wrapCallback(()=>{})),i.promise}setWithPriority(e,i){fo("OnDisconnect.setWithPriority",this._path),da("OnDisconnect.setWithPriority",e,this._path,!1),wN("OnDisconnect.setWithPriority",i);const o=new $i;return zN(this._repo,this._path,e,i,o.wrapCallback(()=>{})),o.promise}update(e){fo("OnDisconnect.update",this._path),TN("OnDisconnect.update",e,this._path);const i=new $i;return UN(this._repo,this._path,e,i.wrapCallback(()=>{})),i.promise}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e,i,o,c){this._repo=e,this._path=i,this._queryParams=o,this._orderByCalled=c}get key(){return St(this._path)?null:tm(this._path)}get ref(){return new cr(this._repo,this._path)}get _queryIdentifier(){const e=Py(this._queryParams),i=Q_(e);return i==="{}"?"default":i}get _queryObject(){return Py(this._queryParams)}isEqual(e){if(e=Ge(e),!(e instanceof Io))return!1;const i=this._repo===e._repo,o=em(this._path,e._path),c=this._queryIdentifier===e._queryIdentifier;return i&&o&&c}toJSON(){return this.toString()}toString(){return this._repo.toString()+Px(this._path)}}function JN(r,e){if(r._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function Rm(r){let e=null,i=null;if(r.hasStart()&&(e=r.getIndexStartValue()),r.hasEnd()&&(i=r.getIndexEndValue()),r.getIndex()===sa){const o="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",c="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(r.hasStart()){if(r.getIndexStartName()!==ua)throw new Error(o);if(typeof e!="string")throw new Error(c)}if(r.hasEnd()){if(r.getIndexEndName()!==sr)throw new Error(o);if(typeof i!="string")throw new Error(c)}}else if(r.getIndex()===ue){if(e!=null&&!Rh(e)||i!=null&&!Rh(i))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Q(r.getIndex()instanceof sm||r.getIndex()===Mb,"unknown index type."),e!=null&&typeof e=="object"||i!=null&&typeof i=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function cE(r){if(r.hasStart()&&r.hasEnd()&&r.hasLimit()&&!r.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class cr extends Io{constructor(e,i){super(e,i,new am,!1)}get parent(){const e=wb(this._path);return e===null?null:new cr(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Mh{constructor(e,i,o){this._node=e,this.ref=i,this._index=o}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const i=new Zt(e),o=du(this.ref,e);return new Mh(this._node.getChild(i),o,ue)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(o,c)=>e(new Mh(c,du(this.ref,o),ue)))}hasChild(e){const i=new Zt(e);return!this._node.getChild(i).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Mm(r,e){return r=Ge(r),r._checkNotDeleted("ref"),e!==void 0?du(r._root,e):r._root}function du(r,e){return r=Ge(r),Et(r._path)===null?CN("child","path",e):wm("child","path",e),new cr(r._repo,ge(r._path,e))}function $N(r){return r=Ge(r),new XN(r._repo,r._path)}function tO(r,e){r=Ge(r),fo("push",r._path),da("push",e,r._path,!0);const i=iE(r._repo),o=YN(i),c=du(r,o),d=du(r,o);let p;return p=Promise.resolve(d),c.then=p.then.bind(p),c.catch=p.then.bind(p,void 0),c}function hE(r,e){r=Ge(r),fo("set",r._path),da("set",e,r._path,!1);const i=new $i;return DN(r._repo,r._path,e,null,i.wrapCallback(()=>{})),i.promise}class Lm{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,i){const o=i._queryParams.getIndex();return new WN("value",this,new Mh(e.snapshotNode,new cr(i._repo,i._path),o))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,i){return this.callbackContext.hasCancelCallback?new KN(this,e,i):null}matches(e){return e instanceof Lm?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function eO(r,e,i,o,c){const d=new QN(i,void 0),p=new Lm(d);return BN(r._repo,r,p),()=>HN(r._repo,r,p)}function nO(r,e,i,o){return eO(r,"value",e)}class Fh{}class iO extends Fh{constructor(e,i){super(),this._value=e,this._key=i,this.type="endAt"}_apply(e){da("endAt",this._value,e._path,!0);const i=aA(e._queryParams,this._value,this._key);if(cE(i),Rm(i),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Io(e._repo,e._path,i,e._orderByCalled)}}class sO extends Fh{constructor(e,i){super(),this._value=e,this._key=i,this.type="startAt"}_apply(e){da("startAt",this._value,e._path,!0);const i=rA(e._queryParams,this._value,this._key);if(cE(i),Rm(i),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Io(e._repo,e._path,i,e._orderByCalled)}}class rO extends Fh{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){JN(e,"orderByChild");const i=new Zt(this._path);if(St(i))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const o=new sm(i),c=oA(e._queryParams,o);return Rm(c),new Io(e._repo,e._path,c,!0)}}function aO(r){return wm("orderByChild","path",r),new rO(r)}class oO extends Fh{constructor(e,i){super(),this._value=e,this._key=i,this.type="equalTo"}_apply(e){if(da("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new iO(this._value,this._key)._apply(new sO(this._value,this._key)._apply(e))}}function lO(r,e){return new oO(r,e)}function uO(r,...e){let i=Ge(r);for(const o of e)i=o._apply(i);return i}WA(cr);tN(cr);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cO="FIREBASE_DATABASE_EMULATOR_HOST",D_={};let hO=!1;function fO(r,e,i,o){const c=e.lastIndexOf(":"),d=e.substring(0,c),p=xo(d);r.repoInfo_=new mb(e,p,r.repoInfo_.namespace,r.repoInfo_.webSocketOnly,r.repoInfo_.nodeAdmin,r.repoInfo_.persistenceKey,r.repoInfo_.includeNamespaceInQueryParams,!0,i),o&&(r.authTokenProvider_=o)}function dO(r,e,i,o,c){let d=o||r.options.databaseURL;d===void 0&&(r.options.projectId||ls("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ve("Using default host for project ",r.options.projectId),d=`${r.options.projectId}-default-rtdb.firebaseio.com`);let p=$y(d,c),y=p.repoInfo,b;typeof process<"u"&&vy&&(b=vy[cO]),b?(d=`http://${b}?ns=${y.namespace}`,p=$y(d,c),y=p.repoInfo):p.repoInfo.secure;const E=new cx(r.name,r.options,e);xN("Invalid Firebase Database URL",p),St(p.path)||ls("Database URL must point to the root of a Firebase Database (not including a child path).");const N=mO(y,r,E,new ux(r,i));return new pO(N,r)}function _O(r,e){const i=D_[e];(!i||i[r.key]!==r)&&ls(`Database ${e}(${r.repoInfo_}) has already been deleted.`),jN(r),delete i[r.key]}function mO(r,e,i,o){let c=D_[e.name];c||(c={},D_[e.name]=c);let d=c[r.toURLString()];return d&&ls("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),d=new MN(r,hO,i,o),c[r.toURLString()]=d,d}class pO{constructor(e,i){this._repoInternal=e,this.app=i,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(LN(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new cr(this._repo,Ht())),this._rootInternal}_delete(){return this._rootInternal!==null&&(_O(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&ls("Cannot call "+e+" on a deleted database.")}}function gO(r=v0(),e){const i=j_(r,"database").getImmediate({identifier:e});if(!i._instanceStarted){const o=nT("database");o&&vO(i,...o)}return i}function vO(r,e,i,o={}){r=Ge(r),r._checkNotDeleted("useEmulator");const c=`${e}:${i}`,d=r._repoInternal;if(r._instanceStarted){if(c===r._repoInternal.repoInfo_.host&&ra(o,d.repoInfo_.emulatorOptions))return;ls("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let p;if(d.repoInfo_.nodeAdmin)o.mockUserToken&&ls('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),p=new ah(ah.OWNER);else if(o.mockUserToken){const y=typeof o.mockUserToken=="string"?o.mockUserToken:iT(o.mockUserToken,r.app.options.projectId);p=new ah(y)}xo(e)&&(h0(e),f0("Database",!0)),fO(d,c,o,p)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yO(r){Y1(No),Eo(new aa("database",(e,{instanceIdentifier:i})=>{const o=e.getProvider("app").getImmediate(),c=e.getProvider("auth-internal"),d=e.getProvider("app-check-internal");return dO(o,c,d,i)},"PUBLIC").setMultipleInstances(!0)),nr(yy,by,r),nr(yy,by,"esm2020")}ss.prototype.simpleListen=function(r,e){this.sendRequest("q",{p:r},e)};ss.prototype.echo=function(r,e){this.sendRequest("echo",{d:r},e)};yO();const bO={apiKey:"AIzaSyAbJ-1Mq_P8cP4c8I-NFwzEil1K7TA_708",authDomain:"live-location-7d9ee.firebaseapp.com",databaseURL:"https://live-location-7d9ee-default-rtdb.firebaseio.com",projectId:"live-location-7d9ee",storageBucket:"live-location-7d9ee.firebasestorage.app",messagingSenderId:"779687667185",appId:"1:779687667185:web:c47623363d772f21ac1050"},fE=g0(bO),rs=q1(fE),Im=gO(fE),EO=({onAuthSuccess:r})=>{const[e,i]=mt.useState(""),[o,c]=mt.useState(""),[d,p]=mt.useState(!0),[y,b]=mt.useState(""),E=async N=>{N.preventDefault(),b("");try{d?await NC(rs,e,o):await AC(rs,e,o),r()}catch(w){b(w.message)}};return D.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-black to-gray-800 flex items-center justify-center p-4 relative overflow-hidden",children:[D.jsxs("div",{className:"absolute inset-0",children:[D.jsx("div",{className:"absolute top-20 left-20 w-32 h-32 bg-gradient-to-r from-red-500/20 to-pink-500/20 rounded-full blur-xl float-animation"}),D.jsx("div",{className:"absolute bottom-20 right-20 w-40 h-40 bg-gradient-to-r from-cyan-500/20 to-blue-500/20 rounded-full blur-xl float-animation",style:{animationDelay:"1s"}}),D.jsx("div",{className:"absolute top-1/2 left-1/2 w-24 h-24 bg-gradient-to-r from-purple-500/20 to-indigo-500/20 rounded-full blur-xl float-animation",style:{animationDelay:"2s"}})]}),D.jsxs("div",{className:"bg-gray-800/40 backdrop-blur-xl p-8 rounded-3xl shadow-2xl border border-gray-700/50 w-full max-w-md relative z-10",children:[D.jsxs("div",{className:"text-center mb-8",children:[D.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-red-500 to-cyan-400 rounded-2xl flex items-center justify-center mx-auto mb-6 pulse-glow",children:D.jsx("span",{className:"text-3xl",children:"🛰"})}),D.jsx("h2",{className:"text-4xl font-bold bg-gradient-to-r from-red-400 via-pink-400 to-cyan-400 bg-clip-text text-transparent mb-2",children:d?"Welcome Back":"Join TrackMe"}),D.jsx("p",{className:"text-gray-400",children:d?"Access your location network":"Start sharing your journey"})]}),D.jsxs("form",{onSubmit:E,className:"space-y-6",children:[D.jsxs("div",{className:"relative group",children:[D.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-500/20 to-cyan-400/20 rounded-2xl blur opacity-0 group-hover:opacity-100 transition-opacity"}),D.jsx("input",{type:"email",placeholder:"Enter your email",value:e,onChange:N=>i(N.target.value),className:"relative w-full p-4 bg-gray-700/50 border border-gray-600 rounded-2xl focus:border-cyan-400 focus:outline-none transition-all text-white placeholder-gray-400",required:!0})]}),D.jsxs("div",{className:"relative group",children:[D.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-500/20 to-cyan-400/20 rounded-2xl blur opacity-0 group-hover:opacity-100 transition-opacity"}),D.jsx("input",{type:"password",placeholder:"Enter your password",value:o,onChange:N=>c(N.target.value),className:"relative w-full p-4 bg-gray-700/50 border border-gray-600 rounded-2xl focus:border-cyan-400 focus:outline-none transition-all text-white placeholder-gray-400",required:!0})]}),y&&D.jsx("div",{className:"bg-red-900/30 border border-red-500/50 rounded-2xl p-4",children:D.jsx("p",{className:"text-red-400 text-sm",children:y})}),D.jsxs("button",{type:"submit",className:"w-full bg-gradient-to-r from-red-500 to-cyan-400 text-white p-4 rounded-2xl hover:from-red-600 hover:to-cyan-500 transition-all duration-300 font-semibold shadow-lg hover:shadow-2xl transform hover:scale-105 relative overflow-hidden group",children:[D.jsx("span",{className:"relative z-10",children:d?"Access Network":"Join Network"}),D.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400 to-red-500 opacity-0 group-hover:opacity-100 transition-opacity"})]})]}),D.jsx("div",{className:"text-center mt-8",children:D.jsxs("p",{className:"text-gray-400",children:[d?"New to TrackMe? ":"Already have access? ",D.jsx("button",{onClick:()=>p(!d),className:"text-cyan-400 hover:text-red-400 font-semibold transition-colors",children:d?"Create Account":"Sign In"})]})})]})]})};function dE(r,e){const i=mt.useRef(e);mt.useEffect(function(){e!==i.current&&r.attributionControl!=null&&(i.current!=null&&r.attributionControl.removeAttribution(i.current),e!=null&&r.attributionControl.addAttribution(e)),i.current=e},[r,e])}var SO=i0();const TO=1;function wO(r){return Object.freeze({__version:TO,map:r})}function CO(r,e){return Object.freeze({...r,...e})}const Dm=mt.createContext(null);function _E(){const r=mt.use(Dm);if(r==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return r}function xO(r){function e(i,o){const{instance:c,context:d}=r(i).current;mt.useImperativeHandle(o,()=>c);const{children:p}=i;return p==null?null:f_.createElement(Dm,{value:d},p)}return mt.forwardRef(e)}function AO(r){function e(i,o){const[c,d]=mt.useState(!1),{instance:p}=r(i,d).current;mt.useImperativeHandle(o,()=>p),mt.useEffect(function(){c&&p.update()},[p,c,i.children]);const y=p._contentNode;return y?SO.createPortal(i.children,y):null}return mt.forwardRef(e)}function NO(r){function e(i,o){const{instance:c}=r(i).current;return mt.useImperativeHandle(o,()=>c),null}return mt.forwardRef(e)}function mE(r,e){const i=mt.useRef(void 0);mt.useEffect(function(){return e!=null&&r.instance.on(e),i.current=e,function(){i.current!=null&&r.instance.off(i.current),i.current=null}},[r,e])}function km(r,e){const i=r.pane??e.pane;return i?{...r,pane:i}:r}function OO(r,e){return function(o,c){const d=_E(),p=r(km(o,d),d);return dE(d.map,o.attribution),mE(p.current,o.eventHandlers),e(p.current,d,o,c),p}}var Wl={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var RO=Wl.exports,e0;function MO(){return e0||(e0=1,(function(r,e){(function(i,o){o(e)})(RO,(function(i){var o="1.9.4";function c(s){var l,h,m,g;for(h=1,m=arguments.length;h<m;h++){g=arguments[h];for(l in g)s[l]=g[l]}return s}var d=Object.create||(function(){function s(){}return function(l){return s.prototype=l,new s}})();function p(s,l){var h=Array.prototype.slice;if(s.bind)return s.bind.apply(s,h.call(arguments,1));var m=h.call(arguments,2);return function(){return s.apply(l,m.length?m.concat(h.call(arguments)):arguments)}}var y=0;function b(s){return"_leaflet_id"in s||(s._leaflet_id=++y),s._leaflet_id}function E(s,l,h){var m,g,S,C;return C=function(){m=!1,g&&(S.apply(h,g),g=!1)},S=function(){m?g=arguments:(s.apply(h,arguments),setTimeout(C,l),m=!0)},S}function N(s,l,h){var m=l[1],g=l[0],S=m-g;return s===m&&h?s:((s-g)%S+S)%S+g}function w(){return!1}function O(s,l){if(l===!1)return s;var h=Math.pow(10,l===void 0?6:l);return Math.round(s*h)/h}function F(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function K(s){return F(s).split(/\s+/)}function tt(s,l){Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?d(s.options):{});for(var h in l)s.options[h]=l[h];return s.options}function Ot(s,l,h){var m=[];for(var g in s)m.push(encodeURIComponent(h?g.toUpperCase():g)+"="+encodeURIComponent(s[g]));return(!l||l.indexOf("?")===-1?"?":"&")+m.join("&")}var zt=/\{ *([\w_ -]+) *\}/g;function te(s,l){return s.replace(zt,function(h,m){var g=l[m];if(g===void 0)throw new Error("No value provided for variable "+h);return typeof g=="function"&&(g=g(l)),g})}var pt=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function ve(s,l){for(var h=0;h<s.length;h++)if(s[h]===l)return h;return-1}var Qe="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Re(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var Tt=0;function Ue(s){var l=+new Date,h=Math.max(0,16-(l-Tt));return Tt=l+h,window.setTimeout(s,h)}var sn=window.requestAnimationFrame||Re("RequestAnimationFrame")||Ue,wi=window.cancelAnimationFrame||Re("CancelAnimationFrame")||Re("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function ee(s,l,h){if(h&&sn===Ue)s.call(l);else return sn.call(window,p(s,l))}function Qt(s){s&&wi.call(window,s)}var Ci={__proto__:null,extend:c,create:d,bind:p,get lastId(){return y},stamp:b,throttle:E,wrapNum:N,falseFn:w,formatNum:O,trim:F,splitWords:K,setOptions:tt,getParamString:Ot,template:te,isArray:pt,indexOf:ve,emptyImageUrl:Qe,requestFn:sn,cancelFn:wi,requestAnimFrame:ee,cancelAnimFrame:Qt};function xe(){}xe.extend=function(s){var l=function(){tt(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},h=l.__super__=this.prototype,m=d(h);m.constructor=l,l.prototype=m;for(var g in this)Object.prototype.hasOwnProperty.call(this,g)&&g!=="prototype"&&g!=="__super__"&&(l[g]=this[g]);return s.statics&&c(l,s.statics),s.includes&&(bn(s.includes),c.apply(null,[m].concat(s.includes))),c(m,s),delete m.statics,delete m.includes,m.options&&(m.options=h.options?d(h.options):{},c(m.options,s.options)),m._initHooks=[],m.callInitHooks=function(){if(!this._initHooksCalled){h.callInitHooks&&h.callInitHooks.call(this),this._initHooksCalled=!0;for(var S=0,C=m._initHooks.length;S<C;S++)m._initHooks[S].call(this)}},l},xe.include=function(s){var l=this.prototype.options;return c(this.prototype,s),s.options&&(this.prototype.options=l,this.mergeOptions(s.options)),this},xe.mergeOptions=function(s){return c(this.prototype.options,s),this},xe.addInitHook=function(s){var l=Array.prototype.slice.call(arguments,1),h=typeof s=="function"?s:function(){this[s].apply(this,l)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(h),this};function bn(s){if(!(typeof L>"u"||!L||!L.Mixin)){s=pt(s)?s:[s];for(var l=0;l<s.length;l++)s[l]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var H={on:function(s,l,h){if(typeof s=="object")for(var m in s)this._on(m,s[m],l);else{s=K(s);for(var g=0,S=s.length;g<S;g++)this._on(s[g],l,h)}return this},off:function(s,l,h){if(!arguments.length)delete this._events;else if(typeof s=="object")for(var m in s)this._off(m,s[m],l);else{s=K(s);for(var g=arguments.length===1,S=0,C=s.length;S<C;S++)g?this._off(s[S]):this._off(s[S],l,h)}return this},_on:function(s,l,h,m){if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}if(this._listens(s,l,h)===!1){h===this&&(h=void 0);var g={fn:l,ctx:h};m&&(g.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(g)}},_off:function(s,l,h){var m,g,S;if(this._events&&(m=this._events[s],!!m)){if(arguments.length===1){if(this._firingCount)for(g=0,S=m.length;g<S;g++)m[g].fn=w;delete this._events[s];return}if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}var C=this._listens(s,l,h);if(C!==!1){var I=m[C];this._firingCount&&(I.fn=w,this._events[s]=m=m.slice()),m.splice(C,1)}}},fire:function(s,l,h){if(!this.listens(s,h))return this;var m=c({},l,{type:s,target:this,sourceTarget:l&&l.sourceTarget||this});if(this._events){var g=this._events[s];if(g){this._firingCount=this._firingCount+1||1;for(var S=0,C=g.length;S<C;S++){var I=g[S],z=I.fn;I.once&&this.off(s,z,I.ctx),z.call(I.ctx||this,m)}this._firingCount--}}return h&&this._propagateEvent(m),this},listens:function(s,l,h,m){typeof s!="string"&&console.warn('"string" type argument expected');var g=l;typeof l!="function"&&(m=!!l,g=void 0,h=void 0);var S=this._events&&this._events[s];if(S&&S.length&&this._listens(s,g,h)!==!1)return!0;if(m){for(var C in this._eventParents)if(this._eventParents[C].listens(s,l,h,m))return!0}return!1},_listens:function(s,l,h){if(!this._events)return!1;var m=this._events[s]||[];if(!l)return!!m.length;h===this&&(h=void 0);for(var g=0,S=m.length;g<S;g++)if(m[g].fn===l&&m[g].ctx===h)return g;return!1},once:function(s,l,h){if(typeof s=="object")for(var m in s)this._on(m,s[m],l,!0);else{s=K(s);for(var g=0,S=s.length;g<S;g++)this._on(s[g],l,h,!0)}return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[b(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[b(s)],this},_propagateEvent:function(s){for(var l in this._eventParents)this._eventParents[l].fire(s.type,c({layer:s.target,propagatedFrom:s.target},s),!0)}};H.addEventListener=H.on,H.removeEventListener=H.clearAllEventListeners=H.off,H.addOneTimeEventListener=H.once,H.fireEvent=H.fire,H.hasEventListeners=H.listens;var $=xe.extend(H);function Y(s,l,h){this.x=h?Math.round(s):s,this.y=h?Math.round(l):l}var Ut=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};Y.prototype={clone:function(){return new Y(this.x,this.y)},add:function(s){return this.clone()._add(et(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(et(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new Y(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new Y(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Ut(this.x),this.y=Ut(this.y),this},distanceTo:function(s){s=et(s);var l=s.x-this.x,h=s.y-this.y;return Math.sqrt(l*l+h*h)},equals:function(s){return s=et(s),s.x===this.x&&s.y===this.y},contains:function(s){return s=et(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+O(this.x)+", "+O(this.y)+")"}};function et(s,l,h){return s instanceof Y?s:pt(s)?new Y(s[0],s[1]):s==null?s:typeof s=="object"&&"x"in s&&"y"in s?new Y(s.x,s.y):new Y(s,l,h)}function A(s,l){if(s)for(var h=l?[s,l]:s,m=0,g=h.length;m<g;m++)this.extend(h[m])}A.prototype={extend:function(s){var l,h;if(!s)return this;if(s instanceof Y||typeof s[0]=="number"||"x"in s)l=h=et(s);else if(s=j(s),l=s.min,h=s.max,!l||!h)return this;return!this.min&&!this.max?(this.min=l.clone(),this.max=h.clone()):(this.min.x=Math.min(l.x,this.min.x),this.max.x=Math.max(h.x,this.max.x),this.min.y=Math.min(l.y,this.min.y),this.max.y=Math.max(h.y,this.max.y)),this},getCenter:function(s){return et((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return et(this.min.x,this.max.y)},getTopRight:function(){return et(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var l,h;return typeof s[0]=="number"||s instanceof Y?s=et(s):s=j(s),s instanceof A?(l=s.min,h=s.max):l=h=s,l.x>=this.min.x&&h.x<=this.max.x&&l.y>=this.min.y&&h.y<=this.max.y},intersects:function(s){s=j(s);var l=this.min,h=this.max,m=s.min,g=s.max,S=g.x>=l.x&&m.x<=h.x,C=g.y>=l.y&&m.y<=h.y;return S&&C},overlaps:function(s){s=j(s);var l=this.min,h=this.max,m=s.min,g=s.max,S=g.x>l.x&&m.x<h.x,C=g.y>l.y&&m.y<h.y;return S&&C},isValid:function(){return!!(this.min&&this.max)},pad:function(s){var l=this.min,h=this.max,m=Math.abs(l.x-h.x)*s,g=Math.abs(l.y-h.y)*s;return j(et(l.x-m,l.y-g),et(h.x+m,h.y+g))},equals:function(s){return s?(s=j(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight())):!1}};function j(s,l){return!s||s instanceof A?s:new A(s,l)}function W(s,l){if(s)for(var h=l?[s,l]:s,m=0,g=h.length;m<g;m++)this.extend(h[m])}W.prototype={extend:function(s){var l=this._southWest,h=this._northEast,m,g;if(s instanceof it)m=s,g=s;else if(s instanceof W){if(m=s._southWest,g=s._northEast,!m||!g)return this}else return s?this.extend(nt(s)||X(s)):this;return!l&&!h?(this._southWest=new it(m.lat,m.lng),this._northEast=new it(g.lat,g.lng)):(l.lat=Math.min(m.lat,l.lat),l.lng=Math.min(m.lng,l.lng),h.lat=Math.max(g.lat,h.lat),h.lng=Math.max(g.lng,h.lng)),this},pad:function(s){var l=this._southWest,h=this._northEast,m=Math.abs(l.lat-h.lat)*s,g=Math.abs(l.lng-h.lng)*s;return new W(new it(l.lat-m,l.lng-g),new it(h.lat+m,h.lng+g))},getCenter:function(){return new it((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new it(this.getNorth(),this.getWest())},getSouthEast:function(){return new it(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){typeof s[0]=="number"||s instanceof it||"lat"in s?s=nt(s):s=X(s);var l=this._southWest,h=this._northEast,m,g;return s instanceof W?(m=s.getSouthWest(),g=s.getNorthEast()):m=g=s,m.lat>=l.lat&&g.lat<=h.lat&&m.lng>=l.lng&&g.lng<=h.lng},intersects:function(s){s=X(s);var l=this._southWest,h=this._northEast,m=s.getSouthWest(),g=s.getNorthEast(),S=g.lat>=l.lat&&m.lat<=h.lat,C=g.lng>=l.lng&&m.lng<=h.lng;return S&&C},overlaps:function(s){s=X(s);var l=this._southWest,h=this._northEast,m=s.getSouthWest(),g=s.getNorthEast(),S=g.lat>l.lat&&m.lat<h.lat,C=g.lng>l.lng&&m.lng<h.lng;return S&&C},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,l){return s?(s=X(s),this._southWest.equals(s.getSouthWest(),l)&&this._northEast.equals(s.getNorthEast(),l)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function X(s,l){return s instanceof W?s:new W(s,l)}function it(s,l,h){if(isNaN(s)||isNaN(l))throw new Error("Invalid LatLng object: ("+s+", "+l+")");this.lat=+s,this.lng=+l,h!==void 0&&(this.alt=+h)}it.prototype={equals:function(s,l){if(!s)return!1;s=nt(s);var h=Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng));return h<=(l===void 0?1e-9:l)},toString:function(s){return"LatLng("+O(this.lat,s)+", "+O(this.lng,s)+")"},distanceTo:function(s){return re.distance(this,nt(s))},wrap:function(){return re.wrapLatLng(this)},toBounds:function(s){var l=180*s/40075017,h=l/Math.cos(Math.PI/180*this.lat);return X([this.lat-l,this.lng-h],[this.lat+l,this.lng+h])},clone:function(){return new it(this.lat,this.lng,this.alt)}};function nt(s,l,h){return s instanceof it?s:pt(s)&&typeof s[0]!="object"?s.length===3?new it(s[0],s[1],s[2]):s.length===2?new it(s[0],s[1]):null:s==null?s:typeof s=="object"&&"lat"in s?new it(s.lat,"lng"in s?s.lng:s.lon,s.alt):l===void 0?null:new it(s,l,h)}var bt={latLngToPoint:function(s,l){var h=this.projection.project(s),m=this.scale(l);return this.transformation._transform(h,m)},pointToLatLng:function(s,l){var h=this.scale(l),m=this.transformation.untransform(s,h);return this.projection.unproject(m)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var l=this.projection.bounds,h=this.scale(s),m=this.transformation.transform(l.min,h),g=this.transformation.transform(l.max,h);return new A(m,g)},infinite:!1,wrapLatLng:function(s){var l=this.wrapLng?N(s.lng,this.wrapLng,!0):s.lng,h=this.wrapLat?N(s.lat,this.wrapLat,!0):s.lat,m=s.alt;return new it(h,l,m)},wrapLatLngBounds:function(s){var l=s.getCenter(),h=this.wrapLatLng(l),m=l.lat-h.lat,g=l.lng-h.lng;if(m===0&&g===0)return s;var S=s.getSouthWest(),C=s.getNorthEast(),I=new it(S.lat-m,S.lng-g),z=new it(C.lat-m,C.lng-g);return new W(I,z)}},re=c({},bt,{wrapLng:[-180,180],R:6371e3,distance:function(s,l){var h=Math.PI/180,m=s.lat*h,g=l.lat*h,S=Math.sin((l.lat-s.lat)*h/2),C=Math.sin((l.lng-s.lng)*h/2),I=S*S+Math.cos(m)*Math.cos(g)*C*C,z=2*Math.atan2(Math.sqrt(I),Math.sqrt(1-I));return this.R*z}}),ae=6378137,xi={R:ae,MAX_LATITUDE:85.0511287798,project:function(s){var l=Math.PI/180,h=this.MAX_LATITUDE,m=Math.max(Math.min(h,s.lat),-h),g=Math.sin(m*l);return new Y(this.R*s.lng*l,this.R*Math.log((1+g)/(1-g))/2)},unproject:function(s){var l=180/Math.PI;return new it((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*l,s.x*l/this.R)},bounds:(function(){var s=ae*Math.PI;return new A([-s,-s],[s,s])})()};function cs(s,l,h,m){if(pt(s)){this._a=s[0],this._b=s[1],this._c=s[2],this._d=s[3];return}this._a=s,this._b=l,this._c=h,this._d=m}cs.prototype={transform:function(s,l){return this._transform(s.clone(),l)},_transform:function(s,l){return l=l||1,s.x=l*(this._a*s.x+this._b),s.y=l*(this._c*s.y+this._d),s},untransform:function(s,l){return l=l||1,new Y((s.x/l-this._b)/this._a,(s.y/l-this._d)/this._c)}};function Ai(s,l,h,m){return new cs(s,l,h,m)}var ga=c({},re,{code:"EPSG:3857",projection:xi,transformation:(function(){var s=.5/(Math.PI*xi.R);return Ai(s,.5,-s,.5)})()}),Ni=c({},ga,{code:"EPSG:900913"});function va(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function ya(s,l){var h="",m,g,S,C,I,z;for(m=0,S=s.length;m<S;m++){for(I=s[m],g=0,C=I.length;g<C;g++)z=I[g],h+=(g?"L":"M")+z.x+" "+z.y;h+=l?at.svg?"z":"x":""}return h||"M0 0"}var Do=document.documentElement.style,hr="ActiveXObject"in window,ko=hr&&!document.addEventListener,ba="msLaunchUri"in navigator&&!("documentMode"in document),fr=rn("webkit"),Cu=rn("android"),xu=rn("android 2")||rn("android 3"),Xe=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Yh=Cu&&rn("Google")&&Xe<537&&!("AudioNode"in window),Ea=!!window.opera,Po=!ba&&rn("chrome"),dr=rn("gecko")&&!fr&&!Ea&&!hr,Wh=!Po&&rn("safari"),zo=rn("phantom"),Au="OTransition"in Do,Kh=navigator.platform.indexOf("Win")===0,hs=hr&&"transition"in Do,Be="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!xu,qn="MozPerspective"in Do,Je=!window.L_DISABLE_3D&&(hs||Be||qn)&&!Au&&!zo,_r=typeof orientation<"u"||rn("mobile"),Qh=_r&&fr,Xh=_r&&Be,mr=!window.PointerEvent&&window.MSPointerEvent,pr=!!(window.PointerEvent||mr),gr="ontouchstart"in window||!!window.TouchEvent,Oi=!window.L_NO_TOUCH&&(gr||pr),Sa=_r&&Ea,vr=_r&&dr,Jh=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Nu=(function(){var s=!1;try{var l=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",w,l),window.removeEventListener("testPassiveEventSupport",w,l)}catch{}return s})(),Uo=(function(){return!!document.createElement("canvas").getContext})(),Ri=!!(document.createElementNS&&va("svg").createSVGRect),$h=!!Ri&&(function(){var s=document.createElement("div");return s.innerHTML="<svg/>",(s.firstChild&&s.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Ou=!Ri&&(function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var l=s.firstChild;return l.style.behavior="url(#default#VML)",l&&typeof l.adj=="object"}catch{return!1}})(),Ru=navigator.platform.indexOf("Mac")===0,Mu=navigator.platform.indexOf("Linux")===0;function rn(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var at={ie:hr,ielt9:ko,edge:ba,webkit:fr,android:Cu,android23:xu,androidStock:Yh,opera:Ea,chrome:Po,gecko:dr,safari:Wh,phantom:zo,opera12:Au,win:Kh,ie3d:hs,webkit3d:Be,gecko3d:qn,any3d:Je,mobile:_r,mobileWebkit:Qh,mobileWebkit3d:Xh,msPointer:mr,pointer:pr,touch:Oi,touchNative:gr,mobileOpera:Sa,mobileGecko:vr,retina:Jh,passiveEvents:Nu,canvas:Uo,svg:Ri,vml:Ou,inlineSvg:$h,mac:Ru,linux:Mu},Bo=at.msPointer?"MSPointerDown":"pointerdown",Ho=at.msPointer?"MSPointerMove":"pointermove",Vn=at.msPointer?"MSPointerUp":"pointerup",ye=at.msPointer?"MSPointerCancel":"pointercancel",Me={touchstart:Bo,touchmove:Ho,touchend:Vn,touchcancel:ye},Mi={touchstart:ds,touchmove:ai,touchend:ai,touchcancel:ai},ri={},Lu=!1;function tf(s,l,h){return l==="touchstart"&&fs(),Mi[l]?(h=Mi[l].bind(this,h),s.addEventListener(Me[l],h,!1),h):(console.warn("wrong event specified:",l),w)}function Iu(s,l,h){if(!Me[l]){console.warn("wrong event specified:",l);return}s.removeEventListener(Me[l],h,!1)}function yr(s){ri[s.pointerId]=s}function jo(s){ri[s.pointerId]&&(ri[s.pointerId]=s)}function Li(s){delete ri[s.pointerId]}function fs(){Lu||(document.addEventListener(Bo,yr,!0),document.addEventListener(Ho,jo,!0),document.addEventListener(Vn,Li,!0),document.addEventListener(ye,Li,!0),Lu=!0)}function ai(s,l){if(l.pointerType!==(l.MSPOINTER_TYPE_MOUSE||"mouse")){l.touches=[];for(var h in ri)l.touches.push(ri[h]);l.changedTouches=[l],s(l)}}function ds(s,l){l.MSPOINTER_TYPE_TOUCH&&l.pointerType===l.MSPOINTER_TYPE_TOUCH&&he(l),ai(s,l)}function be(s){var l={},h,m;for(m in s)h=s[m],l[m]=h&&h.bind?h.bind(s):h;return s=l,l.type="dblclick",l.detail=2,l.isTrusted=!1,l._simulated=!0,l}var Du=200;function ku(s,l){s.addEventListener("dblclick",l);var h=0,m;function g(S){if(S.detail!==1){m=S.detail;return}if(!(S.pointerType==="mouse"||S.sourceCapabilities&&!S.sourceCapabilities.firesTouchEvents)){var C=xr(S);if(!(C.some(function(z){return z instanceof HTMLLabelElement&&z.attributes.for})&&!C.some(function(z){return z instanceof HTMLInputElement||z instanceof HTMLSelectElement}))){var I=Date.now();I-h<=Du?(m++,m===2&&l(be(S))):m=1,h=I}}}return s.addEventListener("click",g),{dblclick:l,simDblclick:g}}function Ii(s,l){s.removeEventListener("dblclick",l.dblclick),s.removeEventListener("click",l.simDblclick)}var oi=Sr(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),br=Sr(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Zo=br==="webkitTransition"||br==="OTransition"?br+"End":"transitionend";function qo(s){return typeof s=="string"?document.getElementById(s):s}function Er(s,l){var h=s.style[l]||s.currentStyle&&s.currentStyle[l];if((!h||h==="auto")&&document.defaultView){var m=document.defaultView.getComputedStyle(s,null);h=m?m[l]:null}return h==="auto"?null:h}function Ct(s,l,h){var m=document.createElement(s);return m.className=l||"",h&&h.appendChild(m),m}function Gt(s){var l=s.parentNode;l&&l.removeChild(s)}function an(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function Ae(s){var l=s.parentNode;l&&l.lastChild!==s&&l.appendChild(s)}function Di(s){var l=s.parentNode;l&&l.firstChild!==s&&l.insertBefore(s,l.firstChild)}function Vo(s,l){if(s.classList!==void 0)return s.classList.contains(l);var h=Ta(s);return h.length>0&&new RegExp("(^|\\s)"+l+"(\\s|$)").test(h)}function dt(s,l){if(s.classList!==void 0)for(var h=K(l),m=0,g=h.length;m<g;m++)s.classList.add(h[m]);else if(!Vo(s,l)){var S=Ta(s);_s(s,(S?S+" ":"")+l)}}function oe(s,l){s.classList!==void 0?s.classList.remove(l):_s(s,F((" "+Ta(s)+" ").replace(" "+l+" "," ")))}function _s(s,l){s.className.baseVal===void 0?s.className=l:s.className.baseVal=l}function Ta(s){return s.correspondingElement&&(s=s.correspondingElement),s.className.baseVal===void 0?s.className:s.className.baseVal}function ne(s,l){"opacity"in s.style?s.style.opacity=l:"filter"in s.style&&Go(s,l)}function Go(s,l){var h=!1,m="DXImageTransform.Microsoft.Alpha";try{h=s.filters.item(m)}catch{if(l===1)return}l=Math.round(l*100),h?(h.Enabled=l!==100,h.Opacity=l):s.style.filter+=" progid:"+m+"(opacity="+l+")"}function Sr(s){for(var l=document.documentElement.style,h=0;h<s.length;h++)if(s[h]in l)return s[h];return!1}function Gn(s,l,h){var m=l||new Y(0,0);s.style[oi]=(at.ie3d?"translate("+m.x+"px,"+m.y+"px)":"translate3d("+m.x+"px,"+m.y+"px,0)")+(h?" scale("+h+")":"")}function Xt(s,l){s._leaflet_pos=l,at.any3d?Gn(s,l):(s.style.left=l.x+"px",s.style.top=l.y+"px")}function li(s){return s._leaflet_pos||new Y(0,0)}var ms,Rn,Fo;if("onselectstart"in document)ms=function(){ct(window,"selectstart",he)},Rn=function(){jt(window,"selectstart",he)};else{var ps=Sr(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);ms=function(){if(ps){var s=document.documentElement.style;Fo=s[ps],s[ps]="none"}},Rn=function(){ps&&(document.documentElement.style[ps]=Fo,Fo=void 0)}}function wa(){ct(window,"dragstart",he)}function Tr(){jt(window,"dragstart",he)}var Ca,Yo;function gs(s){for(;s.tabIndex===-1;)s=s.parentNode;s.style&&(on(),Ca=s,Yo=s.style.outlineStyle,s.style.outlineStyle="none",ct(window,"keydown",on))}function on(){Ca&&(Ca.style.outlineStyle=Yo,Ca=void 0,Yo=void 0,jt(window,"keydown",on))}function xa(s){do s=s.parentNode;while((!s.offsetWidth||!s.offsetHeight)&&s!==document.body);return s}function wr(s){var l=s.getBoundingClientRect();return{x:l.width/s.offsetWidth||1,y:l.height/s.offsetHeight||1,boundingClientRect:l}}var vs={__proto__:null,TRANSFORM:oi,TRANSITION:br,TRANSITION_END:Zo,get:qo,getStyle:Er,create:Ct,remove:Gt,empty:an,toFront:Ae,toBack:Di,hasClass:Vo,addClass:dt,removeClass:oe,setClass:_s,getClass:Ta,setOpacity:ne,testProp:Sr,setTransform:Gn,setPosition:Xt,getPosition:li,get disableTextSelection(){return ms},get enableTextSelection(){return Rn},disableImageDrag:wa,enableImageDrag:Tr,preventOutline:gs,restoreOutline:on,getSizedParentNode:xa,getScale:wr};function ct(s,l,h,m){if(l&&typeof l=="object")for(var g in l)Sn(s,g,l[g],h);else{l=K(l);for(var S=0,C=l.length;S<C;S++)Sn(s,l[S],h,m)}return this}var En="_leaflet_events";function jt(s,l,h,m){if(arguments.length===1)Wo(s),delete s[En];else if(l&&typeof l=="object")for(var g in l)Cr(s,g,l[g],h);else if(l=K(l),arguments.length===2)Wo(s,function(I){return ve(l,I)!==-1});else for(var S=0,C=l.length;S<C;S++)Cr(s,l[S],h,m);return this}function Wo(s,l){for(var h in s[En]){var m=h.split(/\d/)[0];(!l||l(m))&&Cr(s,m,null,null,h)}}var ki={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Sn(s,l,h,m){var g=l+b(h)+(m?"_"+b(m):"");if(s[En]&&s[En][g])return this;var S=function(I){return h.call(m||s,I||window.event)},C=S;!at.touchNative&&at.pointer&&l.indexOf("touch")===0?S=tf(s,l,S):at.touch&&l==="dblclick"?S=ku(s,S):"addEventListener"in s?l==="touchstart"||l==="touchmove"||l==="wheel"||l==="mousewheel"?s.addEventListener(ki[l]||l,S,at.passiveEvents?{passive:!1}:!1):l==="mouseenter"||l==="mouseleave"?(S=function(I){I=I||window.event,Fn(s,I)&&C(I)},s.addEventListener(ki[l],S,!1)):s.addEventListener(l,C,!1):s.attachEvent("on"+l,S),s[En]=s[En]||{},s[En][g]=S}function Cr(s,l,h,m,g){g=g||l+b(h)+(m?"_"+b(m):"");var S=s[En]&&s[En][g];if(!S)return this;!at.touchNative&&at.pointer&&l.indexOf("touch")===0?Iu(s,l,S):at.touch&&l==="dblclick"?Ii(s,S):"removeEventListener"in s?s.removeEventListener(ki[l]||l,S,!1):s.detachEvent("on"+l,S),s[En][g]=null}function Tn(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function Mn(s){return Sn(s,"wheel",Tn),this}function Pi(s){return ct(s,"mousedown touchstart dblclick contextmenu",Tn),s._leaflet_disable_click=!0,this}function he(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function ui(s){return he(s),Tn(s),this}function xr(s){if(s.composedPath)return s.composedPath();for(var l=[],h=s.target;h;)l.push(h),h=h.parentNode;return l}function Ar(s,l){if(!l)return new Y(s.clientX,s.clientY);var h=wr(l),m=h.boundingClientRect;return new Y((s.clientX-m.left)/h.x-l.clientLeft,(s.clientY-m.top)/h.y-l.clientTop)}var Pu=at.linux&&at.chrome?window.devicePixelRatio:at.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function He(s){return at.edge?s.wheelDeltaY/2:s.deltaY&&s.deltaMode===0?-s.deltaY/Pu:s.deltaY&&s.deltaMode===1?-s.deltaY*20:s.deltaY&&s.deltaMode===2?-s.deltaY*60:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?-s.detail*20:s.detail?s.detail/-32765*60:0}function Fn(s,l){var h=l.relatedTarget;if(!h)return!0;try{for(;h&&h!==s;)h=h.parentNode}catch{return!1}return h!==s}var Aa={__proto__:null,on:ct,off:jt,stopPropagation:Tn,disableScrollPropagation:Mn,disableClickPropagation:Pi,preventDefault:he,stop:ui,getPropagationPath:xr,getMousePosition:Ar,getWheelDelta:He,isExternalTarget:Fn,addListener:ct,removeListener:jt},ys=$.extend({run:function(s,l,h,m){this.stop(),this._el=s,this._inProgress=!0,this._duration=h||.25,this._easeOutPower=1/Math.max(m||.5,.2),this._startPos=li(s),this._offset=l.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=ee(this._animate,this),this._step()},_step:function(s){var l=+new Date-this._startTime,h=this._duration*1e3;l<h?this._runFrame(this._easeOut(l/h),s):(this._runFrame(1),this._complete())},_runFrame:function(s,l){var h=this._startPos.add(this._offset.multiplyBy(s));l&&h._round(),Xt(this._el,h),this.fire("step")},_complete:function(){Qt(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),Rt=$.extend({options:{crs:ga,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,l){l=tt(this,l),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=p(this._onResize,this),this._initEvents(),l.maxBounds&&this.setMaxBounds(l.maxBounds),l.zoom!==void 0&&(this._zoom=this._limitZoom(l.zoom)),l.center&&l.zoom!==void 0&&this.setView(nt(l.center),l.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=br&&at.any3d&&!at.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ct(this._proxy,Zo,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,l,h){if(l=l===void 0?this._zoom:this._limitZoom(l),s=this._limitCenter(nt(s),l,this.options.maxBounds),h=h||{},this._stop(),this._loaded&&!h.reset&&h!==!0){h.animate!==void 0&&(h.zoom=c({animate:h.animate},h.zoom),h.pan=c({animate:h.animate,duration:h.duration},h.pan));var m=this._zoom!==l?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,l,h.zoom):this._tryAnimatedPan(s,h.pan);if(m)return clearTimeout(this._sizeTimer),this}return this._resetView(s,l,h.pan&&h.pan.noMoveStart),this},setZoom:function(s,l){return this._loaded?this.setView(this.getCenter(),s,{zoom:l}):(this._zoom=s,this)},zoomIn:function(s,l){return s=s||(at.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+s,l)},zoomOut:function(s,l){return s=s||(at.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-s,l)},setZoomAround:function(s,l,h){var m=this.getZoomScale(l),g=this.getSize().divideBy(2),S=s instanceof Y?s:this.latLngToContainerPoint(s),C=S.subtract(g).multiplyBy(1-1/m),I=this.containerPointToLatLng(g.add(C));return this.setView(I,l,{zoom:h})},_getBoundsCenterZoom:function(s,l){l=l||{},s=s.getBounds?s.getBounds():X(s);var h=et(l.paddingTopLeft||l.padding||[0,0]),m=et(l.paddingBottomRight||l.padding||[0,0]),g=this.getBoundsZoom(s,!1,h.add(m));if(g=typeof l.maxZoom=="number"?Math.min(l.maxZoom,g):g,g===1/0)return{center:s.getCenter(),zoom:g};var S=m.subtract(h).divideBy(2),C=this.project(s.getSouthWest(),g),I=this.project(s.getNorthEast(),g),z=this.unproject(C.add(I).divideBy(2).add(S),g);return{center:z,zoom:g}},fitBounds:function(s,l){if(s=X(s),!s.isValid())throw new Error("Bounds are not valid.");var h=this._getBoundsCenterZoom(s,l);return this.setView(h.center,h.zoom,l)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,l){return this.setView(s,this._zoom,{pan:l})},panBy:function(s,l){if(s=et(s).round(),l=l||{},!s.x&&!s.y)return this.fire("moveend");if(l.animate!==!0&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new ys,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),l.noMoveStart||this.fire("movestart"),l.animate!==!1){dt(this._mapPane,"leaflet-pan-anim");var h=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,h,l.duration||.25,l.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,l,h){if(h=h||{},h.animate===!1||!at.any3d)return this.setView(s,l,h);this._stop();var m=this.project(this.getCenter()),g=this.project(s),S=this.getSize(),C=this._zoom;s=nt(s),l=l===void 0?C:l;var I=Math.max(S.x,S.y),z=I*this.getZoomScale(C,l),V=g.distanceTo(m)||1,J=1.42,ot=J*J;function vt(ce){var Qn=ce?-1:1,Hi=ce?z:I,ul=z*z-I*I+Qn*ot*ot*V*V,qr=2*Hi*ot*V,Vr=ul/qr,vi=Math.sqrt(Vr*Vr+1)-Vr,Xn=vi<1e-9?-18:Math.log(vi);return Xn}function Ne(ce){return(Math.exp(ce)-Math.exp(-ce))/2}function fe(ce){return(Math.exp(ce)+Math.exp(-ce))/2}function tn(ce){return Ne(ce)/fe(ce)}var It=vt(0);function Dt(ce){return I*(fe(It)/fe(It+J*ce))}function xt(ce){return I*(fe(It)*tn(It+J*ce)-Ne(It))/ot}function pi(ce){return 1-Math.pow(1-ce,1.5)}var hn=Date.now(),ja=(vt(1)-It)/J,gi=h.duration?1e3*h.duration:1e3*ja*.8;function ll(){var ce=(Date.now()-hn)/gi,Qn=pi(ce)*ja;ce<=1?(this._flyToFrame=ee(ll,this),this._move(this.unproject(m.add(g.subtract(m).multiplyBy(xt(Qn)/V)),C),this.getScaleZoom(I/Dt(Qn),C),{flyTo:!0})):this._move(s,l)._moveEnd(!0)}return this._moveStart(!0,h.noMoveStart),ll.call(this),this},flyToBounds:function(s,l){var h=this._getBoundsCenterZoom(s,l);return this.flyTo(h.center,h.zoom,l)},setMaxBounds:function(s){return s=X(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var l=this.options.minZoom;return this.options.minZoom=s,this._loaded&&l!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var l=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&l!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,l){this._enforcingBounds=!0;var h=this.getCenter(),m=this._limitCenter(h,this._zoom,X(s));return h.equals(m)||this.panTo(m,l),this._enforcingBounds=!1,this},panInside:function(s,l){l=l||{};var h=et(l.paddingTopLeft||l.padding||[0,0]),m=et(l.paddingBottomRight||l.padding||[0,0]),g=this.project(this.getCenter()),S=this.project(s),C=this.getPixelBounds(),I=j([C.min.add(h),C.max.subtract(m)]),z=I.getSize();if(!I.contains(S)){this._enforcingBounds=!0;var V=S.subtract(I.getCenter()),J=I.extend(S).getSize().subtract(z);g.x+=V.x<0?-J.x:J.x,g.y+=V.y<0?-J.y:J.y,this.panTo(this.unproject(g),l),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=c({animate:!1,pan:!0},s===!0?{animate:!0}:s);var l=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var h=this.getSize(),m=l.divideBy(2).round(),g=h.divideBy(2).round(),S=m.subtract(g);return!S.x&&!S.y?this:(s.animate&&s.pan?this.panBy(S):(s.pan&&this._rawPanBy(S),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(p(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:l,newSize:h}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=c({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var l=p(this._handleGeolocationResponse,this),h=p(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(l,h,s):navigator.geolocation.getCurrentPosition(l,h,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var l=s.code,h=s.message||(l===1?"permission denied":l===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:l,message:"Geolocation error: "+h+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var l=s.coords.latitude,h=s.coords.longitude,m=new it(l,h),g=m.toBounds(s.coords.accuracy*2),S=this._locateOptions;if(S.setView){var C=this.getBoundsZoom(g);this.setView(m,S.maxZoom?Math.min(C,S.maxZoom):C)}var I={latlng:m,bounds:g,timestamp:s.timestamp};for(var z in s.coords)typeof s.coords[z]=="number"&&(I[z]=s.coords[z]);this.fire("locationfound",I)}},addHandler:function(s,l){if(!l)return this;var h=this[s]=new l(this);return this._handlers.push(h),this.options[s]&&h.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Gt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Qt(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var s;for(s in this._layers)this._layers[s].remove();for(s in this._panes)Gt(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,l){var h="leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),m=Ct("div",h,l||this._mapPane);return s&&(this._panes[s]=m),m},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds(),l=this.unproject(s.getBottomLeft()),h=this.unproject(s.getTopRight());return new W(l,h)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,l,h){s=X(s),h=et(h||[0,0]);var m=this.getZoom()||0,g=this.getMinZoom(),S=this.getMaxZoom(),C=s.getNorthWest(),I=s.getSouthEast(),z=this.getSize().subtract(h),V=j(this.project(I,m),this.project(C,m)).getSize(),J=at.any3d?this.options.zoomSnap:1,ot=z.x/V.x,vt=z.y/V.y,Ne=l?Math.max(ot,vt):Math.min(ot,vt);return m=this.getScaleZoom(Ne,m),J&&(m=Math.round(m/(J/100))*(J/100),m=l?Math.ceil(m/J)*J:Math.floor(m/J)*J),Math.max(g,Math.min(S,m))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new Y(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,l){var h=this._getTopLeftPoint(s,l);return new A(h,h.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(s===void 0?this.getZoom():s)},getPane:function(s){return typeof s=="string"?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,l){var h=this.options.crs;return l=l===void 0?this._zoom:l,h.scale(s)/h.scale(l)},getScaleZoom:function(s,l){var h=this.options.crs;l=l===void 0?this._zoom:l;var m=h.zoom(s*h.scale(l));return isNaN(m)?1/0:m},project:function(s,l){return l=l===void 0?this._zoom:l,this.options.crs.latLngToPoint(nt(s),l)},unproject:function(s,l){return l=l===void 0?this._zoom:l,this.options.crs.pointToLatLng(et(s),l)},layerPointToLatLng:function(s){var l=et(s).add(this.getPixelOrigin());return this.unproject(l)},latLngToLayerPoint:function(s){var l=this.project(nt(s))._round();return l._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(nt(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(X(s))},distance:function(s,l){return this.options.crs.distance(nt(s),nt(l))},containerPointToLayerPoint:function(s){return et(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return et(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var l=this.containerPointToLayerPoint(et(s));return this.layerPointToLatLng(l)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(nt(s)))},mouseEventToContainerPoint:function(s){return Ar(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var l=this._container=qo(s);if(l){if(l._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ct(l,"scroll",this._onScroll,this),this._containerId=b(l)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&at.any3d,dt(s,"leaflet-container"+(at.touch?" leaflet-touch":"")+(at.retina?" leaflet-retina":"")+(at.ielt9?" leaflet-oldie":"")+(at.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var l=Er(s,"position");l!=="absolute"&&l!=="relative"&&l!=="fixed"&&l!=="sticky"&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Xt(this._mapPane,new Y(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(dt(s.markerPane,"leaflet-zoom-hide"),dt(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,l,h){Xt(this._mapPane,new Y(0,0));var m=!this._loaded;this._loaded=!0,l=this._limitZoom(l),this.fire("viewprereset");var g=this._zoom!==l;this._moveStart(g,h)._move(s,l)._moveEnd(g),this.fire("viewreset"),m&&this.fire("load")},_moveStart:function(s,l){return s&&this.fire("zoomstart"),l||this.fire("movestart"),this},_move:function(s,l,h,m){l===void 0&&(l=this._zoom);var g=this._zoom!==l;return this._zoom=l,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),m?h&&h.pinch&&this.fire("zoom",h):((g||h&&h.pinch)&&this.fire("zoom",h),this.fire("move",h)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Qt(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){Xt(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[b(this._container)]=this;var l=s?jt:ct;l(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&l(window,"resize",this._onResize,this),at.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Qt(this._resizeRequest),this._resizeRequest=ee(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,l){for(var h=[],m,g=l==="mouseout"||l==="mouseover",S=s.target||s.srcElement,C=!1;S;){if(m=this._targets[b(S)],m&&(l==="click"||l==="preclick")&&this._draggableMoved(m)){C=!0;break}if(m&&m.listens(l,!0)&&(g&&!Fn(S,s)||(h.push(m),g))||S===this._container)break;S=S.parentNode}return!h.length&&!C&&!g&&this.listens(l,!0)&&(h=[this]),h},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var l=s.target||s.srcElement;if(!(!this._loaded||l._leaflet_disable_events||s.type==="click"&&this._isClickDisabled(l))){var h=s.type;h==="mousedown"&&gs(l),this._fireDOMEvent(s,h)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,l,h){if(s.type==="click"){var m=c({},s);m.type="preclick",this._fireDOMEvent(m,m.type,h)}var g=this._findEventTargets(s,l);if(h){for(var S=[],C=0;C<h.length;C++)h[C].listens(l,!0)&&S.push(h[C]);g=S.concat(g)}if(g.length){l==="contextmenu"&&he(s);var I=g[0],z={originalEvent:s};if(s.type!=="keypress"&&s.type!=="keydown"&&s.type!=="keyup"){var V=I.getLatLng&&(!I._radius||I._radius<=10);z.containerPoint=V?this.latLngToContainerPoint(I.getLatLng()):this.mouseEventToContainerPoint(s),z.layerPoint=this.containerPointToLayerPoint(z.containerPoint),z.latlng=V?I.getLatLng():this.layerPointToLatLng(z.layerPoint)}for(C=0;C<g.length;C++)if(g[C].fire(l,z,!0),z.originalEvent._stopped||g[C].options.bubblingMouseEvents===!1&&ve(this._mouseEvents,l)!==-1)return}},_draggableMoved:function(s){return s=s.dragging&&s.dragging.enabled()?s:this,s.dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,l=this._handlers.length;s<l;s++)this._handlers[s].disable()},whenReady:function(s,l){return this._loaded?s.call(l||this,{target:this}):this.on("load",s,l),this},_getMapPanePos:function(){return li(this._mapPane)||new Y(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,l){var h=s&&l!==void 0?this._getNewPixelOrigin(s,l):this.getPixelOrigin();return h.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,l){var h=this.getSize()._divideBy(2);return this.project(s,l)._subtract(h)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,l,h){var m=this._getNewPixelOrigin(h,l);return this.project(s,l)._subtract(m)},_latLngBoundsToNewLayerBounds:function(s,l,h){var m=this._getNewPixelOrigin(h,l);return j([this.project(s.getSouthWest(),l)._subtract(m),this.project(s.getNorthWest(),l)._subtract(m),this.project(s.getSouthEast(),l)._subtract(m),this.project(s.getNorthEast(),l)._subtract(m)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,l,h){if(!h)return s;var m=this.project(s,l),g=this.getSize().divideBy(2),S=new A(m.subtract(g),m.add(g)),C=this._getBoundsOffset(S,h,l);return Math.abs(C.x)<=1&&Math.abs(C.y)<=1?s:this.unproject(m.add(C),l)},_limitOffset:function(s,l){if(!l)return s;var h=this.getPixelBounds(),m=new A(h.min.add(s),h.max.add(s));return s.add(this._getBoundsOffset(m,l))},_getBoundsOffset:function(s,l,h){var m=j(this.project(l.getNorthEast(),h),this.project(l.getSouthWest(),h)),g=m.min.subtract(s.min),S=m.max.subtract(s.max),C=this._rebound(g.x,-S.x),I=this._rebound(g.y,-S.y);return new Y(C,I)},_rebound:function(s,l){return s+l>0?Math.round(s-l)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(l))},_limitZoom:function(s){var l=this.getMinZoom(),h=this.getMaxZoom(),m=at.any3d?this.options.zoomSnap:1;return m&&(s=Math.round(s/m)*m),Math.max(l,Math.min(h,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){oe(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,l){var h=this._getCenterOffset(s)._trunc();return(l&&l.animate)!==!0&&!this.getSize().contains(h)?!1:(this.panBy(h,l),!0)},_createAnimProxy:function(){var s=this._proxy=Ct("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(l){var h=oi,m=this._proxy.style[h];Gn(this._proxy,this.project(l.center,l.zoom),this.getZoomScale(l.zoom,1)),m===this._proxy.style[h]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Gt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),l=this.getZoom();Gn(this._proxy,this.project(s,l),this.getZoomScale(l,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,l,h){if(this._animatingZoom)return!0;if(h=h||{},!this._zoomAnimated||h.animate===!1||this._nothingToAnimate()||Math.abs(l-this._zoom)>this.options.zoomAnimationThreshold)return!1;var m=this.getZoomScale(l),g=this._getCenterOffset(s)._divideBy(1-1/m);return h.animate!==!0&&!this.getSize().contains(g)?!1:(ee(function(){this._moveStart(!0,h.noMoveStart||!1)._animateZoom(s,l,!0)},this),!0)},_animateZoom:function(s,l,h,m){this._mapPane&&(h&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=l,dt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:l,noUpdate:m}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(p(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&oe(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Ko(s,l){return new Rt(s,l)}var $e=xe.extend({options:{position:"topright"},initialize:function(s){tt(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var l=this._map;return l&&l.removeControl(this),this.options.position=s,l&&l.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var l=this._container=this.onAdd(s),h=this.getPosition(),m=s._controlCorners[h];return dt(l,"leaflet-control"),h.indexOf("bottom")!==-1?m.insertBefore(l,m.firstChild):m.appendChild(l),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Gt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),Yn=function(s){return new $e(s)};Rt.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},l="leaflet-",h=this._controlContainer=Ct("div",l+"control-container",this._container);function m(g,S){var C=l+g+" "+l+S;s[g+S]=Ct("div",C,h)}m("top","left"),m("top","right"),m("bottom","left"),m("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)Gt(this._controlCorners[s]);Gt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Nr=$e.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,l,h,m){return h<m?-1:m<h?1:0}},initialize:function(s,l,h){tt(this,h),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var m in s)this._addLayer(s[m],m);for(m in l)this._addLayer(l[m],m,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return $e.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,l){return this._addLayer(s,l),this._map?this._update():this},addOverlay:function(s,l){return this._addLayer(s,l,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var l=this._getLayer(b(s));return l&&this._layers.splice(this._layers.indexOf(l),1),this._map?this._update():this},expand:function(){dt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(dt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):oe(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return oe(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",l=this._container=Ct("div",s),h=this.options.collapsed;l.setAttribute("aria-haspopup",!0),Pi(l),Mn(l);var m=this._section=Ct("section",s+"-list");h&&(this._map.on("click",this.collapse,this),ct(l,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var g=this._layersLink=Ct("a",s+"-toggle",l);g.href="#",g.title="Layers",g.setAttribute("role","button"),ct(g,{keydown:function(S){S.keyCode===13&&this._expandSafely()},click:function(S){he(S),this._expandSafely()}},this),h||this.expand(),this._baseLayersList=Ct("div",s+"-base",m),this._separator=Ct("div",s+"-separator",m),this._overlaysList=Ct("div",s+"-overlays",m),l.appendChild(m)},_getLayer:function(s){for(var l=0;l<this._layers.length;l++)if(this._layers[l]&&b(this._layers[l].layer)===s)return this._layers[l]},_addLayer:function(s,l,h){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:l,overlay:h}),this.options.sortLayers&&this._layers.sort(p(function(m,g){return this.options.sortFunction(m.layer,g.layer,m.name,g.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;an(this._baseLayersList),an(this._overlaysList),this._layerControlInputs=[];var s,l,h,m,g=0;for(h=0;h<this._layers.length;h++)m=this._layers[h],this._addItem(m),l=l||m.overlay,s=s||!m.overlay,g+=m.overlay?0:1;return this.options.hideSingleBase&&(s=s&&g>1,this._baseLayersList.style.display=s?"":"none"),this._separator.style.display=l&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var l=this._getLayer(b(s.target)),h=l.overlay?s.type==="add"?"overlayadd":"overlayremove":s.type==="add"?"baselayerchange":null;h&&this._map.fire(h,l)},_createRadioElement:function(s,l){var h='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(l?' checked="checked"':"")+"/>",m=document.createElement("div");return m.innerHTML=h,m.firstChild},_addItem:function(s){var l=document.createElement("label"),h=this._map.hasLayer(s.layer),m;s.overlay?(m=document.createElement("input"),m.type="checkbox",m.className="leaflet-control-layers-selector",m.defaultChecked=h):m=this._createRadioElement("leaflet-base-layers_"+b(this),h),this._layerControlInputs.push(m),m.layerId=b(s.layer),ct(m,"click",this._onInputClick,this);var g=document.createElement("span");g.innerHTML=" "+s.name;var S=document.createElement("span");l.appendChild(S),S.appendChild(m),S.appendChild(g);var C=s.overlay?this._overlaysList:this._baseLayersList;return C.appendChild(l),this._checkDisabledLayers(),l},_onInputClick:function(){if(!this._preventClick){var s=this._layerControlInputs,l,h,m=[],g=[];this._handlingClick=!0;for(var S=s.length-1;S>=0;S--)l=s[S],h=this._getLayer(l.layerId).layer,l.checked?m.push(h):l.checked||g.push(h);for(S=0;S<g.length;S++)this._map.hasLayer(g[S])&&this._map.removeLayer(g[S]);for(S=0;S<m.length;S++)this._map.hasLayer(m[S])||this._map.addLayer(m[S]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var s=this._layerControlInputs,l,h,m=this._map.getZoom(),g=s.length-1;g>=0;g--)l=s[g],h=this._getLayer(l.layerId).layer,l.disabled=h.options.minZoom!==void 0&&m<h.options.minZoom||h.options.maxZoom!==void 0&&m>h.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,ct(s,"click",he),this.expand();var l=this;setTimeout(function(){jt(s,"click",he),l._preventClick=!1})}}),zu=function(s,l,h){return new Nr(s,l,h)},Qo=$e.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var l="leaflet-control-zoom",h=Ct("div",l+" leaflet-bar"),m=this.options;return this._zoomInButton=this._createButton(m.zoomInText,m.zoomInTitle,l+"-in",h,this._zoomIn),this._zoomOutButton=this._createButton(m.zoomOutText,m.zoomOutTitle,l+"-out",h,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),h},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,l,h,m,g){var S=Ct("a",h,m);return S.innerHTML=s,S.href="#",S.title=l,S.setAttribute("role","button"),S.setAttribute("aria-label",l),Pi(S),ct(S,"click",ui),ct(S,"click",g,this),ct(S,"click",this._refocusOnMap,this),S},_updateDisabled:function(){var s=this._map,l="leaflet-disabled";oe(this._zoomInButton,l),oe(this._zoomOutButton,l),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(dt(this._zoomOutButton,l),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(dt(this._zoomInButton,l),this._zoomInButton.setAttribute("aria-disabled","true"))}});Rt.mergeOptions({zoomControl:!0}),Rt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Qo,this.addControl(this.zoomControl))});var ef=function(s){return new Qo(s)},Uu=$e.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var l="leaflet-control-scale",h=Ct("div",l),m=this.options;return this._addScales(m,l+"-line",h),s.on(m.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),h},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,l,h){s.metric&&(this._mScale=Ct("div",l,h)),s.imperial&&(this._iScale=Ct("div",l,h))},_update:function(){var s=this._map,l=s.getSize().y/2,h=s.distance(s.containerPointToLatLng([0,l]),s.containerPointToLatLng([this.options.maxWidth,l]));this._updateScales(h)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var l=this._getRoundNum(s),h=l<1e3?l+" m":l/1e3+" km";this._updateScale(this._mScale,h,l/s)},_updateImperial:function(s){var l=s*3.2808399,h,m,g;l>5280?(h=l/5280,m=this._getRoundNum(h),this._updateScale(this._iScale,m+" mi",m/h)):(g=this._getRoundNum(l),this._updateScale(this._iScale,g+" ft",g/l))},_updateScale:function(s,l,h){s.style.width=Math.round(this.options.maxWidth*h)+"px",s.innerHTML=l},_getRoundNum:function(s){var l=Math.pow(10,(Math.floor(s)+"").length-1),h=s/l;return h=h>=10?10:h>=5?5:h>=3?3:h>=2?2:1,l*h}}),Xo=function(s){return new Uu(s)},nf='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Jo=$e.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(at.inlineSvg?nf+" ":"")+"Leaflet</a>"},initialize:function(s){tt(this,s),this._attributions={}},onAdd:function(s){s.attributionControl=this,this._container=Ct("div","leaflet-control-attribution"),Pi(this._container);for(var l in s._layers)s._layers[l].getAttribution&&this.addAttribution(s._layers[l].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var l in this._attributions)this._attributions[l]&&s.push(l);var h=[];this.options.prefix&&h.push(this.options.prefix),s.length&&h.push(s.join(", ")),this._container.innerHTML=h.join(' <span aria-hidden="true">|</span> ')}}});Rt.mergeOptions({attributionControl:!0}),Rt.addInitHook(function(){this.options.attributionControl&&new Jo().addTo(this)});var sf=function(s){return new Jo(s)};$e.Layers=Nr,$e.Zoom=Qo,$e.Scale=Uu,$e.Attribution=Jo,Yn.layers=zu,Yn.zoom=ef,Yn.scale=Xo,Yn.attribution=sf;var Ln=xe.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Ln.addTo=function(s,l){return s.addHandler(l,this),this};var rf={Events:H},$o=at.touch?"touchstart mousedown":"mousedown",ci=$.extend({options:{clickTolerance:3},initialize:function(s,l,h,m){tt(this,m),this._element=s,this._dragStartTarget=l||s,this._preventOutline=h},enable:function(){this._enabled||(ct(this._dragStartTarget,$o,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ci._dragging===this&&this.finishDrag(!0),jt(this._dragStartTarget,$o,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!Vo(this._element,"leaflet-zoom-anim"))){if(s.touches&&s.touches.length!==1){ci._dragging===this&&this.finishDrag();return}if(!(ci._dragging||s.shiftKey||s.which!==1&&s.button!==1&&!s.touches)&&(ci._dragging=this,this._preventOutline&&gs(this._element),wa(),ms(),!this._moving)){this.fire("down");var l=s.touches?s.touches[0]:s,h=xa(this._element);this._startPoint=new Y(l.clientX,l.clientY),this._startPos=li(this._element),this._parentScale=wr(h);var m=s.type==="mousedown";ct(document,m?"mousemove":"touchmove",this._onMove,this),ct(document,m?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1){this._moved=!0;return}var l=s.touches&&s.touches.length===1?s.touches[0]:s,h=new Y(l.clientX,l.clientY)._subtract(this._startPoint);!h.x&&!h.y||Math.abs(h.x)+Math.abs(h.y)<this.options.clickTolerance||(h.x/=this._parentScale.x,h.y/=this._parentScale.y,he(s),this._moved||(this.fire("dragstart"),this._moved=!0,dt(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),dt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(h),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),Xt(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){oe(document.body,"leaflet-dragging"),this._lastTarget&&(oe(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),jt(document,"mousemove touchmove",this._onMove,this),jt(document,"mouseup touchend touchcancel",this._onUp,this),Tr(),Rn();var l=this._moved&&this._moving;this._moving=!1,ci._dragging=!1,l&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function Bu(s,l,h){var m,g=[1,4,2,8],S,C,I,z,V,J,ot,vt;for(S=0,J=s.length;S<J;S++)s[S]._code=zi(s[S],l);for(I=0;I<4;I++){for(ot=g[I],m=[],S=0,J=s.length,C=J-1;S<J;C=S++)z=s[S],V=s[C],z._code&ot?V._code&ot||(vt=Na(V,z,ot,l,h),vt._code=zi(vt,l),m.push(vt)):(V._code&ot&&(vt=Na(V,z,ot,l,h),vt._code=zi(vt,l),m.push(vt)),m.push(z));s=m}return s}function Hu(s,l){var h,m,g,S,C,I,z,V,J;if(!s||s.length===0)throw new Error("latlngs not passed");ln(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var ot=nt([0,0]),vt=X(s),Ne=vt.getNorthWest().distanceTo(vt.getSouthWest())*vt.getNorthEast().distanceTo(vt.getNorthWest());Ne<1700&&(ot=tl(s));var fe=s.length,tn=[];for(h=0;h<fe;h++){var It=nt(s[h]);tn.push(l.project(nt([It.lat-ot.lat,It.lng-ot.lng])))}for(I=z=V=0,h=0,m=fe-1;h<fe;m=h++)g=tn[h],S=tn[m],C=g.y*S.x-S.y*g.x,z+=(g.x+S.x)*C,V+=(g.y+S.y)*C,I+=C*3;I===0?J=tn[0]:J=[z/I,V/I];var Dt=l.unproject(et(J));return nt([Dt.lat+ot.lat,Dt.lng+ot.lng])}function tl(s){for(var l=0,h=0,m=0,g=0;g<s.length;g++){var S=nt(s[g]);l+=S.lat,h+=S.lng,m++}return nt([l/m,h/m])}var el={__proto__:null,clipPolygon:Bu,polygonCenter:Hu,centroid:tl};function ju(s,l){if(!l||!s.length)return s.slice();var h=l*l;return s=of(s,h),s=qu(s,h),s}function Zu(s,l,h){return Math.sqrt(Or(s,l,h,!0))}function af(s,l,h){return Or(s,l,h)}function qu(s,l){var h=s.length,m=typeof Uint8Array<"u"?Uint8Array:Array,g=new m(h);g[0]=g[h-1]=1,nl(s,g,l,0,h-1);var S,C=[];for(S=0;S<h;S++)g[S]&&C.push(s[S]);return C}function nl(s,l,h,m,g){var S=0,C,I,z;for(I=m+1;I<=g-1;I++)z=Or(s[I],s[m],s[g],!0),z>S&&(C=I,S=z);S>h&&(l[C]=1,nl(s,l,h,m,C),nl(s,l,h,C,g))}function of(s,l){for(var h=[s[0]],m=1,g=0,S=s.length;m<S;m++)lf(s[m],s[g])>l&&(h.push(s[m]),g=m);return g<S-1&&h.push(s[S-1]),h}var Vu;function Gu(s,l,h,m,g){var S=m?Vu:zi(s,h),C=zi(l,h),I,z,V;for(Vu=C;;){if(!(S|C))return[s,l];if(S&C)return!1;I=S||C,z=Na(s,l,I,h,g),V=zi(z,h),I===S?(s=z,S=V):(l=z,C=V)}}function Na(s,l,h,m,g){var S=l.x-s.x,C=l.y-s.y,I=m.min,z=m.max,V,J;return h&8?(V=s.x+S*(z.y-s.y)/C,J=z.y):h&4?(V=s.x+S*(I.y-s.y)/C,J=I.y):h&2?(V=z.x,J=s.y+C*(z.x-s.x)/S):h&1&&(V=I.x,J=s.y+C*(I.x-s.x)/S),new Y(V,J,g)}function zi(s,l){var h=0;return s.x<l.min.x?h|=1:s.x>l.max.x&&(h|=2),s.y<l.min.y?h|=4:s.y>l.max.y&&(h|=8),h}function lf(s,l){var h=l.x-s.x,m=l.y-s.y;return h*h+m*m}function Or(s,l,h,m){var g=l.x,S=l.y,C=h.x-g,I=h.y-S,z=C*C+I*I,V;return z>0&&(V=((s.x-g)*C+(s.y-S)*I)/z,V>1?(g=h.x,S=h.y):V>0&&(g+=C*V,S+=I*V)),C=s.x-g,I=s.y-S,m?C*C+I*I:new Y(g,S)}function ln(s){return!pt(s[0])||typeof s[0][0]!="object"&&typeof s[0][0]<"u"}function Oa(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),ln(s)}function bs(s,l){var h,m,g,S,C,I,z,V;if(!s||s.length===0)throw new Error("latlngs not passed");ln(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var J=nt([0,0]),ot=X(s),vt=ot.getNorthWest().distanceTo(ot.getSouthWest())*ot.getNorthEast().distanceTo(ot.getNorthWest());vt<1700&&(J=tl(s));var Ne=s.length,fe=[];for(h=0;h<Ne;h++){var tn=nt(s[h]);fe.push(l.project(nt([tn.lat-J.lat,tn.lng-J.lng])))}for(h=0,m=0;h<Ne-1;h++)m+=fe[h].distanceTo(fe[h+1])/2;if(m===0)V=fe[0];else for(h=0,S=0;h<Ne-1;h++)if(C=fe[h],I=fe[h+1],g=C.distanceTo(I),S+=g,S>m){z=(S-m)/g,V=[I.x-z*(I.x-C.x),I.y-z*(I.y-C.y)];break}var It=l.unproject(et(V));return nt([It.lat+J.lat,It.lng+J.lng])}var uf={__proto__:null,simplify:ju,pointToSegmentDistance:Zu,closestPointOnSegment:af,clipSegment:Gu,_getEdgeIntersection:Na,_getBitCode:zi,_sqClosestPointOnSegment:Or,isFlat:ln,_flat:Oa,polylineCenter:bs},Ra={project:function(s){return new Y(s.lng,s.lat)},unproject:function(s){return new it(s.y,s.x)},bounds:new A([-180,-90],[180,90])},Ma={R:6378137,R_MINOR:6356752314245179e-9,bounds:new A([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(s){var l=Math.PI/180,h=this.R,m=s.lat*l,g=this.R_MINOR/h,S=Math.sqrt(1-g*g),C=S*Math.sin(m),I=Math.tan(Math.PI/4-m/2)/Math.pow((1-C)/(1+C),S/2);return m=-h*Math.log(Math.max(I,1e-10)),new Y(s.lng*l*h,m)},unproject:function(s){for(var l=180/Math.PI,h=this.R,m=this.R_MINOR/h,g=Math.sqrt(1-m*m),S=Math.exp(-s.y/h),C=Math.PI/2-2*Math.atan(S),I=0,z=.1,V;I<15&&Math.abs(z)>1e-7;I++)V=g*Math.sin(C),V=Math.pow((1-V)/(1+V),g/2),z=Math.PI/2-2*Math.atan(S*V)-C,C+=z;return new it(C*l,s.x*l/h)}},Fu={__proto__:null,LonLat:Ra,Mercator:Ma,SphericalMercator:xi},Yu=c({},re,{code:"EPSG:3395",projection:Ma,transformation:(function(){var s=.5/(Math.PI*Ma.R);return Ai(s,.5,-s,.5)})()}),il=c({},re,{code:"EPSG:4326",projection:Ra,transformation:Ai(1/180,1,-1/180,.5)}),Es=c({},bt,{projection:Ra,transformation:Ai(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,l){var h=l.lng-s.lng,m=l.lat-s.lat;return Math.sqrt(h*h+m*m)},infinite:!0});bt.Earth=re,bt.EPSG3395=Yu,bt.EPSG3857=ga,bt.EPSG900913=Ni,bt.EPSG4326=il,bt.Simple=Es;var wn=$.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[b(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[b(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var l=s.target;if(l.hasLayer(this)){if(this._map=l,this._zoomAnimated=l._zoomAnimated,this.getEvents){var h=this.getEvents();l.on(h,this),this.once("remove",function(){l.off(h,this)},this)}this.onAdd(l),this.fire("add"),l.fire("layeradd",{layer:this})}}});Rt.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var l=b(s);return this._layers[l]?this:(this._layers[l]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s),this)},removeLayer:function(s){var l=b(s);return this._layers[l]?(this._loaded&&s.onRemove(this),delete this._layers[l],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return b(s)in this._layers},eachLayer:function(s,l){for(var h in this._layers)s.call(l,this._layers[h]);return this},_addLayers:function(s){s=s?pt(s)?s:[s]:[];for(var l=0,h=s.length;l<h;l++)this.addLayer(s[l])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[b(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var l=b(s);this._zoomBoundLayers[l]&&(delete this._zoomBoundLayers[l],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,l=-1/0,h=this._getZoomSpan();for(var m in this._zoomBoundLayers){var g=this._zoomBoundLayers[m].options;s=g.minZoom===void 0?s:Math.min(s,g.minZoom),l=g.maxZoom===void 0?l:Math.max(l,g.maxZoom)}this._layersMaxZoom=l===-1/0?void 0:l,this._layersMinZoom=s===1/0?void 0:s,h!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ss=wn.extend({initialize:function(s,l){tt(this,l),this._layers={};var h,m;if(s)for(h=0,m=s.length;h<m;h++)this.addLayer(s[h])},addLayer:function(s){var l=this.getLayerId(s);return this._layers[l]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var l=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[l]&&this._map.removeLayer(this._layers[l]),delete this._layers[l],this},hasLayer:function(s){var l=typeof s=="number"?s:this.getLayerId(s);return l in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var l=Array.prototype.slice.call(arguments,1),h,m;for(h in this._layers)m=this._layers[h],m[s]&&m[s].apply(m,l);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,l){for(var h in this._layers)s.call(l,this._layers[h]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return b(s)}}),cf=function(s,l){return new Ss(s,l)},In=Ss.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),Ss.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),Ss.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new W;for(var l in this._layers){var h=this._layers[l];s.extend(h.getBounds?h.getBounds():h.getLatLng())}return s}}),Wu=function(s,l){return new In(s,l)},Dn=xe.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){tt(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,l){var h=this._getIconUrl(s);if(!h){if(s==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var m=this._createImg(h,l&&l.tagName==="IMG"?l:null);return this._setIconStyles(m,s),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),m},_setIconStyles:function(s,l){var h=this.options,m=h[l+"Size"];typeof m=="number"&&(m=[m,m]);var g=et(m),S=et(l==="shadow"&&h.shadowAnchor||h.iconAnchor||g&&g.divideBy(2,!0));s.className="leaflet-marker-"+l+" "+(h.className||""),S&&(s.style.marginLeft=-S.x+"px",s.style.marginTop=-S.y+"px"),g&&(s.style.width=g.x+"px",s.style.height=g.y+"px")},_createImg:function(s,l){return l=l||document.createElement("img"),l.src=s,l},_getIconUrl:function(s){return at.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});function Rr(s){return new Dn(s)}var Mr=Dn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return typeof Mr.imagePath!="string"&&(Mr.imagePath=this._detectIconPath()),(this.options.imagePath||Mr.imagePath)+Dn.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var l=function(h,m,g){var S=m.exec(h);return S&&S[g]};return s=l(s,/^url\((['"])?(.+)\1\)$/,2),s&&l(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=Ct("div","leaflet-default-icon-path",document.body),l=Er(s,"background-image")||Er(s,"backgroundImage");if(document.body.removeChild(s),l=this._stripUrl(l),l)return l;var h=document.querySelector('link[href$="leaflet.css"]');return h?h.href.substring(0,h.href.length-11-1):""}}),Lr=Ln.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new ci(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),dt(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&oe(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var l=this._marker,h=l._map,m=this._marker.options.autoPanSpeed,g=this._marker.options.autoPanPadding,S=li(l._icon),C=h.getPixelBounds(),I=h.getPixelOrigin(),z=j(C.min._subtract(I).add(g),C.max._subtract(I).subtract(g));if(!z.contains(S)){var V=et((Math.max(z.max.x,S.x)-z.max.x)/(C.max.x-z.max.x)-(Math.min(z.min.x,S.x)-z.min.x)/(C.min.x-z.min.x),(Math.max(z.max.y,S.y)-z.max.y)/(C.max.y-z.max.y)-(Math.min(z.min.y,S.y)-z.min.y)/(C.min.y-z.min.y)).multiplyBy(m);h.panBy(V,{animate:!1}),this._draggable._newPos._add(V),this._draggable._startPos._add(V),Xt(l._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=ee(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(Qt(this._panRequest),this._panRequest=ee(this._adjustPan.bind(this,s)))},_onDrag:function(s){var l=this._marker,h=l._shadow,m=li(l._icon),g=l._map.layerPointToLatLng(m);h&&Xt(h,m),l._latlng=g,s.latlng=g,s.oldLatLng=this._oldLatLng,l.fire("move",s).fire("drag",s)},_onDragEnd:function(s){Qt(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),Ir=wn.extend({options:{icon:new Mr,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,l){tt(this,l),this._latlng=nt(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var l=this._latlng;return this._latlng=nt(s),this.update(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,l="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),h=s.icon.createIcon(this._icon),m=!1;h!==this._icon&&(this._icon&&this._removeIcon(),m=!0,s.title&&(h.title=s.title),h.tagName==="IMG"&&(h.alt=s.alt||"")),dt(h,l),s.keyboard&&(h.tabIndex="0",h.setAttribute("role","button")),this._icon=h,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ct(h,"focus",this._panOnFocus,this);var g=s.icon.createShadow(this._shadow),S=!1;g!==this._shadow&&(this._removeShadow(),S=!0),g&&(dt(g,l),g.alt=""),this._shadow=g,s.opacity<1&&this._updateOpacity(),m&&this.getPane().appendChild(this._icon),this._initInteraction(),g&&S&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&jt(this._icon,"focus",this._panOnFocus,this),Gt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Gt(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&Xt(this._icon,s),this._shadow&&Xt(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var l=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(l)},_initInteraction:function(){if(this.options.interactive&&(dt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Lr)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Lr(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&ne(this._icon,s),this._shadow&&ne(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var l=this.options.icon.options,h=l.iconSize?et(l.iconSize):et(0,0),m=l.iconAnchor?et(l.iconAnchor):et(0,0);s.panInside(this._latlng,{paddingTopLeft:m,paddingBottomRight:h.subtract(m)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Ku(s,l){return new Ir(s,l)}var kn=wn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return tt(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ts=kn.extend({options:{fill:!0,radius:10},initialize:function(s,l){tt(this,l),this._latlng=nt(s),this._radius=this.options.radius},setLatLng:function(s){var l=this._latlng;return this._latlng=nt(s),this.redraw(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var l=s&&s.radius||this._radius;return kn.prototype.setStyle.call(this,s),this.setRadius(l),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,l=this._radiusY||s,h=this._clickTolerance(),m=[s+h,l+h];this._pxBounds=new A(this._point.subtract(m),this._point.add(m))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Qu(s,l){return new Ts(s,l)}var La=Ts.extend({initialize:function(s,l,h){if(typeof l=="number"&&(l=c({},h,{radius:l})),tt(this,l),this._latlng=nt(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new W(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:kn.prototype.setStyle,_project:function(){var s=this._latlng.lng,l=this._latlng.lat,h=this._map,m=h.options.crs;if(m.distance===re.distance){var g=Math.PI/180,S=this._mRadius/re.R/g,C=h.project([l+S,s]),I=h.project([l-S,s]),z=C.add(I).divideBy(2),V=h.unproject(z).lat,J=Math.acos((Math.cos(S*g)-Math.sin(l*g)*Math.sin(V*g))/(Math.cos(l*g)*Math.cos(V*g)))/g;(isNaN(J)||J===0)&&(J=S/Math.cos(Math.PI/180*l)),this._point=z.subtract(h.getPixelOrigin()),this._radius=isNaN(J)?0:z.x-h.project([V,s-J]).x,this._radiusY=z.y-C.y}else{var ot=m.unproject(m.project(this._latlng).subtract([this._mRadius,0]));this._point=h.latLngToLayerPoint(this._latlng),this._radius=this._point.x-h.latLngToLayerPoint(ot).x}this._updateBounds()}});function Xu(s,l,h){return new La(s,l,h)}var Wn=kn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,l){tt(this,l),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var l=1/0,h=null,m=Or,g,S,C=0,I=this._parts.length;C<I;C++)for(var z=this._parts[C],V=1,J=z.length;V<J;V++){g=z[V-1],S=z[V];var ot=m(s,g,S,!0);ot<l&&(l=ot,h=m(s,g,S))}return h&&(h.distance=Math.sqrt(l)),h},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return bs(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,l){return l=l||this._defaultShape(),s=nt(s),l.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new W,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return ln(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var l=[],h=ln(s),m=0,g=s.length;m<g;m++)h?(l[m]=nt(s[m]),this._bounds.extend(l[m])):l[m]=this._convertLatLngs(s[m]);return l},_project:function(){var s=new A;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),l=new Y(s,s);this._rawPxBounds&&(this._pxBounds=new A([this._rawPxBounds.min.subtract(l),this._rawPxBounds.max.add(l)]))},_projectLatlngs:function(s,l,h){var m=s[0]instanceof it,g=s.length,S,C;if(m){for(C=[],S=0;S<g;S++)C[S]=this._map.latLngToLayerPoint(s[S]),h.extend(C[S]);l.push(C)}else for(S=0;S<g;S++)this._projectLatlngs(s[S],l,h)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}var l=this._parts,h,m,g,S,C,I,z;for(h=0,g=0,S=this._rings.length;h<S;h++)for(z=this._rings[h],m=0,C=z.length;m<C-1;m++)I=Gu(z[m],z[m+1],s,m,!0),I&&(l[g]=l[g]||[],l[g].push(I[0]),(I[1]!==z[m+1]||m===C-2)&&(l[g].push(I[1]),g++))}},_simplifyPoints:function(){for(var s=this._parts,l=this.options.smoothFactor,h=0,m=s.length;h<m;h++)s[h]=ju(s[h],l)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,l){var h,m,g,S,C,I,z=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(h=0,S=this._parts.length;h<S;h++)for(I=this._parts[h],m=0,C=I.length,g=C-1;m<C;g=m++)if(!(!l&&m===0)&&Zu(s,I[g],I[m])<=z)return!0;return!1}});function hf(s,l){return new Wn(s,l)}Wn._flat=Oa;var ws=Wn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Hu(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var l=Wn.prototype._convertLatLngs.call(this,s),h=l.length;return h>=2&&l[0]instanceof it&&l[0].equals(l[h-1])&&l.pop(),l},_setLatLngs:function(s){Wn.prototype._setLatLngs.call(this,s),ln(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return ln(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,l=this.options.weight,h=new Y(l,l);if(s=new A(s.min.subtract(h),s.max.add(h)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}for(var m=0,g=this._rings.length,S;m<g;m++)S=Bu(this._rings[m],s,!0),S.length&&this._parts.push(S)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var l=!1,h,m,g,S,C,I,z,V;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(S=0,z=this._parts.length;S<z;S++)for(h=this._parts[S],C=0,V=h.length,I=V-1;C<V;I=C++)m=h[C],g=h[I],m.y>s.y!=g.y>s.y&&s.x<(g.x-m.x)*(s.y-m.y)/(g.y-m.y)+m.x&&(l=!l);return l||Wn.prototype._containsPoint.call(this,s,!0)}});function ff(s,l){return new ws(s,l)}var Kn=In.extend({initialize:function(s,l){tt(this,l),this._layers={},s&&this.addData(s)},addData:function(s){var l=pt(s)?s:s.features,h,m,g;if(l){for(h=0,m=l.length;h<m;h++)g=l[h],(g.geometries||g.geometry||g.features||g.coordinates)&&this.addData(g);return this}var S=this.options;if(S.filter&&!S.filter(s))return this;var C=Le(s,S);return C?(C.feature=ka(s),C.defaultOptions=C.options,this.resetStyle(C),S.onEachFeature&&S.onEachFeature(s,C),this.addLayer(C)):this},resetStyle:function(s){return s===void 0?this.eachLayer(this.resetStyle,this):(s.options=c({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(l){this._setLayerStyle(l,s)},this)},_setLayerStyle:function(s,l){s.setStyle&&(typeof l=="function"&&(l=l(s.feature)),s.setStyle(l))}});function Le(s,l){var h=s.type==="Feature"?s.geometry:s,m=h?h.coordinates:null,g=[],S=l&&l.pointToLayer,C=l&&l.coordsToLatLng||Ia,I,z,V,J;if(!m&&!h)return null;switch(h.type){case"Point":return I=C(m),Cs(S,s,I,l);case"MultiPoint":for(V=0,J=m.length;V<J;V++)I=C(m[V]),g.push(Cs(S,s,I,l));return new In(g);case"LineString":case"MultiLineString":return z=Dr(m,h.type==="LineString"?0:1,C),new Wn(z,l);case"Polygon":case"MultiPolygon":return z=Dr(m,h.type==="Polygon"?1:2,C),new ws(z,l);case"GeometryCollection":for(V=0,J=h.geometries.length;V<J;V++){var ot=Le({geometry:h.geometries[V],type:"Feature",properties:s.properties},l);ot&&g.push(ot)}return new In(g);case"FeatureCollection":for(V=0,J=h.features.length;V<J;V++){var vt=Le(h.features[V],l);vt&&g.push(vt)}return new In(g);default:throw new Error("Invalid GeoJSON object.")}}function Cs(s,l,h,m){return s?s(l,h):new Ir(h,m&&m.markersInheritOptions&&m)}function Ia(s){return new it(s[1],s[0],s[2])}function Dr(s,l,h){for(var m=[],g=0,S=s.length,C;g<S;g++)C=l?Dr(s[g],l-1,h):(h||Ia)(s[g]),m.push(C);return m}function Da(s,l){return s=nt(s),s.alt!==void 0?[O(s.lng,l),O(s.lat,l),O(s.alt,l)]:[O(s.lng,l),O(s.lat,l)]}function kr(s,l,h,m){for(var g=[],S=0,C=s.length;S<C;S++)g.push(l?kr(s[S],ln(s[S])?0:l-1,h,m):Da(s[S],m));return!l&&h&&g.length>0&&g.push(g[0].slice()),g}function hi(s,l){return s.feature?c({},s.feature,{geometry:l}):ka(l)}function ka(s){return s.type==="Feature"||s.type==="FeatureCollection"?s:{type:"Feature",properties:{},geometry:s}}var fi={toGeoJSON:function(s){return hi(this,{type:"Point",coordinates:Da(this.getLatLng(),s)})}};Ir.include(fi),La.include(fi),Ts.include(fi),Wn.include({toGeoJSON:function(s){var l=!ln(this._latlngs),h=kr(this._latlngs,l?1:0,!1,s);return hi(this,{type:(l?"Multi":"")+"LineString",coordinates:h})}}),ws.include({toGeoJSON:function(s){var l=!ln(this._latlngs),h=l&&!ln(this._latlngs[0]),m=kr(this._latlngs,h?2:l?1:0,!0,s);return l||(m=[m]),hi(this,{type:(h?"Multi":"")+"Polygon",coordinates:m})}}),Ss.include({toMultiPoint:function(s){var l=[];return this.eachLayer(function(h){l.push(h.toGeoJSON(s).geometry.coordinates)}),hi(this,{type:"MultiPoint",coordinates:l})},toGeoJSON:function(s){var l=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(l==="MultiPoint")return this.toMultiPoint(s);var h=l==="GeometryCollection",m=[];return this.eachLayer(function(g){if(g.toGeoJSON){var S=g.toGeoJSON(s);if(h)m.push(S.geometry);else{var C=ka(S);C.type==="FeatureCollection"?m.push.apply(m,C.features):m.push(C)}}}),h?hi(this,{geometries:m,type:"GeometryCollection"}):{type:"FeatureCollection",features:m}}});function Pa(s,l){return new Kn(s,l)}var Pr=Pa,xs=wn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,l,h){this._url=s,this._bounds=X(l),tt(this,h)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(dt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Gt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&Ae(this._image),this},bringToBack:function(){return this._map&&Di(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=X(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s=this._url.tagName==="IMG",l=this._image=s?this._url:Ct("img");if(dt(l,"leaflet-image-layer"),this._zoomAnimated&&dt(l,"leaflet-zoom-animated"),this.options.className&&dt(l,this.options.className),l.onselectstart=w,l.onmousemove=w,l.onload=p(this.fire,this,"load"),l.onerror=p(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s){this._url=l.src;return}l.src=this._url,l.alt=this.options.alt},_animateZoom:function(s){var l=this._map.getZoomScale(s.zoom),h=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;Gn(this._image,h,l)},_reset:function(){var s=this._image,l=new A(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),h=l.getSize();Xt(s,l.min),s.style.width=h.x+"px",s.style.height=h.y+"px"},_updateOpacity:function(){ne(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),Ju=function(s,l,h){return new xs(s,l,h)},di=xs.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s=this._url.tagName==="VIDEO",l=this._image=s?this._url:Ct("video");if(dt(l,"leaflet-image-layer"),this._zoomAnimated&&dt(l,"leaflet-zoom-animated"),this.options.className&&dt(l,this.options.className),l.onselectstart=w,l.onmousemove=w,l.onloadeddata=p(this.fire,this,"load"),s){for(var h=l.getElementsByTagName("source"),m=[],g=0;g<h.length;g++)m.push(h[g].src);this._url=h.length>0?m:[l.src];return}pt(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(l.style,"objectFit")&&(l.style.objectFit="fill"),l.autoplay=!!this.options.autoplay,l.loop=!!this.options.loop,l.muted=!!this.options.muted,l.playsInline=!!this.options.playsInline;for(var S=0;S<this._url.length;S++){var C=Ct("source");C.src=this._url[S],l.appendChild(C)}}});function As(s,l,h){return new di(s,l,h)}var za=xs.extend({_initImage:function(){var s=this._image=this._url;dt(s,"leaflet-image-layer"),this._zoomAnimated&&dt(s,"leaflet-zoom-animated"),this.options.className&&dt(s,this.options.className),s.onselectstart=w,s.onmousemove=w}});function $u(s,l,h){return new za(s,l,h)}var Ie=wn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,l){s&&(s instanceof it||pt(s))?(this._latlng=nt(s),tt(this,l)):(tt(this,s),this._source=l),this.options.content&&(this._content=this.options.content)},openOn:function(s){return s=arguments.length?s:this._source._map,s.hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&ne(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&ne(this._container,1),this.bringToFront(),this.options.interactive&&(dt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(ne(this._container,0),this._removeTimeout=setTimeout(p(Gt,void 0,this._container),200)):Gt(this._container),this.options.interactive&&(oe(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=nt(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ae(this._container),this},bringToBack:function(){return this._map&&Di(this._container),this},_prepareOpen:function(s){var l=this._source;if(!l._map)return!1;if(l instanceof In){l=null;var h=this._source._layers;for(var m in h)if(h[m]._map){l=h[m];break}if(!l)return!1;this._source=l}if(!s)if(l.getCenter)s=l.getCenter();else if(l.getLatLng)s=l.getLatLng();else if(l.getBounds)s=l.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,l=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof l=="string")s.innerHTML=l;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(l)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),l=et(this.options.offset),h=this._getAnchor();this._zoomAnimated?Xt(this._container,s.add(h)):l=l.add(s).add(h);var m=this._containerBottom=-l.y,g=this._containerLeft=-Math.round(this._containerWidth/2)+l.x;this._container.style.bottom=m+"px",this._container.style.left=g+"px"}},_getAnchor:function(){return[0,0]}});Rt.include({_initOverlay:function(s,l,h,m){var g=l;return g instanceof s||(g=new s(m).setContent(l)),h&&g.setLatLng(h),g}}),wn.include({_initOverlay:function(s,l,h,m){var g=h;return g instanceof s?(tt(g,m),g._source=this):(g=l&&!m?l:new s(m,this),g.setContent(h)),g}});var zr=Ie.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return s=arguments.length?s:this._source._map,!s.hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,Ie.prototype.openOn.call(this,s)},onAdd:function(s){Ie.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof kn||this._source.on("preclick",Tn))},onRemove:function(s){Ie.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof kn||this._source.off("preclick",Tn))},getEvents:function(){var s=Ie.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",l=this._container=Ct("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),h=this._wrapper=Ct("div",s+"-content-wrapper",l);if(this._contentNode=Ct("div",s+"-content",h),Pi(l),Mn(this._contentNode),ct(l,"contextmenu",Tn),this._tipContainer=Ct("div",s+"-tip-container",l),this._tip=Ct("div",s+"-tip",this._tipContainer),this.options.closeButton){var m=this._closeButton=Ct("a",s+"-close-button",l);m.setAttribute("role","button"),m.setAttribute("aria-label","Close popup"),m.href="#close",m.innerHTML='<span aria-hidden="true">&#215;</span>',ct(m,"click",function(g){he(g),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,l=s.style;l.width="",l.whiteSpace="nowrap";var h=s.offsetWidth;h=Math.min(h,this.options.maxWidth),h=Math.max(h,this.options.minWidth),l.width=h+1+"px",l.whiteSpace="",l.height="";var m=s.offsetHeight,g=this.options.maxHeight,S="leaflet-popup-scrolled";g&&m>g?(l.height=g+"px",dt(s,S)):oe(s,S),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var l=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),h=this._getAnchor();Xt(this._container,l.add(h))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var s=this._map,l=parseInt(Er(this._container,"marginBottom"),10)||0,h=this._container.offsetHeight+l,m=this._containerWidth,g=new Y(this._containerLeft,-h-this._containerBottom);g._add(li(this._container));var S=s.layerPointToContainerPoint(g),C=et(this.options.autoPanPadding),I=et(this.options.autoPanPaddingTopLeft||C),z=et(this.options.autoPanPaddingBottomRight||C),V=s.getSize(),J=0,ot=0;S.x+m+z.x>V.x&&(J=S.x+m-V.x+z.x),S.x-J-I.x<0&&(J=S.x-I.x),S.y+h+z.y>V.y&&(ot=S.y+h-V.y+z.y),S.y-ot-I.y<0&&(ot=S.y-I.y),(J||ot)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([J,ot]))}},_getAnchor:function(){return et(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),tc=function(s,l){return new zr(s,l)};Rt.mergeOptions({closePopupOnClick:!0}),Rt.include({openPopup:function(s,l,h){return this._initOverlay(zr,s,l,h).openOn(this),this},closePopup:function(s){return s=arguments.length?s:this._popup,s&&s.close(),this}}),wn.include({bindPopup:function(s,l){return this._popup=this._initOverlay(zr,this._popup,s,l),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof In||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(!(!this._popup||!this._map)){ui(s);var l=s.layer||s.target;if(this._popup._source===l&&!(l instanceof kn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng);return}this._popup._source=l,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){s.originalEvent.keyCode===13&&this._openPopup(s)}});var Ur=Ie.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){Ie.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){Ie.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=Ie.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){var s="leaflet-tooltip",l=s+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Ct("div",l),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+b(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var l,h,m=this._map,g=this._container,S=m.latLngToContainerPoint(m.getCenter()),C=m.layerPointToContainerPoint(s),I=this.options.direction,z=g.offsetWidth,V=g.offsetHeight,J=et(this.options.offset),ot=this._getAnchor();I==="top"?(l=z/2,h=V):I==="bottom"?(l=z/2,h=0):I==="center"?(l=z/2,h=V/2):I==="right"?(l=0,h=V/2):I==="left"?(l=z,h=V/2):C.x<S.x?(I="right",l=0,h=V/2):(I="left",l=z+(J.x+ot.x)*2,h=V/2),s=s.subtract(et(l,h,!0)).add(J).add(ot),oe(g,"leaflet-tooltip-right"),oe(g,"leaflet-tooltip-left"),oe(g,"leaflet-tooltip-top"),oe(g,"leaflet-tooltip-bottom"),dt(g,"leaflet-tooltip-"+I),Xt(g,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&ne(this._container,s)},_animateZoom:function(s){var l=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(l)},_getAnchor:function(){return et(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),df=function(s,l){return new Ur(s,l)};Rt.include({openTooltip:function(s,l,h){return this._initOverlay(Ur,s,l,h).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),wn.include({bindTooltip:function(s,l){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ur,this._tooltip,s,l),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(!(!s&&this._tooltipHandlersAdded)){var l=s?"off":"on",h={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?h.add=this._openTooltip:(h.mouseover=this._openTooltip,h.mouseout=this.closeTooltip,h.click=this._openTooltip,this._map?this._addFocusListeners():h.add=this._addFocusListeners),this._tooltip.options.sticky&&(h.mousemove=this._moveTooltip),this[l](h),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof In||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var l=typeof s.getElement=="function"&&s.getElement();l&&(ct(l,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),ct(l,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var l=typeof s.getElement=="function"&&s.getElement();l&&l.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var l=this;this._map.once("moveend",function(){l._openOnceFlag=!1,l._openTooltip(s)});return}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var l=s.latlng,h,m;this._tooltip.options.sticky&&s.originalEvent&&(h=this._map.mouseEventToContainerPoint(s.originalEvent),m=this._map.containerPointToLayerPoint(h),l=this._map.layerPointToLatLng(m)),this._tooltip.setLatLng(l)}});var ec=Dn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var l=s&&s.tagName==="DIV"?s:document.createElement("div"),h=this.options;if(h.html instanceof Element?(an(l),l.appendChild(h.html)):l.innerHTML=h.html!==!1?h.html:"",h.bgPos){var m=et(h.bgPos);l.style.backgroundPosition=-m.x+"px "+-m.y+"px"}return this._setIconStyles(l,"icon"),l},createShadow:function(){return null}});function _f(s){return new ec(s)}Dn.Default=Mr;var Ns=wn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:at.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){tt(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),Gt(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ae(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Di(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=E(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof Y?s:new Y(s,s)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var l=this.getPane().children,h=-s(-1/0,1/0),m=0,g=l.length,S;m<g;m++)S=l[m].style.zIndex,l[m]!==this._container&&S&&(h=s(h,+S));isFinite(h)&&(this.options.zIndex=h+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!at.ielt9){ne(this._container,this.options.opacity);var s=+new Date,l=!1,h=!1;for(var m in this._tiles){var g=this._tiles[m];if(!(!g.current||!g.loaded)){var S=Math.min(1,(s-g.loaded)/200);ne(g.el,S),S<1?l=!0:(g.active?h=!0:this._onOpaqueTile(g),g.active=!0)}}h&&!this._noPrune&&this._pruneTiles(),l&&(Qt(this._fadeFrame),this._fadeFrame=ee(this._updateOpacity,this))}},_onOpaqueTile:w,_initContainer:function(){this._container||(this._container=Ct("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,l=this.options.maxZoom;if(s!==void 0){for(var h in this._levels)h=Number(h),this._levels[h].el.children.length||h===s?(this._levels[h].el.style.zIndex=l-Math.abs(s-h),this._onUpdateLevel(h)):(Gt(this._levels[h].el),this._removeTilesAtZoom(h),this._onRemoveLevel(h),delete this._levels[h]);var m=this._levels[s],g=this._map;return m||(m=this._levels[s]={},m.el=Ct("div","leaflet-tile-container leaflet-zoom-animated",this._container),m.el.style.zIndex=l,m.origin=g.project(g.unproject(g.getPixelOrigin()),s).round(),m.zoom=s,this._setZoomTransform(m,g.getCenter(),g.getZoom()),w(m.el.offsetWidth),this._onCreateLevel(m)),this._level=m,m}},_onUpdateLevel:w,_onRemoveLevel:w,_onCreateLevel:w,_pruneTiles:function(){if(this._map){var s,l,h=this._map.getZoom();if(h>this.options.maxZoom||h<this.options.minZoom){this._removeAllTiles();return}for(s in this._tiles)l=this._tiles[s],l.retain=l.current;for(s in this._tiles)if(l=this._tiles[s],l.current&&!l.active){var m=l.coords;this._retainParent(m.x,m.y,m.z,m.z-5)||this._retainChildren(m.x,m.y,m.z,m.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var l in this._tiles)this._tiles[l].coords.z===s&&this._removeTile(l)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)Gt(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,l,h,m){var g=Math.floor(s/2),S=Math.floor(l/2),C=h-1,I=new Y(+g,+S);I.z=+C;var z=this._tileCoordsToKey(I),V=this._tiles[z];return V&&V.active?(V.retain=!0,!0):(V&&V.loaded&&(V.retain=!0),C>m?this._retainParent(g,S,C,m):!1)},_retainChildren:function(s,l,h,m){for(var g=2*s;g<2*s+2;g++)for(var S=2*l;S<2*l+2;S++){var C=new Y(g,S);C.z=h+1;var I=this._tileCoordsToKey(C),z=this._tiles[I];if(z&&z.active){z.retain=!0;continue}else z&&z.loaded&&(z.retain=!0);h+1<m&&this._retainChildren(g,S,h+1,m)}},_resetView:function(s){var l=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),l,l)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var l=this.options;return l.minNativeZoom!==void 0&&s<l.minNativeZoom?l.minNativeZoom:l.maxNativeZoom!==void 0&&l.maxNativeZoom<s?l.maxNativeZoom:s},_setView:function(s,l,h,m){var g=Math.round(l);this.options.maxZoom!==void 0&&g>this.options.maxZoom||this.options.minZoom!==void 0&&g<this.options.minZoom?g=void 0:g=this._clampZoom(g);var S=this.options.updateWhenZooming&&g!==this._tileZoom;(!m||S)&&(this._tileZoom=g,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),g!==void 0&&this._update(s),h||this._pruneTiles(),this._noPrune=!!h),this._setZoomTransforms(s,l)},_setZoomTransforms:function(s,l){for(var h in this._levels)this._setZoomTransform(this._levels[h],s,l)},_setZoomTransform:function(s,l,h){var m=this._map.getZoomScale(h,s.zoom),g=s.origin.multiplyBy(m).subtract(this._map._getNewPixelOrigin(l,h)).round();at.any3d?Gn(s.el,g,m):Xt(s.el,g)},_resetGrid:function(){var s=this._map,l=s.options.crs,h=this._tileSize=this.getTileSize(),m=this._tileZoom,g=this._map.getPixelWorldBounds(this._tileZoom);g&&(this._globalTileRange=this._pxBoundsToTileRange(g)),this._wrapX=l.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,l.wrapLng[0]],m).x/h.x),Math.ceil(s.project([0,l.wrapLng[1]],m).x/h.y)],this._wrapY=l.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([l.wrapLat[0],0],m).y/h.x),Math.ceil(s.project([l.wrapLat[1],0],m).y/h.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var l=this._map,h=l._animatingZoom?Math.max(l._animateToZoom,l.getZoom()):l.getZoom(),m=l.getZoomScale(h,this._tileZoom),g=l.project(s,this._tileZoom).floor(),S=l.getSize().divideBy(m*2);return new A(g.subtract(S),g.add(S))},_update:function(s){var l=this._map;if(l){var h=this._clampZoom(l.getZoom());if(s===void 0&&(s=l.getCenter()),this._tileZoom!==void 0){var m=this._getTiledPixelBounds(s),g=this._pxBoundsToTileRange(m),S=g.getCenter(),C=[],I=this.options.keepBuffer,z=new A(g.getBottomLeft().subtract([I,-I]),g.getTopRight().add([I,-I]));if(!(isFinite(g.min.x)&&isFinite(g.min.y)&&isFinite(g.max.x)&&isFinite(g.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var V in this._tiles){var J=this._tiles[V].coords;(J.z!==this._tileZoom||!z.contains(new Y(J.x,J.y)))&&(this._tiles[V].current=!1)}if(Math.abs(h-this._tileZoom)>1){this._setView(s,h);return}for(var ot=g.min.y;ot<=g.max.y;ot++)for(var vt=g.min.x;vt<=g.max.x;vt++){var Ne=new Y(vt,ot);if(Ne.z=this._tileZoom,!!this._isValidTile(Ne)){var fe=this._tiles[this._tileCoordsToKey(Ne)];fe?fe.current=!0:C.push(Ne)}}if(C.sort(function(It,Dt){return It.distanceTo(S)-Dt.distanceTo(S)}),C.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var tn=document.createDocumentFragment();for(vt=0;vt<C.length;vt++)this._addTile(C[vt],tn);this._level.el.appendChild(tn)}}}},_isValidTile:function(s){var l=this._map.options.crs;if(!l.infinite){var h=this._globalTileRange;if(!l.wrapLng&&(s.x<h.min.x||s.x>h.max.x)||!l.wrapLat&&(s.y<h.min.y||s.y>h.max.y))return!1}if(!this.options.bounds)return!0;var m=this._tileCoordsToBounds(s);return X(this.options.bounds).overlaps(m)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var l=this._map,h=this.getTileSize(),m=s.scaleBy(h),g=m.add(h),S=l.unproject(m,s.z),C=l.unproject(g,s.z);return[S,C]},_tileCoordsToBounds:function(s){var l=this._tileCoordsToNwSe(s),h=new W(l[0],l[1]);return this.options.noWrap||(h=this._map.wrapLatLngBounds(h)),h},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var l=s.split(":"),h=new Y(+l[0],+l[1]);return h.z=+l[2],h},_removeTile:function(s){var l=this._tiles[s];l&&(Gt(l.el),delete this._tiles[s],this.fire("tileunload",{tile:l.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){dt(s,"leaflet-tile");var l=this.getTileSize();s.style.width=l.x+"px",s.style.height=l.y+"px",s.onselectstart=w,s.onmousemove=w,at.ielt9&&this.options.opacity<1&&ne(s,this.options.opacity)},_addTile:function(s,l){var h=this._getTilePos(s),m=this._tileCoordsToKey(s),g=this.createTile(this._wrapCoords(s),p(this._tileReady,this,s));this._initTile(g),this.createTile.length<2&&ee(p(this._tileReady,this,s,null,g)),Xt(g,h),this._tiles[m]={el:g,coords:s,current:!0},l.appendChild(g),this.fire("tileloadstart",{tile:g,coords:s})},_tileReady:function(s,l,h){l&&this.fire("tileerror",{error:l,tile:h,coords:s});var m=this._tileCoordsToKey(s);h=this._tiles[m],h&&(h.loaded=+new Date,this._map._fadeAnimated?(ne(h.el,0),Qt(this._fadeFrame),this._fadeFrame=ee(this._updateOpacity,this)):(h.active=!0,this._pruneTiles()),l||(dt(h.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:h.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),at.ielt9||!this._map._fadeAnimated?ee(this._pruneTiles,this):setTimeout(p(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var l=new Y(this._wrapX?N(s.x,this._wrapX):s.x,this._wrapY?N(s.y,this._wrapY):s.y);return l.z=s.z,l},_pxBoundsToTileRange:function(s){var l=this.getTileSize();return new A(s.min.unscaleBy(l).floor(),s.max.unscaleBy(l).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});function nc(s){return new Ns(s)}var _i=Ns.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,l){this._url=s,l=tt(this,l),l.detectRetina&&at.retina&&l.maxZoom>0?(l.tileSize=Math.floor(l.tileSize/2),l.zoomReverse?(l.zoomOffset--,l.minZoom=Math.min(l.maxZoom,l.minZoom+1)):(l.zoomOffset++,l.maxZoom=Math.max(l.minZoom,l.maxZoom-1)),l.minZoom=Math.max(0,l.minZoom)):l.zoomReverse?l.minZoom=Math.min(l.maxZoom,l.minZoom):l.maxZoom=Math.max(l.minZoom,l.maxZoom),typeof l.subdomains=="string"&&(l.subdomains=l.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,l){return this._url===s&&l===void 0&&(l=!0),this._url=s,l||this.redraw(),this},createTile:function(s,l){var h=document.createElement("img");return ct(h,"load",p(this._tileOnLoad,this,l,h)),ct(h,"error",p(this._tileOnError,this,l,h)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(h.referrerPolicy=this.options.referrerPolicy),h.alt="",h.src=this.getTileUrl(s),h},getTileUrl:function(s){var l={r:at.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var h=this._globalTileRange.max.y-s.y;this.options.tms&&(l.y=h),l["-y"]=h}return te(this._url,c(l,this.options))},_tileOnLoad:function(s,l){at.ielt9?setTimeout(p(s,this,null,l),0):s(null,l)},_tileOnError:function(s,l,h){var m=this.options.errorTileUrl;m&&l.getAttribute("src")!==m&&(l.src=m),s(h,l)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom,l=this.options.maxZoom,h=this.options.zoomReverse,m=this.options.zoomOffset;return h&&(s=l-s),s+m},_getSubdomain:function(s){var l=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[l]},_abortLoading:function(){var s,l;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&(l=this._tiles[s].el,l.onload=w,l.onerror=w,!l.complete)){l.src=Qe;var h=this._tiles[s].coords;Gt(l),delete this._tiles[s],this.fire("tileabort",{tile:l,coords:h})}},_removeTile:function(s){var l=this._tiles[s];if(l)return l.el.setAttribute("src",Qe),Ns.prototype._removeTile.call(this,s)},_tileReady:function(s,l,h){if(!(!this._map||h&&h.getAttribute("src")===Qe))return Ns.prototype._tileReady.call(this,s,l,h)}});function un(s,l){return new _i(s,l)}var Br=_i.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,l){this._url=s;var h=c({},this.defaultWmsParams);for(var m in l)m in this.options||(h[m]=l[m]);l=tt(this,l);var g=l.detectRetina&&at.retina?2:1,S=this.getTileSize();h.width=S.x*g,h.height=S.y*g,this.wmsParams=h},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var l=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[l]=this._crs.code,_i.prototype.onAdd.call(this,s)},getTileUrl:function(s){var l=this._tileCoordsToNwSe(s),h=this._crs,m=j(h.project(l[0]),h.project(l[1])),g=m.min,S=m.max,C=(this._wmsVersion>=1.3&&this._crs===il?[g.y,g.x,S.y,S.x]:[g.x,g.y,S.x,S.y]).join(","),I=_i.prototype.getTileUrl.call(this,s);return I+Ot(this.wmsParams,I,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+C},setParams:function(s,l){return c(this.wmsParams,s),l||this.redraw(),this}});function cn(s,l){return new Br(s,l)}_i.WMS=Br,un.wms=cn;var Fe=wn.extend({options:{padding:.1},initialize:function(s){tt(this,s),b(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),dt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,l){var h=this._map.getZoomScale(l,this._zoom),m=this._map.getSize().multiplyBy(.5+this.options.padding),g=this._map.project(this._center,l),S=m.multiplyBy(-h).add(g).subtract(this._map._getNewPixelOrigin(s,l));at.any3d?Gn(this._container,S,h):Xt(this._container,S)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var s in this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,l=this._map.getSize(),h=this._map.containerPointToLayerPoint(l.multiplyBy(-s)).round();this._bounds=new A(h,h.add(l.multiplyBy(1+s*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Ua=Fe.extend({options:{tolerance:0},getEvents:function(){var s=Fe.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Fe.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");ct(s,"mousemove",this._onMouseMove,this),ct(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ct(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){Qt(this._redrawRequest),delete this._ctx,Gt(this._container),jt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var s;this._redrawBounds=null;for(var l in this._layers)s=this._layers[l],s._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Fe.prototype._update.call(this);var s=this._bounds,l=this._container,h=s.getSize(),m=at.retina?2:1;Xt(l,s.min),l.width=m*h.x,l.height=m*h.y,l.style.width=h.x+"px",l.style.height=h.y+"px",at.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){Fe.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[b(s)]=s;var l=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=l),this._drawLast=l,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var l=s._order,h=l.next,m=l.prev;h?h.prev=m:this._drawLast=m,m?m.next=h:this._drawFirst=h,delete s._order,delete this._layers[b(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if(typeof s.options.dashArray=="string"){var l=s.options.dashArray.split(/[, ]+/),h=[],m,g;for(g=0;g<l.length;g++){if(m=Number(l[g]),isNaN(m))return;h.push(m)}s.options._dashArray=h}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||ee(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var l=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new A,this._redrawBounds.extend(s._pxBounds.min.subtract([l,l])),this._redrawBounds.extend(s._pxBounds.max.add([l,l]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var l=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,l.x,l.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,l=this._redrawBounds;if(this._ctx.save(),l){var h=l.getSize();this._ctx.beginPath(),this._ctx.rect(l.min.x,l.min.y,h.x,h.y),this._ctx.clip()}this._drawing=!0;for(var m=this._drawFirst;m;m=m.next)s=m.layer,(!l||s._pxBounds&&s._pxBounds.intersects(l))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,l){if(this._drawing){var h,m,g,S,C=s._parts,I=C.length,z=this._ctx;if(I){for(z.beginPath(),h=0;h<I;h++){for(m=0,g=C[h].length;m<g;m++)S=C[h][m],z[m?"lineTo":"moveTo"](S.x,S.y);l&&z.closePath()}this._fillStroke(z,s)}}},_updateCircle:function(s){if(!(!this._drawing||s._empty())){var l=s._point,h=this._ctx,m=Math.max(Math.round(s._radius),1),g=(Math.max(Math.round(s._radiusY),1)||m)/m;g!==1&&(h.save(),h.scale(1,g)),h.beginPath(),h.arc(l.x,l.y/g,m,0,Math.PI*2,!1),g!==1&&h.restore(),this._fillStroke(h,s)}},_fillStroke:function(s,l){var h=l.options;h.fill&&(s.globalAlpha=h.fillOpacity,s.fillStyle=h.fillColor||h.color,s.fill(h.fillRule||"evenodd")),h.stroke&&h.weight!==0&&(s.setLineDash&&s.setLineDash(l.options&&l.options._dashArray||[]),s.globalAlpha=h.opacity,s.lineWidth=h.weight,s.strokeStyle=h.color,s.lineCap=h.lineCap,s.lineJoin=h.lineJoin,s.stroke())},_onClick:function(s){for(var l=this._map.mouseEventToLayerPoint(s),h,m,g=this._drawFirst;g;g=g.next)h=g.layer,h.options.interactive&&h._containsPoint(l)&&(!(s.type==="click"||s.type==="preclick")||!this._map._draggableMoved(h))&&(m=h);this._fireEvent(m?[m]:!1,s)},_onMouseMove:function(s){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var l=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,l)}},_handleMouseOut:function(s){var l=this._hoveredLayer;l&&(oe(this._container,"leaflet-interactive"),this._fireEvent([l],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,l){if(!this._mouseHoverThrottled){for(var h,m,g=this._drawFirst;g;g=g.next)h=g.layer,h.options.interactive&&h._containsPoint(l)&&(m=h);m!==this._hoveredLayer&&(this._handleMouseOut(s),m&&(dt(this._container,"leaflet-interactive"),this._fireEvent([m],s,"mouseover"),this._hoveredLayer=m)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,s),this._mouseHoverThrottled=!0,setTimeout(p(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,l,h){this._map._fireDOMEvent(l,h||l.type,s)},_bringToFront:function(s){var l=s._order;if(l){var h=l.next,m=l.prev;if(h)h.prev=m;else return;m?m.next=h:h&&(this._drawFirst=h),l.prev=this._drawLast,this._drawLast.next=l,l.next=null,this._drawLast=l,this._requestRedraw(s)}},_bringToBack:function(s){var l=s._order;if(l){var h=l.next,m=l.prev;if(m)m.next=h;else return;h?h.prev=m:m&&(this._drawLast=m),l.prev=null,l.next=this._drawFirst,this._drawFirst.prev=l,this._drawFirst=l,this._requestRedraw(s)}}});function Hr(s){return at.canvas?new Ua(s):null}var mi=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),sl={_initContainer:function(){this._container=Ct("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Fe.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var l=s._container=mi("shape");dt(l,"leaflet-vml-shape "+(this.options.className||"")),l.coordsize="1 1",s._path=mi("path"),l.appendChild(s._path),this._updateStyle(s),this._layers[b(s)]=s},_addPath:function(s){var l=s._container;this._container.appendChild(l),s.options.interactive&&s.addInteractiveTarget(l)},_removePath:function(s){var l=s._container;Gt(l),s.removeInteractiveTarget(l),delete this._layers[b(s)]},_updateStyle:function(s){var l=s._stroke,h=s._fill,m=s.options,g=s._container;g.stroked=!!m.stroke,g.filled=!!m.fill,m.stroke?(l||(l=s._stroke=mi("stroke")),g.appendChild(l),l.weight=m.weight+"px",l.color=m.color,l.opacity=m.opacity,m.dashArray?l.dashStyle=pt(m.dashArray)?m.dashArray.join(" "):m.dashArray.replace(/( *, *)/g," "):l.dashStyle="",l.endcap=m.lineCap.replace("butt","flat"),l.joinstyle=m.lineJoin):l&&(g.removeChild(l),s._stroke=null),m.fill?(h||(h=s._fill=mi("fill")),g.appendChild(h),h.color=m.fillColor||m.color,h.opacity=m.fillOpacity):h&&(g.removeChild(h),s._fill=null)},_updateCircle:function(s){var l=s._point.round(),h=Math.round(s._radius),m=Math.round(s._radiusY||h);this._setPath(s,s._empty()?"M0 0":"AL "+l.x+","+l.y+" "+h+","+m+" 0,"+65535*360)},_setPath:function(s,l){s._path.v=l},_bringToFront:function(s){Ae(s._container)},_bringToBack:function(s){Di(s._container)}},Pn=at.vml?mi:va,Os=Fe.extend({_initContainer:function(){this._container=Pn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Pn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Gt(this._container),jt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Fe.prototype._update.call(this);var s=this._bounds,l=s.getSize(),h=this._container;(!this._svgSize||!this._svgSize.equals(l))&&(this._svgSize=l,h.setAttribute("width",l.x),h.setAttribute("height",l.y)),Xt(h,s.min),h.setAttribute("viewBox",[s.min.x,s.min.y,l.x,l.y].join(" ")),this.fire("update")}},_initPath:function(s){var l=s._path=Pn("path");s.options.className&&dt(l,s.options.className),s.options.interactive&&dt(l,"leaflet-interactive"),this._updateStyle(s),this._layers[b(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){Gt(s._path),s.removeInteractiveTarget(s._path),delete this._layers[b(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var l=s._path,h=s.options;l&&(h.stroke?(l.setAttribute("stroke",h.color),l.setAttribute("stroke-opacity",h.opacity),l.setAttribute("stroke-width",h.weight),l.setAttribute("stroke-linecap",h.lineCap),l.setAttribute("stroke-linejoin",h.lineJoin),h.dashArray?l.setAttribute("stroke-dasharray",h.dashArray):l.removeAttribute("stroke-dasharray"),h.dashOffset?l.setAttribute("stroke-dashoffset",h.dashOffset):l.removeAttribute("stroke-dashoffset")):l.setAttribute("stroke","none"),h.fill?(l.setAttribute("fill",h.fillColor||h.color),l.setAttribute("fill-opacity",h.fillOpacity),l.setAttribute("fill-rule",h.fillRule||"evenodd")):l.setAttribute("fill","none"))},_updatePoly:function(s,l){this._setPath(s,ya(s._parts,l))},_updateCircle:function(s){var l=s._point,h=Math.max(Math.round(s._radius),1),m=Math.max(Math.round(s._radiusY),1)||h,g="a"+h+","+m+" 0 1,0 ",S=s._empty()?"M0 0":"M"+(l.x-h)+","+l.y+g+h*2+",0 "+g+-h*2+",0 ";this._setPath(s,S)},_setPath:function(s,l){s._path.setAttribute("d",l)},_bringToFront:function(s){Ae(s._path)},_bringToBack:function(s){Di(s._path)}});at.vml&&Os.include(sl);function jr(s){return at.svg||at.vml?new Os(s):null}Rt.include({getRenderer:function(s){var l=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return l||(l=this._renderer=this._createRenderer()),this.hasLayer(l)||this.addLayer(l),l},_getPaneRenderer:function(s){if(s==="overlayPane"||s===void 0)return!1;var l=this._paneRenderers[s];return l===void 0&&(l=this._createRenderer({pane:s}),this._paneRenderers[s]=l),l},_createRenderer:function(s){return this.options.preferCanvas&&Hr(s)||jr(s)}});var Ui=ws.extend({initialize:function(s,l){ws.prototype.initialize.call(this,this._boundsToLatLngs(s),l)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return s=X(s),[s.getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});function mf(s,l){return new Ui(s,l)}Os.create=Pn,Os.pointsToPath=ya,Kn.geometryToLayer=Le,Kn.coordsToLatLng=Ia,Kn.coordsToLatLngs=Dr,Kn.latLngToCoords=Da,Kn.latLngsToCoords=kr,Kn.getFeature=hi,Kn.asFeature=ka,Rt.mergeOptions({boxZoom:!0});var Ye=Ln.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){ct(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){jt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Gt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||s.which!==1&&s.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),ms(),wa(),this._startPoint=this._map.mouseEventToContainerPoint(s),ct(document,{contextmenu:ui,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=Ct("div","leaflet-zoom-box",this._container),dt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var l=new A(this._point,this._startPoint),h=l.getSize();Xt(this._box,l.min),this._box.style.width=h.x+"px",this._box.style.height=h.y+"px"},_finish:function(){this._moved&&(Gt(this._box),oe(this._container,"leaflet-crosshair")),Rn(),Tr(),jt(document,{contextmenu:ui,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if(!(s.which!==1&&s.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(p(this._resetState,this),0);var l=new W(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(l).fire("boxzoomend",{boxZoomBounds:l})}},_onKeyDown:function(s){s.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Rt.addInitHook("addHandler","boxZoom",Ye),Rt.mergeOptions({doubleClickZoom:!0});var Ba=Ln.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var l=this._map,h=l.getZoom(),m=l.options.zoomDelta,g=s.originalEvent.shiftKey?h-m:h+m;l.options.doubleClickZoom==="center"?l.setZoom(g):l.setZoomAround(s.containerPoint,g)}});Rt.addInitHook("addHandler","doubleClickZoom",Ba),Rt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var zn=Ln.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new ci(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}dt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){oe(this._map._container,"leaflet-grab"),oe(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var l=X(this._map.options.maxBounds);this._offsetLimit=j(this._map.latLngToContainerPoint(l.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(l.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var l=this._lastTime=+new Date,h=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(h),this._times.push(l),this._prunePositions(l)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),l=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=l.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,l){return s-(s-l)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var s=this._draggable._newPos.subtract(this._draggable._startPos),l=this._offsetLimit;s.x<l.min.x&&(s.x=this._viscousLimit(s.x,l.min.x)),s.y<l.min.y&&(s.y=this._viscousLimit(s.y,l.min.y)),s.x>l.max.x&&(s.x=this._viscousLimit(s.x,l.max.x)),s.y>l.max.y&&(s.y=this._viscousLimit(s.y,l.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,l=Math.round(s/2),h=this._initialWorldOffset,m=this._draggable._newPos.x,g=(m-l+h)%s+l-h,S=(m+l+h)%s-l-h,C=Math.abs(g+h)<Math.abs(S+h)?g:S;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=C},_onDragEnd:function(s){var l=this._map,h=l.options,m=!h.inertia||s.noInertia||this._times.length<2;if(l.fire("dragend",s),m)l.fire("moveend");else{this._prunePositions(+new Date);var g=this._lastPos.subtract(this._positions[0]),S=(this._lastTime-this._times[0])/1e3,C=h.easeLinearity,I=g.multiplyBy(C/S),z=I.distanceTo([0,0]),V=Math.min(h.inertiaMaxSpeed,z),J=I.multiplyBy(V/z),ot=V/(h.inertiaDeceleration*C),vt=J.multiplyBy(-ot/2).round();!vt.x&&!vt.y?l.fire("moveend"):(vt=l._limitOffset(vt,l.options.maxBounds),ee(function(){l.panBy(vt,{duration:ot,easeLinearity:C,noMoveStart:!0,animate:!0})}))}}});Rt.addInitHook("addHandler","dragging",zn),Rt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var rl=Ln.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),ct(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),jt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,l=document.documentElement,h=s.scrollTop||l.scrollTop,m=s.scrollLeft||l.scrollLeft;this._map._container.focus(),window.scrollTo(m,h)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var l=this._panKeys={},h=this.keyCodes,m,g;for(m=0,g=h.left.length;m<g;m++)l[h.left[m]]=[-1*s,0];for(m=0,g=h.right.length;m<g;m++)l[h.right[m]]=[s,0];for(m=0,g=h.down.length;m<g;m++)l[h.down[m]]=[0,s];for(m=0,g=h.up.length;m<g;m++)l[h.up[m]]=[0,-1*s]},_setZoomDelta:function(s){var l=this._zoomKeys={},h=this.keyCodes,m,g;for(m=0,g=h.zoomIn.length;m<g;m++)l[h.zoomIn[m]]=s;for(m=0,g=h.zoomOut.length;m<g;m++)l[h.zoomOut[m]]=-s},_addHooks:function(){ct(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){jt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var l=s.keyCode,h=this._map,m;if(l in this._panKeys){if(!h._panAnim||!h._panAnim._inProgress)if(m=this._panKeys[l],s.shiftKey&&(m=et(m).multiplyBy(3)),h.options.maxBounds&&(m=h._limitOffset(et(m),h.options.maxBounds)),h.options.worldCopyJump){var g=h.wrapLatLng(h.unproject(h.project(h.getCenter()).add(m)));h.panTo(g)}else h.panBy(m)}else if(l in this._zoomKeys)h.setZoom(h.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[l]);else if(l===27&&h._popup&&h._popup.options.closeOnEscapeKey)h.closePopup();else return;ui(s)}}});Rt.addInitHook("addHandler","keyboard",rl),Rt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Zr=Ln.extend({addHooks:function(){ct(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){jt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var l=He(s),h=this._map.options.wheelDebounceTime;this._delta+=l,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var m=Math.max(h-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(p(this._performZoom,this),m),ui(s)},_performZoom:function(){var s=this._map,l=s.getZoom(),h=this._map.options.zoomSnap||0;s._stop();var m=this._delta/(this._map.options.wheelPxPerZoomLevel*4),g=4*Math.log(2/(1+Math.exp(-Math.abs(m))))/Math.LN2,S=h?Math.ceil(g/h)*h:g,C=s._limitZoom(l+(this._delta>0?S:-S))-l;this._delta=0,this._startTime=null,C&&(s.options.scrollWheelZoom==="center"?s.setZoom(l+C):s.setZoomAround(this._lastMousePos,l+C))}});Rt.addInitHook("addHandler","scrollWheelZoom",Zr);var Bi=600;Rt.mergeOptions({tapHold:at.touchNative&&at.safari&&at.mobile,tapTolerance:15});var Ha=Ln.extend({addHooks:function(){ct(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){jt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),s.touches.length===1){var l=s.touches[0];this._startPos=this._newPos=new Y(l.clientX,l.clientY),this._holdTimeout=setTimeout(p(function(){this._cancel(),this._isTapValid()&&(ct(document,"touchend",he),ct(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",l))},this),Bi),ct(document,"touchend touchcancel contextmenu",this._cancel,this),ct(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){jt(document,"touchend",he),jt(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),jt(document,"touchend touchcancel contextmenu",this._cancel,this),jt(document,"touchmove",this._onMove,this)},_onMove:function(s){var l=s.touches[0];this._newPos=new Y(l.clientX,l.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,l){var h=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:l.screenX,screenY:l.screenY,clientX:l.clientX,clientY:l.clientY});h._simulated=!0,l.target.dispatchEvent(h)}});Rt.addInitHook("addHandler","tapHold",Ha),Rt.mergeOptions({touchZoom:at.touch,bounceAtZoomLimits:!0});var al=Ln.extend({addHooks:function(){dt(this._map._container,"leaflet-touch-zoom"),ct(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){oe(this._map._container,"leaflet-touch-zoom"),jt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var l=this._map;if(!(!s.touches||s.touches.length!==2||l._animatingZoom||this._zooming)){var h=l.mouseEventToContainerPoint(s.touches[0]),m=l.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=l.getSize()._divideBy(2),this._startLatLng=l.containerPointToLatLng(this._centerPoint),l.options.touchZoom!=="center"&&(this._pinchStartLatLng=l.containerPointToLatLng(h.add(m)._divideBy(2))),this._startDist=h.distanceTo(m),this._startZoom=l.getZoom(),this._moved=!1,this._zooming=!0,l._stop(),ct(document,"touchmove",this._onTouchMove,this),ct(document,"touchend touchcancel",this._onTouchEnd,this),he(s)}},_onTouchMove:function(s){if(!(!s.touches||s.touches.length!==2||!this._zooming)){var l=this._map,h=l.mouseEventToContainerPoint(s.touches[0]),m=l.mouseEventToContainerPoint(s.touches[1]),g=h.distanceTo(m)/this._startDist;if(this._zoom=l.getScaleZoom(g,this._startZoom),!l.options.bounceAtZoomLimits&&(this._zoom<l.getMinZoom()&&g<1||this._zoom>l.getMaxZoom()&&g>1)&&(this._zoom=l._limitZoom(this._zoom)),l.options.touchZoom==="center"){if(this._center=this._startLatLng,g===1)return}else{var S=h._add(m)._divideBy(2)._subtract(this._centerPoint);if(g===1&&S.x===0&&S.y===0)return;this._center=l.unproject(l.project(this._pinchStartLatLng,this._zoom).subtract(S),this._zoom)}this._moved||(l._moveStart(!0,!1),this._moved=!0),Qt(this._animRequest);var C=p(l._move,l,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=ee(C,this,!0),he(s)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Qt(this._animRequest),jt(document,"touchmove",this._onTouchMove,this),jt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Rt.addInitHook("addHandler","touchZoom",al),Rt.BoxZoom=Ye,Rt.DoubleClickZoom=Ba,Rt.Drag=zn,Rt.Keyboard=rl,Rt.ScrollWheelZoom=Zr,Rt.TapHold=Ha,Rt.TouchZoom=al,i.Bounds=A,i.Browser=at,i.CRS=bt,i.Canvas=Ua,i.Circle=La,i.CircleMarker=Ts,i.Class=xe,i.Control=$e,i.DivIcon=ec,i.DivOverlay=Ie,i.DomEvent=Aa,i.DomUtil=vs,i.Draggable=ci,i.Evented=$,i.FeatureGroup=In,i.GeoJSON=Kn,i.GridLayer=Ns,i.Handler=Ln,i.Icon=Dn,i.ImageOverlay=xs,i.LatLng=it,i.LatLngBounds=W,i.Layer=wn,i.LayerGroup=Ss,i.LineUtil=uf,i.Map=Rt,i.Marker=Ir,i.Mixin=rf,i.Path=kn,i.Point=Y,i.PolyUtil=el,i.Polygon=ws,i.Polyline=Wn,i.Popup=zr,i.PosAnimation=ys,i.Projection=Fu,i.Rectangle=Ui,i.Renderer=Fe,i.SVG=Os,i.SVGOverlay=za,i.TileLayer=_i,i.Tooltip=Ur,i.Transformation=cs,i.Util=Ci,i.VideoOverlay=di,i.bind=p,i.bounds=j,i.canvas=Hr,i.circle=Xu,i.circleMarker=Qu,i.control=Yn,i.divIcon=_f,i.extend=c,i.featureGroup=Wu,i.geoJSON=Pa,i.geoJson=Pr,i.gridLayer=nc,i.icon=Rr,i.imageOverlay=Ju,i.latLng=nt,i.latLngBounds=X,i.layerGroup=cf,i.map=Ko,i.marker=Ku,i.point=et,i.polygon=ff,i.polyline=hf,i.popup=tc,i.rectangle=mf,i.setOptions=tt,i.stamp=b,i.svg=jr,i.svgOverlay=$u,i.tileLayer=un,i.tooltip=df,i.transformation=Ai,i.version=o,i.videoOverlay=As;var ol=window.L;i.noConflict=function(){return window.L=ol,this},window.L=i}))})(Wl,Wl.exports)),Wl.exports}var wu=MO();const pE=n0(wu);function Pm(r,e,i){return Object.freeze({instance:r,context:e,container:i})}function zm(r,e){return e==null?function(o,c){const d=mt.useRef(void 0);return d.current||(d.current=r(o,c)),d}:function(o,c){const d=mt.useRef(void 0);d.current||(d.current=r(o,c));const p=mt.useRef(o),{instance:y}=d.current;return mt.useEffect(function(){p.current!==o&&(e(y,o,p.current),p.current=o)},[y,o,e]),d}}function LO(r,e){mt.useEffect(function(){return(e.layerContainer??e.map).addLayer(r.instance),function(){e.layerContainer?.removeLayer(r.instance),e.map.removeLayer(r.instance)}},[e,r])}function gE(r){return function(i){const o=_E(),c=r(km(i,o),o);return dE(o.map,i.attribution),mE(c.current,i.eventHandlers),LO(c.current,o),c}}function IO(r,e){const i=zm(r,e),o=gE(i);return xO(o)}function DO(r,e){const i=zm(r),o=OO(i,e);return AO(o)}function kO(r,e){const i=zm(r,e),o=gE(i);return NO(o)}function PO(r,e,i){const{opacity:o,zIndex:c}=e;o!=null&&o!==i.opacity&&r.setOpacity(o),c!=null&&c!==i.zIndex&&r.setZIndex(c)}function zO({bounds:r,boundsOptions:e,center:i,children:o,className:c,id:d,placeholder:p,style:y,whenReady:b,zoom:E,...N},w){const[O]=mt.useState({className:c,id:d,style:y}),[F,K]=mt.useState(null),tt=mt.useRef(void 0);mt.useImperativeHandle(w,()=>F?.map??null,[F]);const Ot=mt.useCallback(te=>{if(te!==null&&!tt.current){const pt=new wu.Map(te,N);tt.current=pt,i!=null&&E!=null?pt.setView(i,E):r!=null&&pt.fitBounds(r,e),b!=null&&pt.whenReady(b),K(wO(pt))}},[]);mt.useEffect(()=>()=>{F?.map.remove()},[F]);const zt=F?f_.createElement(Dm,{value:F},o):p??null;return f_.createElement("div",{...O,ref:Ot},zt)}const vE=mt.forwardRef(zO),yE=IO(function({position:e,...i},o){const c=new wu.Marker(e,i);return Pm(c,CO(o,{overlayContainer:c}))},function(e,i,o){i.position!==o.position&&e.setLatLng(i.position),i.icon!=null&&i.icon!==o.icon&&e.setIcon(i.icon),i.zIndexOffset!=null&&i.zIndexOffset!==o.zIndexOffset&&e.setZIndexOffset(i.zIndexOffset),i.opacity!=null&&i.opacity!==o.opacity&&e.setOpacity(i.opacity),e.dragging!=null&&i.draggable!==o.draggable&&(i.draggable===!0?e.dragging.enable():e.dragging.disable())}),bE=DO(function(e,i){const o=new wu.Popup(e,i.overlayContainer);return Pm(o,i)},function(e,i,{position:o},c){mt.useEffect(function(){const{instance:p}=e;function y(E){E.popup===p&&(p.update(),c(!0))}function b(E){E.popup===p&&c(!1)}return i.map.on({popupopen:y,popupclose:b}),i.overlayContainer==null?(o!=null&&p.setLatLng(o),p.openOn(i.map)):i.overlayContainer.bindPopup(p),function(){i.map.off({popupopen:y,popupclose:b}),i.overlayContainer?.unbindPopup(),i.map.removeLayer(p)}},[e,i,c,o])}),EE=kO(function({url:e,...i},o){const c=new wu.TileLayer(e,km(i,o));return Pm(c,o)},function(e,i,o){PO(e,i,o);const{url:c}=i;c!=null&&c!==o.url&&e.setUrl(c)}),UO=({userLocation:r})=>{const[e,i]=mt.useState(""),[o,c]=mt.useState(""),d=async()=>{if(!(!e||!r))try{const p=Mm(Im,"locationShares"),y=tO(p);await hE(y,{ownerEmail:rs.currentUser.email,viewerEmail:e,location:r,timestamp:Date.now(),active:!0}),c("Location shared successfully!"),i(""),setTimeout(()=>c(""),3e3)}catch{c("Error sharing location")}};return D.jsxs("div",{className:"bg-gray-800/40 backdrop-blur-xl rounded-2xl border border-gray-700/50 overflow-hidden",children:[D.jsx("div",{className:"bg-gradient-to-r from-green-500/20 to-emerald-500/20 border-b border-gray-700/50 p-4",children:D.jsxs("div",{className:"flex items-center gap-3",children:[D.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-green-500 to-emerald-400 rounded-xl flex items-center justify-center",children:D.jsx("span",{className:"text-white text-sm",children:"🔗"})}),D.jsxs("div",{children:[D.jsx("h3",{className:"text-white font-semibold",children:"Share Access"}),D.jsx("p",{className:"text-gray-400 text-xs",children:"Grant location access to contacts"})]})]})}),D.jsxs("div",{className:"p-4",children:[D.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[D.jsxs("div",{className:"flex-1 relative group",children:[D.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-green-500/20 to-emerald-400/20 rounded-xl blur opacity-0 group-hover:opacity-100 transition-opacity"}),D.jsx("input",{type:"email",placeholder:"Enter contact email",value:e,onChange:p=>i(p.target.value),className:"relative w-full p-3 bg-gray-700/50 border border-gray-600 rounded-xl focus:border-emerald-400 focus:outline-none transition-all text-white placeholder-gray-400 text-sm"})]}),D.jsx("button",{onClick:d,disabled:!e||!r,className:"bg-gradient-to-r from-green-500 to-emerald-400 text-white px-6 py-3 rounded-xl hover:from-green-600 hover:to-emerald-500 disabled:from-gray-600 disabled:to-gray-700 transition-all duration-300 font-medium transform hover:scale-105 disabled:transform-none disabled:opacity-50 text-sm",children:"Grant Access"})]}),o&&D.jsx("div",{className:"mt-3 bg-green-500/10 border border-green-500/30 rounded-xl p-3",children:D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx("div",{className:"w-5 h-5 bg-green-500 rounded-full flex items-center justify-center",children:D.jsx("span",{className:"text-white text-xs",children:"✓"})}),D.jsx("p",{className:"text-green-400 font-medium text-sm",children:o})]})})]})]})};delete pE.Icon.Default.prototype._getIconUrl;pE.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const BO=()=>{const[r,e]=mt.useState(null),[i,o]=mt.useState(null),c=async p=>{const{latitude:y,longitude:b}=p.coords,E=[y,b];e(E),o(null);try{const N=Mm(Im,`userLocations/${rs.currentUser.uid}`);await hE(N,{email:rs.currentUser.email,location:E,timestamp:Date.now(),online:!0}),$N(N).update({online:!1})}catch(N){console.error("Error updating location:",N)}},d=p=>{o(p.message),e(null)};return mt.useEffect(()=>{let p=null;return navigator.geolocation?(navigator.geolocation.getCurrentPosition(c,d),p=navigator.geolocation.watchPosition(c,d,{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4})):o("Geolocation is not supported by this browser."),()=>{p!==null&&navigator.geolocation.clearWatch(p)}},[]),i?D.jsx("div",{className:"space-y-4",children:D.jsx("div",{className:"bg-gray-800/40 backdrop-blur-xl rounded-2xl border border-gray-700/50 p-6",children:D.jsxs("div",{className:"text-center",children:[D.jsx("div",{className:"w-16 h-16 bg-red-500/20 rounded-xl flex items-center justify-center mx-auto mb-4 border border-red-500/30",children:D.jsx("span",{className:"text-2xl",children:"⚠️"})}),D.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Location Access Required"}),D.jsx("p",{className:"text-red-400 text-sm mb-1",children:i}),D.jsx("p",{className:"text-gray-400 text-xs",children:"Enable GPS access to start tracking"})]})})}):r?D.jsxs("div",{className:"space-y-4",children:[D.jsxs("div",{className:"bg-gray-800/40 backdrop-blur-xl rounded-2xl border border-gray-700/50 overflow-hidden",children:[D.jsx("div",{className:"bg-gradient-to-r from-red-500/20 to-cyan-400/20 border-b border-gray-700/50 p-4",children:D.jsxs("div",{className:"flex items-center justify-between",children:[D.jsxs("div",{className:"flex items-center gap-3",children:[D.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-red-500 to-cyan-400 rounded-xl flex items-center justify-center",children:D.jsx("span",{className:"text-white text-sm",children:"🗺️"})}),D.jsxs("div",{children:[D.jsx("h2",{className:"text-white font-semibold",children:"Your Position"}),D.jsx("p",{className:"text-gray-400 text-xs",children:"GPS tracking active"})]})]}),D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),D.jsx("span",{className:"text-green-400 text-xs font-medium",children:"LIVE"})]})]})}),D.jsx("div",{className:"h-48 lg:h-80",children:D.jsxs(vE,{center:r,zoom:15,style:{height:"100%",width:"100%"},children:[D.jsx(EE,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:"© OpenStreetMap contributors"}),D.jsx(yE,{position:r,children:D.jsx(bE,{children:D.jsxs("div",{className:"text-center",children:[D.jsx("strong",{children:"🛰 Your Position"}),D.jsx("br",{}),D.jsxs("small",{children:["Last update: ",new Date().toLocaleTimeString()]})]})})})]},`map-${r[0]}-${r[1]}`)})]}),D.jsx(UO,{userLocation:r})]}):D.jsx("div",{className:"space-y-4",children:D.jsx("div",{className:"bg-gray-800/40 backdrop-blur-xl rounded-2xl border border-gray-700/50 p-6",children:D.jsxs("div",{className:"text-center",children:[D.jsx("div",{className:"w-16 h-16 bg-cyan-500/20 rounded-xl flex items-center justify-center mx-auto mb-4 border border-cyan-500/30 pulse-glow",children:D.jsx("span",{className:"text-2xl",children:"🛰"})}),D.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Acquiring Signal"}),D.jsx("p",{className:"text-cyan-400 text-sm mb-3",children:"Connecting to GPS satellites..."}),D.jsx("div",{className:"flex justify-center",children:D.jsxs("div",{className:"flex space-x-2",children:[D.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-bounce"}),D.jsx("div",{className:"w-2 h-2 bg-pink-500 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),D.jsx("div",{className:"w-2 h-2 bg-cyan-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]})})})},HO=()=>{const[r,e]=mt.useState([]);return mt.useEffect(()=>{const i=Mm(Im,"locationShares"),o=uO(i,aO("viewerEmail"),lO(rs.currentUser.email)),c=nO(o,d=>{const p=d.val();if(p){const y=Object.entries(p).filter(([b,E])=>E.active).map(([b,E])=>({id:b,...E}));e(y)}});return()=>c()},[]),r.length===0?D.jsxs("div",{className:"bg-gray-800/40 backdrop-blur-xl rounded-2xl border border-gray-700/50 overflow-hidden",children:[D.jsx("div",{className:"bg-gradient-to-r from-purple-500/20 to-pink-500/20 border-b border-gray-700/50 p-4",children:D.jsxs("div",{className:"flex items-center gap-3",children:[D.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-purple-500 to-pink-400 rounded-xl flex items-center justify-center",children:D.jsx("span",{className:"text-white text-sm",children:"👥"})}),D.jsxs("div",{children:[D.jsx("h3",{className:"text-white font-semibold",children:"Network Contacts"}),D.jsx("p",{className:"text-gray-400 text-xs",children:"Shared locations from your network"})]})]})}),D.jsxs("div",{className:"p-6 text-center",children:[D.jsx("div",{className:"w-16 h-16 bg-gray-700/50 rounded-xl flex items-center justify-center mx-auto mb-4 border border-gray-600",children:D.jsx("span",{className:"text-2xl",children:"🔍"})}),D.jsx("h4",{className:"text-white font-semibold mb-2",children:"No Active Contacts"}),D.jsx("p",{className:"text-gray-400 text-sm",children:"Request location access from contacts to see them here"})]})]}):D.jsxs("div",{className:"bg-gray-800/40 backdrop-blur-xl rounded-2xl border border-gray-700/50 overflow-hidden",children:[D.jsx("div",{className:"bg-gradient-to-r from-purple-500/20 to-pink-500/20 border-b border-gray-700/50 p-4",children:D.jsxs("div",{className:"flex items-center justify-between",children:[D.jsxs("div",{className:"flex items-center gap-3",children:[D.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-purple-500 to-pink-400 rounded-xl flex items-center justify-center",children:D.jsx("span",{className:"text-white text-sm",children:"👥"})}),D.jsxs("div",{children:[D.jsx("h3",{className:"text-white font-semibold",children:"Network Contacts"}),D.jsxs("p",{className:"text-gray-400 text-xs",children:[r.length," active contact(s)"]})]})]}),D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),D.jsx("span",{className:"text-green-400 text-xs font-medium",children:"LIVE"})]})]})}),D.jsx("div",{className:"h-64 lg:h-80",children:D.jsxs(vE,{center:r[0].location,zoom:13,style:{height:"100%",width:"100%"},children:[D.jsx(EE,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:"© OpenStreetMap contributors"}),r.map(i=>D.jsx(yE,{position:i.location,children:D.jsx(bE,{children:D.jsxs("div",{className:"text-center",children:[D.jsxs("strong",{children:["🛰 ",i.ownerEmail]}),D.jsx("br",{}),D.jsxs("small",{children:["Last seen: ",new Date(i.timestamp).toLocaleString()]})]})})},i.id))]})}),D.jsx("div",{className:"p-4 space-y-2",children:r.map(i=>D.jsx("div",{className:"bg-gray-700/30 border border-gray-600/50 rounded-xl p-3 hover:bg-gray-700/50 transition-all",children:D.jsxs("div",{className:"flex justify-between items-center",children:[D.jsxs("div",{className:"flex items-center gap-3",children:[D.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-purple-500 to-pink-400 rounded-lg flex items-center justify-center",children:D.jsx("span",{className:"text-white text-xs",children:"🛰"})}),D.jsxs("div",{children:[D.jsx("span",{className:"font-medium text-white text-sm",children:i.ownerEmail}),D.jsx("div",{className:"text-xs text-gray-400",children:new Date(i.timestamp).toLocaleTimeString()})]})]}),D.jsxs("div",{className:"flex items-center gap-1",children:[D.jsx("div",{className:"w-1.5 h-1.5 bg-green-400 rounded-full animate-pulse"}),D.jsx("span",{className:"text-green-400 text-xs font-medium bg-green-400/10 px-2 py-1 rounded",children:"ACTIVE"})]})]})},i.id))})]})};function jO(){const[r,e]=mt.useState(null),[i,o]=mt.useState(!0);mt.useEffect(()=>{const d=MC(rs,p=>{e(p),o(!1)});return()=>d()},[]);const c=async()=>{try{await LC(rs)}catch(d){console.error("Logout error:",d)}};return i?D.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-black to-gray-800 flex items-center justify-center",children:D.jsxs("div",{className:"text-center",children:[D.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-red-500 to-cyan-400 rounded-2xl flex items-center justify-center mx-auto mb-6 pulse-glow",children:D.jsx("span",{className:"text-3xl",children:"🛰"})}),D.jsx("div",{className:"text-2xl font-bold text-white mb-2",children:"Initializing TrackMe"}),D.jsx("div",{className:"text-cyan-400 text-sm",children:"Connecting to network..."}),D.jsx("div",{className:"flex justify-center mt-4",children:D.jsxs("div",{className:"flex space-x-2",children:[D.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full animate-bounce"}),D.jsx("div",{className:"w-3 h-3 bg-pink-500 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),D.jsx("div",{className:"w-3 h-3 bg-cyan-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]})}):r?D.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-black to-gray-800 relative",children:[D.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[D.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-r from-red-500/10 to-pink-500/10 rounded-full blur-3xl float-animation"}),D.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-gradient-to-r from-cyan-500/10 to-blue-500/10 rounded-full blur-3xl float-animation",style:{animationDelay:"2s"}})]}),D.jsx("header",{className:"bg-gray-800/30 backdrop-blur-xl border-b border-gray-700/50 sticky top-0 z-50",children:D.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:D.jsxs("div",{className:"flex justify-between items-center",children:[D.jsxs("div",{className:"flex items-center gap-4",children:[D.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-red-500 to-cyan-400 rounded-2xl flex items-center justify-center pulse-glow",children:D.jsx("span",{className:"text-2xl",children:"🛰"})}),D.jsxs("div",{children:[D.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-red-400 via-pink-400 to-cyan-400 bg-clip-text text-transparent",children:"TrackMe"}),D.jsx("p",{className:"text-xs text-gray-400",children:"Live Location Network"})]})]}),D.jsxs("div",{className:"flex items-center gap-6",children:[D.jsxs("div",{className:"hidden sm:flex items-center gap-3 bg-gray-700/50 rounded-2xl px-4 py-2 border border-gray-600",children:[D.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full animate-pulse"}),D.jsx("span",{className:"text-sm text-gray-300",children:r.email}),D.jsx("div",{className:"text-xs text-cyan-400 bg-cyan-400/10 px-2 py-1 rounded-lg",children:"ONLINE"})]}),D.jsx("button",{onClick:c,className:"bg-gradient-to-r from-red-500/20 to-red-600/20 border border-red-500/50 text-red-400 px-6 py-2 rounded-2xl hover:bg-red-500/30 transition-all duration-300 font-medium",children:"Disconnect"})]})]})})}),D.jsx("main",{className:"max-w-7xl mx-auto px-4 py-6 space-y-6 relative z-10",children:D.jsxs("div",{className:"flex flex-col lg:grid lg:grid-cols-2 gap-6",children:[D.jsx("div",{className:"order-2 lg:order-1",children:D.jsx(BO,{})}),D.jsx("div",{className:"order-1 lg:order-2",children:D.jsx(HO,{})})]})})]}):D.jsx(EO,{onAuthSuccess:()=>e(rs.currentUser)})}FS.createRoot(document.getElementById("root")).render(D.jsx(mt.StrictMode,{children:D.jsx(jO,{})}));

(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))o(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const p of d.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&o(p)}).observe(document,{childList:!0,subtree:!0});function i(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function o(c){if(c.ep)return;c.ep=!0;const d=i(c);fetch(c.href,d)}})();function n0(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Yd={exports:{}},Bl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iv;function zS(){if(Iv)return Bl;Iv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(o,c,d){var p=null;if(d!==void 0&&(p=""+d),c.key!==void 0&&(p=""+c.key),"key"in c){d={};for(var y in c)y!=="key"&&(d[y]=c[y])}else d=c;return c=d.ref,{$$typeof:r,type:o,key:p,ref:c!==void 0?c:null,props:d}}return Bl.Fragment=e,Bl.jsx=i,Bl.jsxs=i,Bl}var Dv;function US(){return Dv||(Dv=1,Yd.exports=zS()),Yd.exports}var M=US(),Wd={exports:{}},mt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kv;function BS(){if(kv)return mt;kv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),p=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),E=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),x=Symbol.iterator;function F(O){return O===null||typeof O!="object"?null:(O=x&&O[x]||O["@@iterator"],typeof O=="function"?O:null)}var Y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tt=Object.assign,dt={};function zt(O,j,K){this.props=O,this.context=j,this.refs=dt,this.updater=K||Y}zt.prototype.isReactComponent={},zt.prototype.setState=function(O,j){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,j,"setState")},zt.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function te(){}te.prototype=zt.prototype;function gt(O,j,K){this.props=O,this.context=j,this.refs=dt,this.updater=K||Y}var ve=gt.prototype=new te;ve.constructor=gt,tt(ve,zt.prototype),ve.isPureReactComponent=!0;var Qe=Array.isArray;function Re(){}var wt={H:null,A:null,T:null,S:null},Ue=Object.prototype.hasOwnProperty;function sn(O,j,K){var X=K.ref;return{$$typeof:r,type:O,key:j,ref:X!==void 0?X:null,props:K}}function Ci(O,j){return sn(O.type,j,O.props)}function ee(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function Qt(O){var j={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(K){return j[K]})}var xi=/\/+/g;function xe(O,j){return typeof O=="object"&&O!==null&&O.key!=null?Qt(""+O.key):j.toString(36)}function bn(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Re,Re):(O.status="pending",O.then(function(j){O.status==="pending"&&(O.status="fulfilled",O.value=j)},function(j){O.status==="pending"&&(O.status="rejected",O.reason=j)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function H(O,j,K,X,it){var nt=typeof O;(nt==="undefined"||nt==="boolean")&&(O=null);var Et=!1;if(O===null)Et=!0;else switch(nt){case"bigint":case"string":case"number":Et=!0;break;case"object":switch(O.$$typeof){case r:case e:Et=!0;break;case N:return Et=O._init,H(Et(O._payload),j,K,X,it)}}if(Et)return it=it(O),Et=X===""?"."+xe(O,0):X,Qe(it)?(K="",Et!=null&&(K=Et.replace(xi,"$&/")+"/"),H(it,j,K,"",function(Ai){return Ai})):it!=null&&(ee(it)&&(it=Ci(it,K+(it.key==null||O&&O.key===it.key?"":(""+it.key).replace(xi,"$&/")+"/")+Et)),j.push(it)),1;Et=0;var re=X===""?".":X+":";if(Qe(O))for(var ae=0;ae<O.length;ae++)X=O[ae],nt=re+xe(X,ae),Et+=H(X,j,K,nt,it);else if(ae=F(O),typeof ae=="function")for(O=ae.call(O),ae=0;!(X=O.next()).done;)X=X.value,nt=re+xe(X,ae++),Et+=H(X,j,K,nt,it);else if(nt==="object"){if(typeof O.then=="function")return H(bn(O),j,K,X,it);throw j=String(O),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.")}return Et}function $(O,j,K){if(O==null)return O;var X=[],it=0;return H(O,X,"","",function(nt){return j.call(K,nt,it++)}),X}function W(O){if(O._status===-1){var j=O._result;j=j(),j.then(function(K){(O._status===0||O._status===-1)&&(O._status=1,O._result=K)},function(K){(O._status===0||O._status===-1)&&(O._status=2,O._result=K)}),O._status===-1&&(O._status=0,O._result=j)}if(O._status===1)return O._result.default;throw O._result}var Ut=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var j=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(j))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},et={map:$,forEach:function(O,j,K){$(O,function(){j.apply(this,arguments)},K)},count:function(O){var j=0;return $(O,function(){j++}),j},toArray:function(O){return $(O,function(j){return j})||[]},only:function(O){if(!ee(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return mt.Activity=w,mt.Children=et,mt.Component=zt,mt.Fragment=i,mt.Profiler=c,mt.PureComponent=gt,mt.StrictMode=o,mt.Suspense=b,mt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=wt,mt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return wt.H.useMemoCache(O)}},mt.cache=function(O){return function(){return O.apply(null,arguments)}},mt.cacheSignal=function(){return null},mt.cloneElement=function(O,j,K){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var X=tt({},O.props),it=O.key;if(j!=null)for(nt in j.key!==void 0&&(it=""+j.key),j)!Ue.call(j,nt)||nt==="key"||nt==="__self"||nt==="__source"||nt==="ref"&&j.ref===void 0||(X[nt]=j[nt]);var nt=arguments.length-2;if(nt===1)X.children=K;else if(1<nt){for(var Et=Array(nt),re=0;re<nt;re++)Et[re]=arguments[re+2];X.children=Et}return sn(O.type,it,X)},mt.createContext=function(O){return O={$$typeof:p,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:d,_context:O},O},mt.createElement=function(O,j,K){var X,it={},nt=null;if(j!=null)for(X in j.key!==void 0&&(nt=""+j.key),j)Ue.call(j,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(it[X]=j[X]);var Et=arguments.length-2;if(Et===1)it.children=K;else if(1<Et){for(var re=Array(Et),ae=0;ae<Et;ae++)re[ae]=arguments[ae+2];it.children=re}if(O&&O.defaultProps)for(X in Et=O.defaultProps,Et)it[X]===void 0&&(it[X]=Et[X]);return sn(O,nt,it)},mt.createRef=function(){return{current:null}},mt.forwardRef=function(O){return{$$typeof:y,render:O}},mt.isValidElement=ee,mt.lazy=function(O){return{$$typeof:N,_payload:{_status:-1,_result:O},_init:W}},mt.memo=function(O,j){return{$$typeof:E,type:O,compare:j===void 0?null:j}},mt.startTransition=function(O){var j=wt.T,K={};wt.T=K;try{var X=O(),it=wt.S;it!==null&&it(K,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(Re,Ut)}catch(nt){Ut(nt)}finally{j!==null&&K.types!==null&&(j.types=K.types),wt.T=j}},mt.unstable_useCacheRefresh=function(){return wt.H.useCacheRefresh()},mt.use=function(O){return wt.H.use(O)},mt.useActionState=function(O,j,K){return wt.H.useActionState(O,j,K)},mt.useCallback=function(O,j){return wt.H.useCallback(O,j)},mt.useContext=function(O){return wt.H.useContext(O)},mt.useDebugValue=function(){},mt.useDeferredValue=function(O,j){return wt.H.useDeferredValue(O,j)},mt.useEffect=function(O,j){return wt.H.useEffect(O,j)},mt.useEffectEvent=function(O){return wt.H.useEffectEvent(O)},mt.useId=function(){return wt.H.useId()},mt.useImperativeHandle=function(O,j,K){return wt.H.useImperativeHandle(O,j,K)},mt.useInsertionEffect=function(O,j){return wt.H.useInsertionEffect(O,j)},mt.useLayoutEffect=function(O,j){return wt.H.useLayoutEffect(O,j)},mt.useMemo=function(O,j){return wt.H.useMemo(O,j)},mt.useOptimistic=function(O,j){return wt.H.useOptimistic(O,j)},mt.useReducer=function(O,j,K){return wt.H.useReducer(O,j,K)},mt.useRef=function(O){return wt.H.useRef(O)},mt.useState=function(O){return wt.H.useState(O)},mt.useSyncExternalStore=function(O,j,K){return wt.H.useSyncExternalStore(O,j,K)},mt.useTransition=function(){return wt.H.useTransition()},mt.version="19.2.0",mt}var Pv;function U_(){return Pv||(Pv=1,Wd.exports=BS()),Wd.exports}var pt=U_();const __=n0(pt);var Kd={exports:{}},Hl={},Qd={exports:{}},Xd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zv;function HS(){return zv||(zv=1,(function(r){function e(H,$){var W=H.length;H.push($);t:for(;0<W;){var Ut=W-1>>>1,et=H[Ut];if(0<c(et,$))H[Ut]=$,H[W]=et,W=Ut;else break t}}function i(H){return H.length===0?null:H[0]}function o(H){if(H.length===0)return null;var $=H[0],W=H.pop();if(W!==$){H[0]=W;t:for(var Ut=0,et=H.length,O=et>>>1;Ut<O;){var j=2*(Ut+1)-1,K=H[j],X=j+1,it=H[X];if(0>c(K,W))X<et&&0>c(it,K)?(H[Ut]=it,H[X]=W,Ut=X):(H[Ut]=K,H[j]=W,Ut=j);else if(X<et&&0>c(it,W))H[Ut]=it,H[X]=W,Ut=X;else break t}}return $}function c(H,$){var W=H.sortIndex-$.sortIndex;return W!==0?W:H.id-$.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;r.unstable_now=function(){return d.now()}}else{var p=Date,y=p.now();r.unstable_now=function(){return p.now()-y}}var b=[],E=[],N=1,w=null,x=3,F=!1,Y=!1,tt=!1,dt=!1,zt=typeof setTimeout=="function"?setTimeout:null,te=typeof clearTimeout=="function"?clearTimeout:null,gt=typeof setImmediate<"u"?setImmediate:null;function ve(H){for(var $=i(E);$!==null;){if($.callback===null)o(E);else if($.startTime<=H)o(E),$.sortIndex=$.expirationTime,e(b,$);else break;$=i(E)}}function Qe(H){if(tt=!1,ve(H),!Y)if(i(b)!==null)Y=!0,Re||(Re=!0,Qt());else{var $=i(E);$!==null&&bn(Qe,$.startTime-H)}}var Re=!1,wt=-1,Ue=5,sn=-1;function Ci(){return dt?!0:!(r.unstable_now()-sn<Ue)}function ee(){if(dt=!1,Re){var H=r.unstable_now();sn=H;var $=!0;try{t:{Y=!1,tt&&(tt=!1,te(wt),wt=-1),F=!0;var W=x;try{e:{for(ve(H),w=i(b);w!==null&&!(w.expirationTime>H&&Ci());){var Ut=w.callback;if(typeof Ut=="function"){w.callback=null,x=w.priorityLevel;var et=Ut(w.expirationTime<=H);if(H=r.unstable_now(),typeof et=="function"){w.callback=et,ve(H),$=!0;break e}w===i(b)&&o(b),ve(H)}else o(b);w=i(b)}if(w!==null)$=!0;else{var O=i(E);O!==null&&bn(Qe,O.startTime-H),$=!1}}break t}finally{w=null,x=W,F=!1}$=void 0}}finally{$?Qt():Re=!1}}}var Qt;if(typeof gt=="function")Qt=function(){gt(ee)};else if(typeof MessageChannel<"u"){var xi=new MessageChannel,xe=xi.port2;xi.port1.onmessage=ee,Qt=function(){xe.postMessage(null)}}else Qt=function(){zt(ee,0)};function bn(H,$){wt=zt(function(){H(r.unstable_now())},$)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ue=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_next=function(H){switch(x){case 1:case 2:case 3:var $=3;break;default:$=x}var W=x;x=$;try{return H()}finally{x=W}},r.unstable_requestPaint=function(){dt=!0},r.unstable_runWithPriority=function(H,$){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var W=x;x=H;try{return $()}finally{x=W}},r.unstable_scheduleCallback=function(H,$,W){var Ut=r.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?Ut+W:Ut):W=Ut,H){case 1:var et=-1;break;case 2:et=250;break;case 5:et=1073741823;break;case 4:et=1e4;break;default:et=5e3}return et=W+et,H={id:N++,callback:$,priorityLevel:H,startTime:W,expirationTime:et,sortIndex:-1},W>Ut?(H.sortIndex=W,e(E,H),i(b)===null&&H===i(E)&&(tt?(te(wt),wt=-1):tt=!0,bn(Qe,W-Ut))):(H.sortIndex=et,e(b,H),Y||F||(Y=!0,Re||(Re=!0,Qt()))),H},r.unstable_shouldYield=Ci,r.unstable_wrapCallback=function(H){var $=x;return function(){var W=x;x=$;try{return H.apply(this,arguments)}finally{x=W}}}})(Xd)),Xd}var Uv;function jS(){return Uv||(Uv=1,Qd.exports=HS()),Qd.exports}var Jd={exports:{}},Ye={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bv;function ZS(){if(Bv)return Ye;Bv=1;var r=U_();function e(b){var E="https://react.dev/errors/"+b;if(1<arguments.length){E+="?args[]="+encodeURIComponent(arguments[1]);for(var N=2;N<arguments.length;N++)E+="&args[]="+encodeURIComponent(arguments[N])}return"Minified React error #"+b+"; visit "+E+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var o={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},c=Symbol.for("react.portal");function d(b,E,N){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:w==null?null:""+w,children:b,containerInfo:E,implementation:N}}var p=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(b,E){if(b==="font")return"";if(typeof E=="string")return E==="use-credentials"?E:""}return Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,Ye.createPortal=function(b,E){var N=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!E||E.nodeType!==1&&E.nodeType!==9&&E.nodeType!==11)throw Error(e(299));return d(b,E,null,N)},Ye.flushSync=function(b){var E=p.T,N=o.p;try{if(p.T=null,o.p=2,b)return b()}finally{p.T=E,o.p=N,o.d.f()}},Ye.preconnect=function(b,E){typeof b=="string"&&(E?(E=E.crossOrigin,E=typeof E=="string"?E==="use-credentials"?E:"":void 0):E=null,o.d.C(b,E))},Ye.prefetchDNS=function(b){typeof b=="string"&&o.d.D(b)},Ye.preinit=function(b,E){if(typeof b=="string"&&E&&typeof E.as=="string"){var N=E.as,w=y(N,E.crossOrigin),x=typeof E.integrity=="string"?E.integrity:void 0,F=typeof E.fetchPriority=="string"?E.fetchPriority:void 0;N==="style"?o.d.S(b,typeof E.precedence=="string"?E.precedence:void 0,{crossOrigin:w,integrity:x,fetchPriority:F}):N==="script"&&o.d.X(b,{crossOrigin:w,integrity:x,fetchPriority:F,nonce:typeof E.nonce=="string"?E.nonce:void 0})}},Ye.preinitModule=function(b,E){if(typeof b=="string")if(typeof E=="object"&&E!==null){if(E.as==null||E.as==="script"){var N=y(E.as,E.crossOrigin);o.d.M(b,{crossOrigin:N,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0})}}else E==null&&o.d.M(b)},Ye.preload=function(b,E){if(typeof b=="string"&&typeof E=="object"&&E!==null&&typeof E.as=="string"){var N=E.as,w=y(N,E.crossOrigin);o.d.L(b,N,{crossOrigin:w,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0,type:typeof E.type=="string"?E.type:void 0,fetchPriority:typeof E.fetchPriority=="string"?E.fetchPriority:void 0,referrerPolicy:typeof E.referrerPolicy=="string"?E.referrerPolicy:void 0,imageSrcSet:typeof E.imageSrcSet=="string"?E.imageSrcSet:void 0,imageSizes:typeof E.imageSizes=="string"?E.imageSizes:void 0,media:typeof E.media=="string"?E.media:void 0})}},Ye.preloadModule=function(b,E){if(typeof b=="string")if(E){var N=y(E.as,E.crossOrigin);o.d.m(b,{as:typeof E.as=="string"&&E.as!=="script"?E.as:void 0,crossOrigin:N,integrity:typeof E.integrity=="string"?E.integrity:void 0})}else o.d.m(b)},Ye.requestFormReset=function(b){o.d.r(b)},Ye.unstable_batchedUpdates=function(b,E){return b(E)},Ye.useFormState=function(b,E,N){return p.H.useFormState(b,E,N)},Ye.useFormStatus=function(){return p.H.useHostTransitionStatus()},Ye.version="19.2.0",Ye}var Hv;function i0(){if(Hv)return Jd.exports;Hv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Jd.exports=ZS(),Jd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jv;function qS(){if(jv)return Hl;jv=1;var r=jS(),e=U_(),i=i0();function o(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function d(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function p(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function b(t){if(d(t)!==t)throw Error(o(188))}function E(t){var n=t.alternate;if(!n){if(n=d(t),n===null)throw Error(o(188));return n!==t?null:t}for(var a=t,u=n;;){var f=a.return;if(f===null)break;var _=f.alternate;if(_===null){if(u=f.return,u!==null){a=u;continue}break}if(f.child===_.child){for(_=f.child;_;){if(_===a)return b(f),t;if(_===u)return b(f),n;_=_.sibling}throw Error(o(188))}if(a.return!==u.return)a=f,u=_;else{for(var v=!1,T=f.child;T;){if(T===a){v=!0,a=f,u=_;break}if(T===u){v=!0,u=f,a=_;break}T=T.sibling}if(!v){for(T=_.child;T;){if(T===a){v=!0,a=_,u=f;break}if(T===u){v=!0,u=_,a=f;break}T=T.sibling}if(!v)throw Error(o(189))}}if(a.alternate!==u)throw Error(o(190))}if(a.tag!==3)throw Error(o(188));return a.stateNode.current===a?t:n}function N(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=N(t),n!==null)return n;t=t.sibling}return null}var w=Object.assign,x=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),Y=Symbol.for("react.portal"),tt=Symbol.for("react.fragment"),dt=Symbol.for("react.strict_mode"),zt=Symbol.for("react.profiler"),te=Symbol.for("react.consumer"),gt=Symbol.for("react.context"),ve=Symbol.for("react.forward_ref"),Qe=Symbol.for("react.suspense"),Re=Symbol.for("react.suspense_list"),wt=Symbol.for("react.memo"),Ue=Symbol.for("react.lazy"),sn=Symbol.for("react.activity"),Ci=Symbol.for("react.memo_cache_sentinel"),ee=Symbol.iterator;function Qt(t){return t===null||typeof t!="object"?null:(t=ee&&t[ee]||t["@@iterator"],typeof t=="function"?t:null)}var xi=Symbol.for("react.client.reference");function xe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===xi?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case tt:return"Fragment";case zt:return"Profiler";case dt:return"StrictMode";case Qe:return"Suspense";case Re:return"SuspenseList";case sn:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Y:return"Portal";case gt:return t.displayName||"Context";case te:return(t._context.displayName||"Context")+".Consumer";case ve:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case wt:return n=t.displayName||null,n!==null?n:xe(t.type)||"Memo";case Ue:n=t._payload,t=t._init;try{return xe(t(n))}catch{}}return null}var bn=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},Ut=[],et=-1;function O(t){return{current:t}}function j(t){0>et||(t.current=Ut[et],Ut[et]=null,et--)}function K(t,n){et++,Ut[et]=t.current,t.current=n}var X=O(null),it=O(null),nt=O(null),Et=O(null);function re(t,n){switch(K(nt,n),K(it,t),K(X,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?nv(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=nv(n),t=iv(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}j(X),K(X,t)}function ae(){j(X),j(it),j(nt)}function Ai(t){t.memoizedState!==null&&K(Et,t);var n=X.current,a=iv(n,t.type);n!==a&&(K(it,t),K(X,a))}function cs(t){it.current===t&&(j(X),j(it)),Et.current===t&&(j(Et),kl._currentValue=W)}var Ni,pa;function Oi(t){if(Ni===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Ni=n&&n[1]||"",pa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ni+t+pa}var ga=!1;function va(t,n){if(!t||ga)return"";ga=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(n){var G=function(){throw Error()};if(Object.defineProperty(G.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(G,[])}catch(B){var U=B}Reflect.construct(t,[],G)}else{try{G.call()}catch(B){U=B}t.call(G.prototype)}}else{try{throw Error()}catch(B){U=B}(G=t())&&typeof G.catch=="function"&&G.catch(function(){})}}catch(B){if(B&&U&&typeof B.stack=="string")return[B.stack,U.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=u.DetermineComponentFrameRoot(),v=_[0],T=_[1];if(v&&T){var A=v.split(`
`),P=T.split(`
`);for(f=u=0;u<A.length&&!A[u].includes("DetermineComponentFrameRoot");)u++;for(;f<P.length&&!P[f].includes("DetermineComponentFrameRoot");)f++;if(u===A.length||f===P.length)for(u=A.length-1,f=P.length-1;1<=u&&0<=f&&A[u]!==P[f];)f--;for(;1<=u&&0<=f;u--,f--)if(A[u]!==P[f]){if(u!==1||f!==1)do if(u--,f--,0>f||A[u]!==P[f]){var Z=`
`+A[u].replace(" at new "," at ");return t.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",t.displayName)),Z}while(1<=u&&0<=f);break}}}finally{ga=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Oi(a):""}function Io(t,n){switch(t.tag){case 26:case 27:case 5:return Oi(t.type);case 16:return Oi("Lazy");case 13:return t.child!==n&&n!==null?Oi("Suspense Fallback"):Oi("Suspense");case 19:return Oi("SuspenseList");case 0:case 15:return va(t.type,!1);case 11:return va(t.type.render,!1);case 1:return va(t.type,!0);case 31:return Oi("Activity");default:return""}}function hr(t){try{var n="",a=null;do n+=Io(t,a),a=t,t=t.return;while(t);return n}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Do=Object.prototype.hasOwnProperty,ya=r.unstable_scheduleCallback,fr=r.unstable_cancelCallback,xu=r.unstable_shouldYield,Au=r.unstable_requestPaint,Xe=r.unstable_now,Wh=r.unstable_getCurrentPriorityLevel,ba=r.unstable_ImmediatePriority,ko=r.unstable_UserBlockingPriority,dr=r.unstable_NormalPriority,Kh=r.unstable_LowPriority,Po=r.unstable_IdlePriority,Nu=r.log,Qh=r.unstable_setDisableYieldValue,hs=null,Be=null;function qn(t){if(typeof Nu=="function"&&Qh(t),Be&&typeof Be.setStrictMode=="function")try{Be.setStrictMode(hs,t)}catch{}}var Je=Math.clz32?Math.clz32:Jh,_r=Math.log,Xh=Math.LN2;function Jh(t){return t>>>=0,t===0?32:31-(_r(t)/Xh|0)|0}var mr=256,pr=262144,gr=4194304;function Ri(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ea(t,n,a){var u=t.pendingLanes;if(u===0)return 0;var f=0,_=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var T=u&134217727;return T!==0?(u=T&~_,u!==0?f=Ri(u):(v&=T,v!==0?f=Ri(v):a||(a=T&~t,a!==0&&(f=Ri(a))))):(T=u&~_,T!==0?f=Ri(T):v!==0?f=Ri(v):a||(a=u&~t,a!==0&&(f=Ri(a)))),f===0?0:n!==0&&n!==f&&(n&_)===0&&(_=f&-f,a=n&-n,_>=a||_===32&&(a&4194048)!==0)?n:f}function vr(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function $h(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ou(){var t=gr;return gr<<=1,(gr&62914560)===0&&(gr=4194304),t}function zo(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function Li(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function tf(t,n,a,u,f,_){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,A=t.expirationTimes,P=t.hiddenUpdates;for(a=v&~a;0<a;){var Z=31-Je(a),G=1<<Z;T[Z]=0,A[Z]=-1;var U=P[Z];if(U!==null)for(P[Z]=null,Z=0;Z<U.length;Z++){var B=U[Z];B!==null&&(B.lane&=-536870913)}a&=~G}u!==0&&Ru(t,u,0),_!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=_&~(v&~n))}function Ru(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var u=31-Je(n);t.entangledLanes|=n,t.entanglements[u]=t.entanglements[u]|1073741824|a&261930}function Lu(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var u=31-Je(a),f=1<<u;f&n|t[u]&n&&(t[u]|=n),a&=~f}}function Mu(t,n){var a=n&-n;return a=(a&42)!==0?1:rn(a),(a&(t.suspendedLanes|n))!==0?0:a}function rn(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function at(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Uo(){var t=$.p;return t!==0?t:(t=window.event,t===void 0?32:xv(t.type))}function Bo(t,n){var a=$.p;try{return $.p=t,n()}finally{$.p=a}}var Vn=Math.random().toString(36).slice(2),ye="__reactFiber$"+Vn,Le="__reactProps$"+Vn,Mi="__reactContainer$"+Vn,ai="__reactEvents$"+Vn,Iu="__reactListeners$"+Vn,ef="__reactHandles$"+Vn,Du="__reactResources$"+Vn,yr="__reactMarker$"+Vn;function Ho(t){delete t[ye],delete t[Le],delete t[ai],delete t[Iu],delete t[ef]}function Ii(t){var n=t[ye];if(n)return n;for(var a=t.parentNode;a;){if(n=a[Mi]||a[ye]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=cv(t);t!==null;){if(a=t[ye])return a;t=cv(t)}return n}t=a,a=t.parentNode}return null}function fs(t){if(t=t[ye]||t[Mi]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function oi(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(o(33))}function ds(t){var n=t[Du];return n||(n=t[Du]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function be(t){t[yr]=!0}var ku=new Set,Pu={};function Di(t,n){li(t,n),li(t+"Capture",n)}function li(t,n){for(Pu[t]=n,t=0;t<n.length;t++)ku.add(n[t])}var br=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),jo={},Zo={};function Er(t){return Do.call(Zo,t)?!0:Do.call(jo,t)?!1:br.test(t)?Zo[t]=!0:(jo[t]=!0,!1)}function xt(t,n,a){if(Er(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var u=n.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function Gt(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function an(t,n,a,u){if(u===null)t.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+u)}}function Ae(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ki(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function qo(t,n,a){var u=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var f=u.get,_=u.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return f.call(this)},set:function(v){a=""+v,_.call(this,v)}}),Object.defineProperty(t,n,{enumerable:u.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function _t(t){if(!t._valueTracker){var n=ki(t)?"checked":"value";t._valueTracker=qo(t,n,""+t[n])}}function oe(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),u="";return t&&(u=ki(t)?t.checked?"true":"false":t.value),t=u,t!==a?(n.setValue(t),!0):!1}function _s(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Sa=/[\n"\\]/g;function ne(t){return t.replace(Sa,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Vo(t,n,a,u,f,_,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),n!=null?v==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ae(n)):t.value!==""+Ae(n)&&(t.value=""+Ae(n)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),n!=null?Gn(t,v,Ae(n)):a!=null?Gn(t,v,Ae(a)):u!=null&&t.removeAttribute("value"),f==null&&_!=null&&(t.defaultChecked=!!_),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Ae(T):t.removeAttribute("name")}function Sr(t,n,a,u,f,_,v,T){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.type=_),n!=null||a!=null){if(!(_!=="submit"&&_!=="reset"||n!=null)){_t(t);return}a=a!=null?""+Ae(a):"",n=n!=null?""+Ae(n):a,T||n===t.value||(t.value=n),t.defaultValue=n}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,t.checked=T?t.checked:!!u,t.defaultChecked=!!u,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),_t(t)}function Gn(t,n,a){n==="number"&&_s(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Xt(t,n,a,u){if(t=t.options,n){n={};for(var f=0;f<a.length;f++)n["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=n.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&u&&(t[a].defaultSelected=!0)}else{for(a=""+Ae(a),n=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,u&&(t[f].defaultSelected=!0);return}n!==null||t[f].disabled||(n=t[f])}n!==null&&(n.selected=!0)}}function ui(t,n,a){if(n!=null&&(n=""+Ae(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Ae(a):""}function ms(t,n,a,u){if(n==null){if(u!=null){if(a!=null)throw Error(o(92));if(bn(u)){if(1<u.length)throw Error(o(93));u=u[0]}a=u}a==null&&(a=""),n=a}a=Ae(n),t.defaultValue=a,u=t.textContent,u===a&&u!==""&&u!==null&&(t.value=u),_t(t)}function Rn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Go=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ps(t,n,a){var u=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?u?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":u?t.setProperty(n,a):typeof a!="number"||a===0||Go.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Ta(t,n,a){if(n!=null&&typeof n!="object")throw Error(o(62));if(t=t.style,a!=null){for(var u in a)!a.hasOwnProperty(u)||n!=null&&n.hasOwnProperty(u)||(u.indexOf("--")===0?t.setProperty(u,""):u==="float"?t.cssFloat="":t[u]="");for(var f in n)u=n[f],n.hasOwnProperty(f)&&a[f]!==u&&ps(t,f,u)}else for(var _ in n)n.hasOwnProperty(_)&&ps(t,_,n[_])}function Tr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wa=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Fo=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function gs(t){return Fo.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function on(){}var Ca=null;function wr(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var vs=null,ct=null;function En(t){var n=fs(t);if(n&&(t=n.stateNode)){var a=t[Le]||null;t:switch(t=n.stateNode,n.type){case"input":if(Vo(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ne(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var u=a[n];if(u!==t&&u.form===t.form){var f=u[Le]||null;if(!f)throw Error(o(90));Vo(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<a.length;n++)u=a[n],u.form===t.form&&oe(u)}break t;case"textarea":ui(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&Xt(t,!!a.multiple,n,!1)}}}var jt=!1;function Yo(t,n,a){if(jt)return t(n,a);jt=!0;try{var u=t(n);return u}finally{if(jt=!1,(vs!==null||ct!==null)&&(Mc(),vs&&(n=vs,t=ct,ct=vs=null,En(n),t)))for(n=0;n<t.length;n++)En(t[n])}}function Pi(t,n){var a=t.stateNode;if(a===null)return null;var u=a[Le]||null;if(u===null)return null;a=u[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(o(231,n,typeof a));return a}var Sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cr=!1;if(Sn)try{var Tn={};Object.defineProperty(Tn,"passive",{get:function(){Cr=!0}}),window.addEventListener("test",Tn,Tn),window.removeEventListener("test",Tn,Tn)}catch{Cr=!1}var Ln=null,zi=null,he=null;function ci(){if(he)return he;var t,n=zi,a=n.length,u,f="value"in Ln?Ln.value:Ln.textContent,_=f.length;for(t=0;t<a&&n[t]===f[t];t++);var v=a-t;for(u=1;u<=v&&n[a-u]===f[_-u];u++);return he=f.slice(t,1<u?1-u:void 0)}function xr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Ar(){return!0}function zu(){return!1}function He(t){function n(a,u,f,_,v){this._reactName=a,this._targetInst=f,this.type=u,this.nativeEvent=_,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(_):_[T]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Ar:zu,this.isPropagationStopped=zu,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ar)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ar)},persist:function(){},isPersistent:Ar}),n}var Fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xa=He(Fn),ys=w({},Fn,{view:0,detail:0}),Rt=He(ys),Wo,$e,Yn,Nr=w({},ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Yn&&(Yn&&t.type==="mousemove"?(Wo=t.screenX-Yn.screenX,$e=t.screenY-Yn.screenY):$e=Wo=0,Yn=t),Wo)},movementY:function(t){return"movementY"in t?t.movementY:$e}}),Uu=He(Nr),Ko=w({},Nr,{dataTransfer:0}),nf=He(Ko),Bu=w({},ys,{relatedTarget:0}),Qo=He(Bu),sf=w({},Fn,{animationName:0,elapsedTime:0,pseudoElement:0}),Xo=He(sf),rf=w({},Fn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Mn=He(rf),af=w({},Fn,{data:0}),Jo=He(af),hi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ju={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $o(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=ju[t])?!!n[t]:!1}function tl(){return $o}var Zu=w({},ys,{key:function(t){if(t.key){var n=hi[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=xr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Hu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tl,charCode:function(t){return t.type==="keypress"?xr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?xr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),qu=He(Zu),of=w({},Nr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vu=He(of),el=w({},ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tl}),lf=He(el),Gu=w({},Fn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fu=He(Gu),Aa=w({},Nr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ui=He(Aa),uf=w({},Fn,{newState:0,oldState:0}),Or=He(uf),ln=[9,13,27,32],Na=Sn&&"CompositionEvent"in window,bs=null;Sn&&"documentMode"in document&&(bs=document.documentMode);var cf=Sn&&"TextEvent"in window&&!bs,Oa=Sn&&(!Na||bs&&8<bs&&11>=bs),Ra=" ",Yu=!1;function Wu(t,n){switch(t){case"keyup":return ln.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nl(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Es=!1;function wn(t,n){switch(t){case"compositionend":return nl(n);case"keypress":return n.which!==32?null:(Yu=!0,Ra);case"textInput":return t=n.data,t===Ra&&Yu?null:t;default:return null}}function Ss(t,n){if(Es)return t==="compositionend"||!Na&&Wu(t,n)?(t=ci(),he=zi=Ln=null,Es=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Oa&&n.locale!=="ko"?null:n.data;default:return null}}var hf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function In(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!hf[t.type]:n==="textarea"}function Ku(t,n,a,u){vs?ct?ct.push(u):ct=[u]:vs=u,n=Bc(n,"onChange"),0<n.length&&(a=new xa("onChange","change",null,a,u),t.push({event:a,listeners:n}))}var Dn=null,Rr=null;function Lr(t){Qg(t,0)}function Mr(t){var n=oi(t);if(oe(n))return t}function Ir(t,n){if(t==="change")return n}var Qu=!1;if(Sn){var kn;if(Sn){var Ts="oninput"in document;if(!Ts){var Xu=document.createElement("div");Xu.setAttribute("oninput","return;"),Ts=typeof Xu.oninput=="function"}kn=Ts}else kn=!1;Qu=kn&&(!document.documentMode||9<document.documentMode)}function La(){Dn&&(Dn.detachEvent("onpropertychange",Ju),Rr=Dn=null)}function Ju(t){if(t.propertyName==="value"&&Mr(Rr)){var n=[];Ku(n,Rr,t,wr(t)),Yo(Lr,n)}}function Wn(t,n,a){t==="focusin"?(La(),Dn=n,Rr=a,Dn.attachEvent("onpropertychange",Ju)):t==="focusout"&&La()}function ff(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Mr(Rr)}function ws(t,n){if(t==="click")return Mr(n)}function df(t,n){if(t==="input"||t==="change")return Mr(n)}function Kn(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Me=typeof Object.is=="function"?Object.is:Kn;function Cs(t,n){if(Me(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),u=Object.keys(n);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var f=a[u];if(!Do.call(n,f)||!Me(t[f],n[f]))return!1}return!0}function Ma(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Dr(t,n){var a=Ma(t);t=0;for(var u;a;){if(a.nodeType===3){if(u=t+a.textContent.length,t<=n&&u>=n)return{node:a,offset:n-t};t=u}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Ma(a)}}function Ia(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Ia(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function kr(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=_s(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=_s(t.document)}return n}function fi(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var Da=Sn&&"documentMode"in document&&11>=document.documentMode,di=null,ka=null,Pr=null,xs=!1;function $u(t,n,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;xs||di==null||di!==_s(u)||(u=di,"selectionStart"in u&&fi(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Pr&&Cs(Pr,u)||(Pr=u,u=Bc(ka,"onSelect"),0<u.length&&(n=new xa("onSelect","select",null,n,a),t.push({event:n,listeners:u}),n.target=di)))}function _i(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var As={animationend:_i("Animation","AnimationEnd"),animationiteration:_i("Animation","AnimationIteration"),animationstart:_i("Animation","AnimationStart"),transitionrun:_i("Transition","TransitionRun"),transitionstart:_i("Transition","TransitionStart"),transitioncancel:_i("Transition","TransitionCancel"),transitionend:_i("Transition","TransitionEnd")},Pa={},tc={};Sn&&(tc=document.createElement("div").style,"AnimationEvent"in window||(delete As.animationend.animation,delete As.animationiteration.animation,delete As.animationstart.animation),"TransitionEvent"in window||delete As.transitionend.transition);function Ie(t){if(Pa[t])return Pa[t];if(!As[t])return t;var n=As[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in tc)return Pa[t]=n[a];return t}var zr=Ie("animationend"),ec=Ie("animationiteration"),Ur=Ie("animationstart"),_f=Ie("transitionrun"),nc=Ie("transitionstart"),mf=Ie("transitioncancel"),Ns=Ie("transitionend"),ic=new Map,mi="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");mi.push("scrollEnd");function un(t,n){ic.set(t,n),Di(n,[t])}var Br=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},cn=[],Ge=0,za=0;function Hr(){for(var t=Ge,n=za=Ge=0;n<t;){var a=cn[n];cn[n++]=null;var u=cn[n];cn[n++]=null;var f=cn[n];cn[n++]=null;var _=cn[n];if(cn[n++]=null,u!==null&&f!==null){var v=u.pending;v===null?f.next=f:(f.next=v.next,v.next=f),u.pending=f}_!==0&&Os(a,f,_)}}function pi(t,n,a,u){cn[Ge++]=t,cn[Ge++]=n,cn[Ge++]=a,cn[Ge++]=u,za|=u,t.lanes|=u,t=t.alternate,t!==null&&(t.lanes|=u)}function il(t,n,a,u){return pi(t,n,a,u),jr(t)}function Pn(t,n){return pi(t,null,null,n),jr(t)}function Os(t,n,a){t.lanes|=a;var u=t.alternate;u!==null&&(u.lanes|=a);for(var f=!1,_=t.return;_!==null;)_.childLanes|=a,u=_.alternate,u!==null&&(u.childLanes|=a),_.tag===22&&(t=_.stateNode,t===null||t._visibility&1||(f=!0)),t=_,_=_.return;return t.tag===3?(_=t.stateNode,f&&n!==null&&(f=31-Je(a),t=_.hiddenUpdates,u=t[f],u===null?t[f]=[n]:u.push(n),n.lane=a|536870912),_):null}function jr(t){if(50<Nl)throw Nl=0,gd=null,Error(o(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Bi={};function pf(t,n,a,u){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fe(t,n,a,u){return new pf(t,n,a,u)}function Ua(t){return t=t.prototype,!(!t||!t.isReactComponent)}function zn(t,n){var a=t.alternate;return a===null?(a=Fe(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function sl(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Zr(t,n,a,u,f,_){var v=0;if(u=t,typeof t=="function")Ua(t)&&(v=1);else if(typeof t=="string")v=CS(t,a,X.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case sn:return t=Fe(31,a,n,f),t.elementType=sn,t.lanes=_,t;case tt:return Hi(a.children,f,_,n);case dt:v=8,f|=24;break;case zt:return t=Fe(12,a,n,f|2),t.elementType=zt,t.lanes=_,t;case Qe:return t=Fe(13,a,n,f),t.elementType=Qe,t.lanes=_,t;case Re:return t=Fe(19,a,n,f),t.elementType=Re,t.lanes=_,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case gt:v=10;break t;case te:v=9;break t;case ve:v=11;break t;case wt:v=14;break t;case Ue:v=16,u=null;break t}v=29,a=Error(o(130,t===null?"null":typeof t,"")),u=null}return n=Fe(v,a,n,f),n.elementType=t,n.type=u,n.lanes=_,n}function Hi(t,n,a,u){return t=Fe(7,t,u,n),t.lanes=a,t}function Ba(t,n,a){return t=Fe(6,t,null,n),t.lanes=a,t}function rl(t){var n=Fe(18,null,null,0);return n.stateNode=t,n}function al(t,n,a){return n=Fe(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var s=new WeakMap;function l(t,n){if(typeof t=="object"&&t!==null){var a=s.get(t);return a!==void 0?a:(n={value:t,source:n,stack:hr(n)},s.set(t,n),n)}return{value:t,source:n,stack:hr(n)}}var h=[],m=0,g=null,S=0,C=[],D=0,z=null,V=1,J="";function ot(t,n){h[m++]=S,h[m++]=g,g=t,S=n}function yt(t,n,a){C[D++]=V,C[D++]=J,C[D++]=z,z=t;var u=V;t=J;var f=32-Je(u)-1;u&=~(1<<f),a+=1;var _=32-Je(n)+f;if(30<_){var v=f-f%5;_=(u&(1<<v)-1).toString(32),u>>=v,f-=v,V=1<<32-Je(n)+f|a<<f|u,J=_+t}else V=1<<_|a<<f|u,J=t}function Ne(t){t.return!==null&&(ot(t,1),yt(t,1,0))}function fe(t){for(;t===g;)g=h[--m],h[m]=null,S=h[--m],h[m]=null;for(;t===z;)z=C[--D],C[D]=null,J=C[--D],C[D]=null,V=C[--D],C[D]=null}function tn(t,n){C[D++]=V,C[D++]=J,C[D++]=z,V=n.id,J=n.overflow,z=t}var It=null,Dt=null,At=!1,gi=null,hn=!1,Ha=Error(o(519));function vi(t){var n=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw qr(l(n,t)),Ha}function ol(t){var n=t.stateNode,a=t.type,u=t.memoizedProps;switch(n[ye]=t,n[Le]=u,a){case"dialog":Ot("cancel",n),Ot("close",n);break;case"iframe":case"object":case"embed":Ot("load",n);break;case"video":case"audio":for(a=0;a<Rl.length;a++)Ot(Rl[a],n);break;case"source":Ot("error",n);break;case"img":case"image":case"link":Ot("error",n),Ot("load",n);break;case"details":Ot("toggle",n);break;case"input":Ot("invalid",n),Sr(n,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Ot("invalid",n);break;case"textarea":Ot("invalid",n),ms(n,u.value,u.defaultValue,u.children)}a=u.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||u.suppressHydrationWarning===!0||tv(n.textContent,a)?(u.popover!=null&&(Ot("beforetoggle",n),Ot("toggle",n)),u.onScroll!=null&&Ot("scroll",n),u.onScrollEnd!=null&&Ot("scrollend",n),u.onClick!=null&&(n.onclick=on),n=!0):n=!1,n||vi(t,!0)}function ce(t){for(It=t.return;It;)switch(It.tag){case 5:case 31:case 13:hn=!1;return;case 27:case 3:hn=!0;return;default:It=It.return}}function Qn(t){if(t!==It)return!1;if(!At)return ce(t),At=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Md(t.type,t.memoizedProps)),a=!a),a&&Dt&&vi(t),ce(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));Dt=uv(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));Dt=uv(t)}else n===27?(n=Dt,qs(t.type)?(t=zd,zd=null,Dt=t):Dt=n):Dt=It?Bn(t.stateNode.nextSibling):null;return!0}function ji(){Dt=It=null,At=!1}function ll(){var t=gi;return t!==null&&(mn===null?mn=t:mn.push.apply(mn,t),gi=null),t}function qr(t){gi===null?gi=[t]:gi.push(t)}var Vr=O(null),yi=null,Xn=null;function Rs(t,n,a){K(Vr,n._currentValue),n._currentValue=a}function Zi(t){t._currentValue=Vr.current,j(Vr)}function gf(t,n,a){for(;t!==null;){var u=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,u!==null&&(u.childLanes|=n)):u!==null&&(u.childLanes&n)!==n&&(u.childLanes|=n),t===a)break;t=t.return}}function vf(t,n,a,u){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var _=f.dependencies;if(_!==null){var v=f.child;_=_.firstContext;t:for(;_!==null;){var T=_;_=f;for(var A=0;A<n.length;A++)if(T.context===n[A]){_.lanes|=a,T=_.alternate,T!==null&&(T.lanes|=a),gf(_.return,a,t),u||(v=null);break t}_=T.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(o(341));v.lanes|=a,_=v.alternate,_!==null&&(_.lanes|=a),gf(v,a,t),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===t){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function ja(t,n,a,u){t=null;for(var f=n,_=!1;f!==null;){if(!_){if((f.flags&524288)!==0)_=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(o(387));if(v=v.memoizedProps,v!==null){var T=f.type;Me(f.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(f===Et.current){if(v=f.alternate,v===null)throw Error(o(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(kl):t=[kl])}f=f.return}t!==null&&vf(n,t,a,u),n.flags|=262144}function sc(t){for(t=t.firstContext;t!==null;){if(!Me(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Gr(t){yi=t,Xn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function je(t){return Bm(yi,t)}function rc(t,n){return yi===null&&Gr(t),Bm(t,n)}function Bm(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Xn===null){if(t===null)throw Error(o(308));Xn=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Xn=Xn.next=n;return a}var EE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,u){t.push(u)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},SE=r.unstable_scheduleCallback,TE=r.unstable_NormalPriority,Ee={$$typeof:gt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function yf(){return{controller:new EE,data:new Map,refCount:0}}function ul(t){t.refCount--,t.refCount===0&&SE(TE,function(){t.controller.abort()})}var cl=null,bf=0,Za=0,qa=null;function wE(t,n){if(cl===null){var a=cl=[];bf=0,Za=Td(),qa={status:"pending",value:void 0,then:function(u){a.push(u)}}}return bf++,n.then(Hm,Hm),n}function Hm(){if(--bf===0&&cl!==null){qa!==null&&(qa.status="fulfilled");var t=cl;cl=null,Za=0,qa=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function CE(t,n){var a=[],u={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){u.status="fulfilled",u.value=n;for(var f=0;f<a.length;f++)(0,a[f])(n)},function(f){for(u.status="rejected",u.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),u}var jm=H.S;H.S=function(t,n){wg=Xe(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&wE(t,n),jm!==null&&jm(t,n)};var Fr=O(null);function Ef(){var t=Fr.current;return t!==null?t:Jt.pooledCache}function ac(t,n){n===null?K(Fr,Fr.current):K(Fr,n.pool)}function Zm(){var t=Ef();return t===null?null:{parent:Ee._currentValue,pool:t}}var Va=Error(o(460)),Sf=Error(o(474)),oc=Error(o(542)),lc={then:function(){}};function qm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Vm(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(on,on),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Fm(t),t;default:if(typeof n.status=="string")n.then(on,on);else{if(t=Jt,t!==null&&100<t.shellSuspendCounter)throw Error(o(482));t=n,t.status="pending",t.then(function(u){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=u}},function(u){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=u}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Fm(t),t}throw Wr=n,Va}}function Yr(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Wr=a,Va):a}}var Wr=null;function Gm(){if(Wr===null)throw Error(o(459));var t=Wr;return Wr=null,t}function Fm(t){if(t===Va||t===oc)throw Error(o(483))}var Ga=null,hl=0;function uc(t){var n=hl;return hl+=1,Ga===null&&(Ga=[]),Vm(Ga,t,n)}function fl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function cc(t,n){throw n.$$typeof===x?Error(o(525)):(t=Object.prototype.toString.call(n),Error(o(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Ym(t){function n(I,R){if(t){var k=I.deletions;k===null?(I.deletions=[R],I.flags|=16):k.push(R)}}function a(I,R){if(!t)return null;for(;R!==null;)n(I,R),R=R.sibling;return null}function u(I){for(var R=new Map;I!==null;)I.key!==null?R.set(I.key,I):R.set(I.index,I),I=I.sibling;return R}function f(I,R){return I=zn(I,R),I.index=0,I.sibling=null,I}function _(I,R,k){return I.index=k,t?(k=I.alternate,k!==null?(k=k.index,k<R?(I.flags|=67108866,R):k):(I.flags|=67108866,R)):(I.flags|=1048576,R)}function v(I){return t&&I.alternate===null&&(I.flags|=67108866),I}function T(I,R,k,q){return R===null||R.tag!==6?(R=Ba(k,I.mode,q),R.return=I,R):(R=f(R,k),R.return=I,R)}function A(I,R,k,q){var lt=k.type;return lt===tt?Z(I,R,k.props.children,q,k.key):R!==null&&(R.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===Ue&&Yr(lt)===R.type)?(R=f(R,k.props),fl(R,k),R.return=I,R):(R=Zr(k.type,k.key,k.props,null,I.mode,q),fl(R,k),R.return=I,R)}function P(I,R,k,q){return R===null||R.tag!==4||R.stateNode.containerInfo!==k.containerInfo||R.stateNode.implementation!==k.implementation?(R=al(k,I.mode,q),R.return=I,R):(R=f(R,k.children||[]),R.return=I,R)}function Z(I,R,k,q,lt){return R===null||R.tag!==7?(R=Hi(k,I.mode,q,lt),R.return=I,R):(R=f(R,k),R.return=I,R)}function G(I,R,k){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=Ba(""+R,I.mode,k),R.return=I,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case F:return k=Zr(R.type,R.key,R.props,null,I.mode,k),fl(k,R),k.return=I,k;case Y:return R=al(R,I.mode,k),R.return=I,R;case Ue:return R=Yr(R),G(I,R,k)}if(bn(R)||Qt(R))return R=Hi(R,I.mode,k,null),R.return=I,R;if(typeof R.then=="function")return G(I,uc(R),k);if(R.$$typeof===gt)return G(I,rc(I,R),k);cc(I,R)}return null}function U(I,R,k,q){var lt=R!==null?R.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return lt!==null?null:T(I,R,""+k,q);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case F:return k.key===lt?A(I,R,k,q):null;case Y:return k.key===lt?P(I,R,k,q):null;case Ue:return k=Yr(k),U(I,R,k,q)}if(bn(k)||Qt(k))return lt!==null?null:Z(I,R,k,q,null);if(typeof k.then=="function")return U(I,R,uc(k),q);if(k.$$typeof===gt)return U(I,R,rc(I,k),q);cc(I,k)}return null}function B(I,R,k,q,lt){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return I=I.get(k)||null,T(R,I,""+q,lt);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case F:return I=I.get(q.key===null?k:q.key)||null,A(R,I,q,lt);case Y:return I=I.get(q.key===null?k:q.key)||null,P(R,I,q,lt);case Ue:return q=Yr(q),B(I,R,k,q,lt)}if(bn(q)||Qt(q))return I=I.get(k)||null,Z(R,I,q,lt,null);if(typeof q.then=="function")return B(I,R,k,uc(q),lt);if(q.$$typeof===gt)return B(I,R,k,rc(R,q),lt);cc(R,q)}return null}function st(I,R,k,q){for(var lt=null,kt=null,rt=R,bt=R=0,Mt=null;rt!==null&&bt<k.length;bt++){rt.index>bt?(Mt=rt,rt=null):Mt=rt.sibling;var Pt=U(I,rt,k[bt],q);if(Pt===null){rt===null&&(rt=Mt);break}t&&rt&&Pt.alternate===null&&n(I,rt),R=_(Pt,R,bt),kt===null?lt=Pt:kt.sibling=Pt,kt=Pt,rt=Mt}if(bt===k.length)return a(I,rt),At&&ot(I,bt),lt;if(rt===null){for(;bt<k.length;bt++)rt=G(I,k[bt],q),rt!==null&&(R=_(rt,R,bt),kt===null?lt=rt:kt.sibling=rt,kt=rt);return At&&ot(I,bt),lt}for(rt=u(rt);bt<k.length;bt++)Mt=B(rt,I,bt,k[bt],q),Mt!==null&&(t&&Mt.alternate!==null&&rt.delete(Mt.key===null?bt:Mt.key),R=_(Mt,R,bt),kt===null?lt=Mt:kt.sibling=Mt,kt=Mt);return t&&rt.forEach(function(Ws){return n(I,Ws)}),At&&ot(I,bt),lt}function ut(I,R,k,q){if(k==null)throw Error(o(151));for(var lt=null,kt=null,rt=R,bt=R=0,Mt=null,Pt=k.next();rt!==null&&!Pt.done;bt++,Pt=k.next()){rt.index>bt?(Mt=rt,rt=null):Mt=rt.sibling;var Ws=U(I,rt,Pt.value,q);if(Ws===null){rt===null&&(rt=Mt);break}t&&rt&&Ws.alternate===null&&n(I,rt),R=_(Ws,R,bt),kt===null?lt=Ws:kt.sibling=Ws,kt=Ws,rt=Mt}if(Pt.done)return a(I,rt),At&&ot(I,bt),lt;if(rt===null){for(;!Pt.done;bt++,Pt=k.next())Pt=G(I,Pt.value,q),Pt!==null&&(R=_(Pt,R,bt),kt===null?lt=Pt:kt.sibling=Pt,kt=Pt);return At&&ot(I,bt),lt}for(rt=u(rt);!Pt.done;bt++,Pt=k.next())Pt=B(rt,I,bt,Pt.value,q),Pt!==null&&(t&&Pt.alternate!==null&&rt.delete(Pt.key===null?bt:Pt.key),R=_(Pt,R,bt),kt===null?lt=Pt:kt.sibling=Pt,kt=Pt);return t&&rt.forEach(function(PS){return n(I,PS)}),At&&ot(I,bt),lt}function Wt(I,R,k,q){if(typeof k=="object"&&k!==null&&k.type===tt&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case F:t:{for(var lt=k.key;R!==null;){if(R.key===lt){if(lt=k.type,lt===tt){if(R.tag===7){a(I,R.sibling),q=f(R,k.props.children),q.return=I,I=q;break t}}else if(R.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===Ue&&Yr(lt)===R.type){a(I,R.sibling),q=f(R,k.props),fl(q,k),q.return=I,I=q;break t}a(I,R);break}else n(I,R);R=R.sibling}k.type===tt?(q=Hi(k.props.children,I.mode,q,k.key),q.return=I,I=q):(q=Zr(k.type,k.key,k.props,null,I.mode,q),fl(q,k),q.return=I,I=q)}return v(I);case Y:t:{for(lt=k.key;R!==null;){if(R.key===lt)if(R.tag===4&&R.stateNode.containerInfo===k.containerInfo&&R.stateNode.implementation===k.implementation){a(I,R.sibling),q=f(R,k.children||[]),q.return=I,I=q;break t}else{a(I,R);break}else n(I,R);R=R.sibling}q=al(k,I.mode,q),q.return=I,I=q}return v(I);case Ue:return k=Yr(k),Wt(I,R,k,q)}if(bn(k))return st(I,R,k,q);if(Qt(k)){if(lt=Qt(k),typeof lt!="function")throw Error(o(150));return k=lt.call(k),ut(I,R,k,q)}if(typeof k.then=="function")return Wt(I,R,uc(k),q);if(k.$$typeof===gt)return Wt(I,R,rc(I,k),q);cc(I,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,R!==null&&R.tag===6?(a(I,R.sibling),q=f(R,k),q.return=I,I=q):(a(I,R),q=Ba(k,I.mode,q),q.return=I,I=q),v(I)):a(I,R)}return function(I,R,k,q){try{hl=0;var lt=Wt(I,R,k,q);return Ga=null,lt}catch(rt){if(rt===Va||rt===oc)throw rt;var kt=Fe(29,rt,null,I.mode);return kt.lanes=q,kt.return=I,kt}finally{}}}var Kr=Ym(!0),Wm=Ym(!1),Ls=!1;function Tf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ms(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Is(t,n,a){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(Bt&2)!==0){var f=u.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),u.pending=n,n=jr(t),Os(t,null,a),n}return pi(t,u,n,a),jr(t)}function dl(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var u=n.lanes;u&=t.pendingLanes,a|=u,n.lanes=a,Lu(t,a)}}function Cf(t,n){var a=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var f=null,_=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};_===null?f=_=v:_=_.next=v,a=a.next}while(a!==null);_===null?f=_=n:_=_.next=n}else f=_=n;a={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:_,shared:u.shared,callbacks:u.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var xf=!1;function _l(){if(xf){var t=qa;if(t!==null)throw t}}function ml(t,n,a,u){xf=!1;var f=t.updateQueue;Ls=!1;var _=f.firstBaseUpdate,v=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var A=T,P=A.next;A.next=null,v===null?_=P:v.next=P,v=A;var Z=t.alternate;Z!==null&&(Z=Z.updateQueue,T=Z.lastBaseUpdate,T!==v&&(T===null?Z.firstBaseUpdate=P:T.next=P,Z.lastBaseUpdate=A))}if(_!==null){var G=f.baseState;v=0,Z=P=A=null,T=_;do{var U=T.lane&-536870913,B=U!==T.lane;if(B?(Lt&U)===U:(u&U)===U){U!==0&&U===Za&&(xf=!0),Z!==null&&(Z=Z.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var st=t,ut=T;U=n;var Wt=a;switch(ut.tag){case 1:if(st=ut.payload,typeof st=="function"){G=st.call(Wt,G,U);break t}G=st;break t;case 3:st.flags=st.flags&-65537|128;case 0:if(st=ut.payload,U=typeof st=="function"?st.call(Wt,G,U):st,U==null)break t;G=w({},G,U);break t;case 2:Ls=!0}}U=T.callback,U!==null&&(t.flags|=64,B&&(t.flags|=8192),B=f.callbacks,B===null?f.callbacks=[U]:B.push(U))}else B={lane:U,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Z===null?(P=Z=B,A=G):Z=Z.next=B,v|=U;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;B=T,T=B.next,B.next=null,f.lastBaseUpdate=B,f.shared.pending=null}}while(!0);Z===null&&(A=G),f.baseState=A,f.firstBaseUpdate=P,f.lastBaseUpdate=Z,_===null&&(f.shared.lanes=0),Us|=v,t.lanes=v,t.memoizedState=G}}function Km(t,n){if(typeof t!="function")throw Error(o(191,t));t.call(n)}function Qm(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Km(a[t],n)}var Fa=O(null),hc=O(0);function Xm(t,n){t=Xi,K(hc,t),K(Fa,n),Xi=t|n.baseLanes}function Af(){K(hc,Xi),K(Fa,Fa.current)}function Nf(){Xi=hc.current,j(Fa),j(hc)}var Cn=O(null),Un=null;function Ds(t){var n=t.alternate;K(me,me.current&1),K(Cn,t),Un===null&&(n===null||Fa.current!==null||n.memoizedState!==null)&&(Un=t)}function Of(t){K(me,me.current),K(Cn,t),Un===null&&(Un=t)}function Jm(t){t.tag===22?(K(me,me.current),K(Cn,t),Un===null&&(Un=t)):ks()}function ks(){K(me,me.current),K(Cn,Cn.current)}function xn(t){j(Cn),Un===t&&(Un=null),j(me)}var me=O(0);function fc(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||kd(a)||Pd(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var qi=0,vt=null,Ft=null,Se=null,dc=!1,Ya=!1,Qr=!1,_c=0,pl=0,Wa=null,xE=0;function de(){throw Error(o(321))}function Rf(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!Me(t[a],n[a]))return!1;return!0}function Lf(t,n,a,u,f,_){return qi=_,vt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?kp:Ff,Qr=!1,_=a(u,f),Qr=!1,Ya&&(_=tp(n,a,u,f)),$m(t),_}function $m(t){H.H=yl;var n=Ft!==null&&Ft.next!==null;if(qi=0,Se=Ft=vt=null,dc=!1,pl=0,Wa=null,n)throw Error(o(300));t===null||Te||(t=t.dependencies,t!==null&&sc(t)&&(Te=!0))}function tp(t,n,a,u){vt=t;var f=0;do{if(Ya&&(Wa=null),pl=0,Ya=!1,25<=f)throw Error(o(301));if(f+=1,Se=Ft=null,t.updateQueue!=null){var _=t.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}H.H=Pp,_=n(a,u)}while(Ya);return _}function AE(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?gl(n):n,t=t.useState()[0],(Ft!==null?Ft.memoizedState:null)!==t&&(vt.flags|=1024),n}function Mf(){var t=_c!==0;return _c=0,t}function If(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Df(t){if(dc){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}dc=!1}qi=0,Se=Ft=vt=null,Ya=!1,pl=_c=0,Wa=null}function en(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?vt.memoizedState=Se=t:Se=Se.next=t,Se}function pe(){if(Ft===null){var t=vt.alternate;t=t!==null?t.memoizedState:null}else t=Ft.next;var n=Se===null?vt.memoizedState:Se.next;if(n!==null)Se=n,Ft=t;else{if(t===null)throw vt.alternate===null?Error(o(467)):Error(o(310));Ft=t,t={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},Se===null?vt.memoizedState=Se=t:Se=Se.next=t}return Se}function mc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gl(t){var n=pl;return pl+=1,Wa===null&&(Wa=[]),t=Vm(Wa,t,n),n=vt,(Se===null?n.memoizedState:Se.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?kp:Ff),t}function pc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return gl(t);if(t.$$typeof===gt)return je(t)}throw Error(o(438,String(t)))}function kf(t){var n=null,a=vt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var u=vt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(n={data:u.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=mc(),vt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),u=0;u<t;u++)a[u]=Ci;return n.index++,a}function Vi(t,n){return typeof n=="function"?n(t):n}function gc(t){var n=pe();return Pf(n,Ft,t)}function Pf(t,n,a){var u=t.queue;if(u===null)throw Error(o(311));u.lastRenderedReducer=a;var f=t.baseQueue,_=u.pending;if(_!==null){if(f!==null){var v=f.next;f.next=_.next,_.next=v}n.baseQueue=f=_,u.pending=null}if(_=t.baseState,f===null)t.memoizedState=_;else{n=f.next;var T=v=null,A=null,P=n,Z=!1;do{var G=P.lane&-536870913;if(G!==P.lane?(Lt&G)===G:(qi&G)===G){var U=P.revertLane;if(U===0)A!==null&&(A=A.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),G===Za&&(Z=!0);else if((qi&U)===U){P=P.next,U===Za&&(Z=!0);continue}else G={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},A===null?(T=A=G,v=_):A=A.next=G,vt.lanes|=U,Us|=U;G=P.action,Qr&&a(_,G),_=P.hasEagerState?P.eagerState:a(_,G)}else U={lane:G,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},A===null?(T=A=U,v=_):A=A.next=U,vt.lanes|=G,Us|=G;P=P.next}while(P!==null&&P!==n);if(A===null?v=_:A.next=T,!Me(_,t.memoizedState)&&(Te=!0,Z&&(a=qa,a!==null)))throw a;t.memoizedState=_,t.baseState=v,t.baseQueue=A,u.lastRenderedState=_}return f===null&&(u.lanes=0),[t.memoizedState,u.dispatch]}function zf(t){var n=pe(),a=n.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=t;var u=a.dispatch,f=a.pending,_=n.memoizedState;if(f!==null){a.pending=null;var v=f=f.next;do _=t(_,v.action),v=v.next;while(v!==f);Me(_,n.memoizedState)||(Te=!0),n.memoizedState=_,n.baseQueue===null&&(n.baseState=_),a.lastRenderedState=_}return[_,u]}function ep(t,n,a){var u=vt,f=pe(),_=At;if(_){if(a===void 0)throw Error(o(407));a=a()}else a=n();var v=!Me((Ft||f).memoizedState,a);if(v&&(f.memoizedState=a,Te=!0),f=f.queue,Hf(sp.bind(null,u,f,t),[t]),f.getSnapshot!==n||v||Se!==null&&Se.memoizedState.tag&1){if(u.flags|=2048,Ka(9,{destroy:void 0},ip.bind(null,u,f,a,n),null),Jt===null)throw Error(o(349));_||(qi&127)!==0||np(u,n,a)}return a}function np(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=vt.updateQueue,n===null?(n=mc(),vt.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function ip(t,n,a,u){n.value=a,n.getSnapshot=u,rp(n)&&ap(t)}function sp(t,n,a){return a(function(){rp(n)&&ap(t)})}function rp(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!Me(t,a)}catch{return!0}}function ap(t){var n=Pn(t,2);n!==null&&pn(n,t,2)}function Uf(t){var n=en();if(typeof t=="function"){var a=t;if(t=a(),Qr){qn(!0);try{a()}finally{qn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:t},n}function op(t,n,a,u){return t.baseState=a,Pf(t,Ft,typeof u=="function"?u:Vi)}function NE(t,n,a,u,f){if(bc(t))throw Error(o(485));if(t=n.action,t!==null){var _={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){_.listeners.push(v)}};H.T!==null?a(!0):_.isTransition=!1,u(_),a=n.pending,a===null?(_.next=n.pending=_,lp(n,_)):(_.next=a.next,n.pending=a.next=_)}}function lp(t,n){var a=n.action,u=n.payload,f=t.state;if(n.isTransition){var _=H.T,v={};H.T=v;try{var T=a(f,u),A=H.S;A!==null&&A(v,T),up(t,n,T)}catch(P){Bf(t,n,P)}finally{_!==null&&v.types!==null&&(_.types=v.types),H.T=_}}else try{_=a(f,u),up(t,n,_)}catch(P){Bf(t,n,P)}}function up(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(u){cp(t,n,u)},function(u){return Bf(t,n,u)}):cp(t,n,a)}function cp(t,n,a){n.status="fulfilled",n.value=a,hp(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,lp(t,a)))}function Bf(t,n,a){var u=t.pending;if(t.pending=null,u!==null){u=u.next;do n.status="rejected",n.reason=a,hp(n),n=n.next;while(n!==u)}t.action=null}function hp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function fp(t,n){return n}function dp(t,n){if(At){var a=Jt.formState;if(a!==null){t:{var u=vt;if(At){if(Dt){e:{for(var f=Dt,_=hn;f.nodeType!==8;){if(!_){f=null;break e}if(f=Bn(f.nextSibling),f===null){f=null;break e}}_=f.data,f=_==="F!"||_==="F"?f:null}if(f){Dt=Bn(f.nextSibling),u=f.data==="F!";break t}}vi(u)}u=!1}u&&(n=a[0])}}return a=en(),a.memoizedState=a.baseState=n,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fp,lastRenderedState:n},a.queue=u,a=Mp.bind(null,vt,u),u.dispatch=a,u=Uf(!1),_=Gf.bind(null,vt,!1,u.queue),u=en(),f={state:n,dispatch:null,action:t,pending:null},u.queue=f,a=NE.bind(null,vt,f,_,a),f.dispatch=a,u.memoizedState=t,[n,a,!1]}function _p(t){var n=pe();return mp(n,Ft,t)}function mp(t,n,a){if(n=Pf(t,n,fp)[0],t=gc(Vi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var u=gl(n)}catch(v){throw v===Va?oc:v}else u=n;n=pe();var f=n.queue,_=f.dispatch;return a!==n.memoizedState&&(vt.flags|=2048,Ka(9,{destroy:void 0},OE.bind(null,f,a),null)),[u,_,t]}function OE(t,n){t.action=n}function pp(t){var n=pe(),a=Ft;if(a!==null)return mp(n,a,t);pe(),n=n.memoizedState,a=pe();var u=a.queue.dispatch;return a.memoizedState=t,[n,u,!1]}function Ka(t,n,a,u){return t={tag:t,create:a,deps:u,inst:n,next:null},n=vt.updateQueue,n===null&&(n=mc(),vt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(u=a.next,a.next=t,t.next=u,n.lastEffect=t),t}function gp(){return pe().memoizedState}function vc(t,n,a,u){var f=en();vt.flags|=t,f.memoizedState=Ka(1|n,{destroy:void 0},a,u===void 0?null:u)}function yc(t,n,a,u){var f=pe();u=u===void 0?null:u;var _=f.memoizedState.inst;Ft!==null&&u!==null&&Rf(u,Ft.memoizedState.deps)?f.memoizedState=Ka(n,_,a,u):(vt.flags|=t,f.memoizedState=Ka(1|n,_,a,u))}function vp(t,n){vc(8390656,8,t,n)}function Hf(t,n){yc(2048,8,t,n)}function RE(t){vt.flags|=4;var n=vt.updateQueue;if(n===null)n=mc(),vt.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function yp(t){var n=pe().memoizedState;return RE({ref:n,nextImpl:t}),function(){if((Bt&2)!==0)throw Error(o(440));return n.impl.apply(void 0,arguments)}}function bp(t,n){return yc(4,2,t,n)}function Ep(t,n){return yc(4,4,t,n)}function Sp(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Tp(t,n,a){a=a!=null?a.concat([t]):null,yc(4,4,Sp.bind(null,n,t),a)}function jf(){}function wp(t,n){var a=pe();n=n===void 0?null:n;var u=a.memoizedState;return n!==null&&Rf(n,u[1])?u[0]:(a.memoizedState=[t,n],t)}function Cp(t,n){var a=pe();n=n===void 0?null:n;var u=a.memoizedState;if(n!==null&&Rf(n,u[1]))return u[0];if(u=t(),Qr){qn(!0);try{t()}finally{qn(!1)}}return a.memoizedState=[u,n],u}function Zf(t,n,a){return a===void 0||(qi&1073741824)!==0&&(Lt&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=xg(),vt.lanes|=t,Us|=t,a)}function xp(t,n,a,u){return Me(a,n)?a:Fa.current!==null?(t=Zf(t,a,u),Me(t,n)||(Te=!0),t):(qi&42)===0||(qi&1073741824)!==0&&(Lt&261930)===0?(Te=!0,t.memoizedState=a):(t=xg(),vt.lanes|=t,Us|=t,n)}function Ap(t,n,a,u,f){var _=$.p;$.p=_!==0&&8>_?_:8;var v=H.T,T={};H.T=T,Gf(t,!1,n,a);try{var A=f(),P=H.S;if(P!==null&&P(T,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var Z=CE(A,u);vl(t,n,Z,On(t))}else vl(t,n,u,On(t))}catch(G){vl(t,n,{then:function(){},status:"rejected",reason:G},On())}finally{$.p=_,v!==null&&T.types!==null&&(v.types=T.types),H.T=v}}function LE(){}function qf(t,n,a,u){if(t.tag!==5)throw Error(o(476));var f=Np(t).queue;Ap(t,f,n,W,a===null?LE:function(){return Op(t),a(u)})}function Np(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:W},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Op(t){var n=Np(t);n.next===null&&(n=t.alternate.memoizedState),vl(t,n.next.queue,{},On())}function Vf(){return je(kl)}function Rp(){return pe().memoizedState}function Lp(){return pe().memoizedState}function ME(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=On();t=Ms(a);var u=Is(n,t,a);u!==null&&(pn(u,n,a),dl(u,n,a)),n={cache:yf()},t.payload=n;return}n=n.return}}function IE(t,n,a){var u=On();a={lane:u,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},bc(t)?Ip(n,a):(a=il(t,n,a,u),a!==null&&(pn(a,t,u),Dp(a,n,u)))}function Mp(t,n,a){var u=On();vl(t,n,a,u)}function vl(t,n,a,u){var f={lane:u,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(bc(t))Ip(n,f);else{var _=t.alternate;if(t.lanes===0&&(_===null||_.lanes===0)&&(_=n.lastRenderedReducer,_!==null))try{var v=n.lastRenderedState,T=_(v,a);if(f.hasEagerState=!0,f.eagerState=T,Me(T,v))return pi(t,n,f,0),Jt===null&&Hr(),!1}catch{}finally{}if(a=il(t,n,f,u),a!==null)return pn(a,t,u),Dp(a,n,u),!0}return!1}function Gf(t,n,a,u){if(u={lane:2,revertLane:Td(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},bc(t)){if(n)throw Error(o(479))}else n=il(t,a,u,2),n!==null&&pn(n,t,2)}function bc(t){var n=t.alternate;return t===vt||n!==null&&n===vt}function Ip(t,n){Ya=dc=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function Dp(t,n,a){if((a&4194048)!==0){var u=n.lanes;u&=t.pendingLanes,a|=u,n.lanes=a,Lu(t,a)}}var yl={readContext:je,use:pc,useCallback:de,useContext:de,useEffect:de,useImperativeHandle:de,useLayoutEffect:de,useInsertionEffect:de,useMemo:de,useReducer:de,useRef:de,useState:de,useDebugValue:de,useDeferredValue:de,useTransition:de,useSyncExternalStore:de,useId:de,useHostTransitionStatus:de,useFormState:de,useActionState:de,useOptimistic:de,useMemoCache:de,useCacheRefresh:de};yl.useEffectEvent=de;var kp={readContext:je,use:pc,useCallback:function(t,n){return en().memoizedState=[t,n===void 0?null:n],t},useContext:je,useEffect:vp,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,vc(4194308,4,Sp.bind(null,n,t),a)},useLayoutEffect:function(t,n){return vc(4194308,4,t,n)},useInsertionEffect:function(t,n){vc(4,2,t,n)},useMemo:function(t,n){var a=en();n=n===void 0?null:n;var u=t();if(Qr){qn(!0);try{t()}finally{qn(!1)}}return a.memoizedState=[u,n],u},useReducer:function(t,n,a){var u=en();if(a!==void 0){var f=a(n);if(Qr){qn(!0);try{a(n)}finally{qn(!1)}}}else f=n;return u.memoizedState=u.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},u.queue=t,t=t.dispatch=IE.bind(null,vt,t),[u.memoizedState,t]},useRef:function(t){var n=en();return t={current:t},n.memoizedState=t},useState:function(t){t=Uf(t);var n=t.queue,a=Mp.bind(null,vt,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:jf,useDeferredValue:function(t,n){var a=en();return Zf(a,t,n)},useTransition:function(){var t=Uf(!1);return t=Ap.bind(null,vt,t.queue,!0,!1),en().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var u=vt,f=en();if(At){if(a===void 0)throw Error(o(407));a=a()}else{if(a=n(),Jt===null)throw Error(o(349));(Lt&127)!==0||np(u,n,a)}f.memoizedState=a;var _={value:a,getSnapshot:n};return f.queue=_,vp(sp.bind(null,u,_,t),[t]),u.flags|=2048,Ka(9,{destroy:void 0},ip.bind(null,u,_,a,n),null),a},useId:function(){var t=en(),n=Jt.identifierPrefix;if(At){var a=J,u=V;a=(u&~(1<<32-Je(u)-1)).toString(32)+a,n="_"+n+"R_"+a,a=_c++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=xE++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Vf,useFormState:dp,useActionState:dp,useOptimistic:function(t){var n=en();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Gf.bind(null,vt,!0,a),a.dispatch=n,[t,n]},useMemoCache:kf,useCacheRefresh:function(){return en().memoizedState=ME.bind(null,vt)},useEffectEvent:function(t){var n=en(),a={impl:t};return n.memoizedState=a,function(){if((Bt&2)!==0)throw Error(o(440));return a.impl.apply(void 0,arguments)}}},Ff={readContext:je,use:pc,useCallback:wp,useContext:je,useEffect:Hf,useImperativeHandle:Tp,useInsertionEffect:bp,useLayoutEffect:Ep,useMemo:Cp,useReducer:gc,useRef:gp,useState:function(){return gc(Vi)},useDebugValue:jf,useDeferredValue:function(t,n){var a=pe();return xp(a,Ft.memoizedState,t,n)},useTransition:function(){var t=gc(Vi)[0],n=pe().memoizedState;return[typeof t=="boolean"?t:gl(t),n]},useSyncExternalStore:ep,useId:Rp,useHostTransitionStatus:Vf,useFormState:_p,useActionState:_p,useOptimistic:function(t,n){var a=pe();return op(a,Ft,t,n)},useMemoCache:kf,useCacheRefresh:Lp};Ff.useEffectEvent=yp;var Pp={readContext:je,use:pc,useCallback:wp,useContext:je,useEffect:Hf,useImperativeHandle:Tp,useInsertionEffect:bp,useLayoutEffect:Ep,useMemo:Cp,useReducer:zf,useRef:gp,useState:function(){return zf(Vi)},useDebugValue:jf,useDeferredValue:function(t,n){var a=pe();return Ft===null?Zf(a,t,n):xp(a,Ft.memoizedState,t,n)},useTransition:function(){var t=zf(Vi)[0],n=pe().memoizedState;return[typeof t=="boolean"?t:gl(t),n]},useSyncExternalStore:ep,useId:Rp,useHostTransitionStatus:Vf,useFormState:pp,useActionState:pp,useOptimistic:function(t,n){var a=pe();return Ft!==null?op(a,Ft,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:kf,useCacheRefresh:Lp};Pp.useEffectEvent=yp;function Yf(t,n,a,u){n=t.memoizedState,a=a(u,n),a=a==null?n:w({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Wf={enqueueSetState:function(t,n,a){t=t._reactInternals;var u=On(),f=Ms(u);f.payload=n,a!=null&&(f.callback=a),n=Is(t,f,u),n!==null&&(pn(n,t,u),dl(n,t,u))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var u=On(),f=Ms(u);f.tag=1,f.payload=n,a!=null&&(f.callback=a),n=Is(t,f,u),n!==null&&(pn(n,t,u),dl(n,t,u))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=On(),u=Ms(a);u.tag=2,n!=null&&(u.callback=n),n=Is(t,u,a),n!==null&&(pn(n,t,a),dl(n,t,a))}};function zp(t,n,a,u,f,_,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,_,v):n.prototype&&n.prototype.isPureReactComponent?!Cs(a,u)||!Cs(f,_):!0}function Up(t,n,a,u){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,u),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,u),n.state!==t&&Wf.enqueueReplaceState(n,n.state,null)}function Xr(t,n){var a=n;if("ref"in n){a={};for(var u in n)u!=="ref"&&(a[u]=n[u])}if(t=t.defaultProps){a===n&&(a=w({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function Bp(t){Br(t)}function Hp(t){console.error(t)}function jp(t){Br(t)}function Ec(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(u){setTimeout(function(){throw u})}}function Zp(t,n,a){try{var u=t.onCaughtError;u(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Kf(t,n,a){return a=Ms(a),a.tag=3,a.payload={element:null},a.callback=function(){Ec(t,n)},a}function qp(t){return t=Ms(t),t.tag=3,t}function Vp(t,n,a,u){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var _=u.value;t.payload=function(){return f(_)},t.callback=function(){Zp(n,a,u)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Zp(n,a,u),typeof f!="function"&&(Bs===null?Bs=new Set([this]):Bs.add(this));var T=u.stack;this.componentDidCatch(u.value,{componentStack:T!==null?T:""})})}function DE(t,n,a,u,f){if(a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(n=a.alternate,n!==null&&ja(n,a,f,!0),a=Cn.current,a!==null){switch(a.tag){case 31:case 13:return Un===null?Ic():a.alternate===null&&_e===0&&(_e=3),a.flags&=-257,a.flags|=65536,a.lanes=f,u===lc?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([u]):n.add(u),bd(t,u,f)),!1;case 22:return a.flags|=65536,u===lc?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([u])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([u]):a.add(u)),bd(t,u,f)),!1}throw Error(o(435,a.tag))}return bd(t,u,f),Ic(),!1}if(At)return n=Cn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,u!==Ha&&(t=Error(o(422),{cause:u}),qr(l(t,a)))):(u!==Ha&&(n=Error(o(423),{cause:u}),qr(l(n,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,u=l(u,a),f=Kf(t.stateNode,u,f),Cf(t,f),_e!==4&&(_e=2)),!1;var _=Error(o(520),{cause:u});if(_=l(_,a),Al===null?Al=[_]:Al.push(_),_e!==4&&(_e=2),n===null)return!0;u=l(u,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=Kf(a.stateNode,u,t),Cf(a,t),!1;case 1:if(n=a.type,_=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Bs===null||!Bs.has(_))))return a.flags|=65536,f&=-f,a.lanes|=f,f=qp(f),Vp(f,t,a,u),Cf(a,f),!1}a=a.return}while(a!==null);return!1}var Qf=Error(o(461)),Te=!1;function Ze(t,n,a,u){n.child=t===null?Wm(n,null,a,u):Kr(n,t.child,a,u)}function Gp(t,n,a,u,f){a=a.render;var _=n.ref;if("ref"in u){var v={};for(var T in u)T!=="ref"&&(v[T]=u[T])}else v=u;return Gr(n),u=Lf(t,n,a,v,_,f),T=Mf(),t!==null&&!Te?(If(t,n,f),Gi(t,n,f)):(At&&T&&Ne(n),n.flags|=1,Ze(t,n,u,f),n.child)}function Fp(t,n,a,u,f){if(t===null){var _=a.type;return typeof _=="function"&&!Ua(_)&&_.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=_,Yp(t,n,_,u,f)):(t=Zr(a.type,null,u,n,n.mode,f),t.ref=n.ref,t.return=n,n.child=t)}if(_=t.child,!sd(t,f)){var v=_.memoizedProps;if(a=a.compare,a=a!==null?a:Cs,a(v,u)&&t.ref===n.ref)return Gi(t,n,f)}return n.flags|=1,t=zn(_,u),t.ref=n.ref,t.return=n,n.child=t}function Yp(t,n,a,u,f){if(t!==null){var _=t.memoizedProps;if(Cs(_,u)&&t.ref===n.ref)if(Te=!1,n.pendingProps=u=_,sd(t,f))(t.flags&131072)!==0&&(Te=!0);else return n.lanes=t.lanes,Gi(t,n,f)}return Xf(t,n,a,u,f)}function Wp(t,n,a,u){var f=u.children,_=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((n.flags&128)!==0){if(_=_!==null?_.baseLanes|a:a,t!==null){for(u=n.child=t.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;u=f&~_}else u=0,n.child=null;return Kp(t,n,_,a,u)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&ac(n,_!==null?_.cachePool:null),_!==null?Xm(n,_):Af(),Jm(n);else return u=n.lanes=536870912,Kp(t,n,_!==null?_.baseLanes|a:a,a,u)}else _!==null?(ac(n,_.cachePool),Xm(n,_),ks(),n.memoizedState=null):(t!==null&&ac(n,null),Af(),ks());return Ze(t,n,f,a),n.child}function bl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Kp(t,n,a,u,f){var _=Ef();return _=_===null?null:{parent:Ee._currentValue,pool:_},n.memoizedState={baseLanes:a,cachePool:_},t!==null&&ac(n,null),Af(),Jm(n),t!==null&&ja(t,n,u,!0),n.childLanes=f,null}function Sc(t,n){return n=wc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Qp(t,n,a){return Kr(n,t.child,null,a),t=Sc(n,n.pendingProps),t.flags|=2,xn(n),n.memoizedState=null,t}function kE(t,n,a){var u=n.pendingProps,f=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(At){if(u.mode==="hidden")return t=Sc(n,u),n.lanes=536870912,bl(null,t);if(Of(n),(t=Dt)?(t=lv(t,hn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:z!==null?{id:V,overflow:J}:null,retryLane:536870912,hydrationErrors:null},a=rl(t),a.return=n,n.child=a,It=n,Dt=null)):t=null,t===null)throw vi(n);return n.lanes=536870912,null}return Sc(n,u)}var _=t.memoizedState;if(_!==null){var v=_.dehydrated;if(Of(n),f)if(n.flags&256)n.flags&=-257,n=Qp(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(o(558));else if(Te||ja(t,n,a,!1),f=(a&t.childLanes)!==0,Te||f){if(u=Jt,u!==null&&(v=Mu(u,a),v!==0&&v!==_.retryLane))throw _.retryLane=v,Pn(t,v),pn(u,t,v),Qf;Ic(),n=Qp(t,n,a)}else t=_.treeContext,Dt=Bn(v.nextSibling),It=n,At=!0,gi=null,hn=!1,t!==null&&tn(n,t),n=Sc(n,u),n.flags|=4096;return n}return t=zn(t.child,{mode:u.mode,children:u.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Tc(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(o(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Xf(t,n,a,u,f){return Gr(n),a=Lf(t,n,a,u,void 0,f),u=Mf(),t!==null&&!Te?(If(t,n,f),Gi(t,n,f)):(At&&u&&Ne(n),n.flags|=1,Ze(t,n,a,f),n.child)}function Xp(t,n,a,u,f,_){return Gr(n),n.updateQueue=null,a=tp(n,u,a,f),$m(t),u=Mf(),t!==null&&!Te?(If(t,n,_),Gi(t,n,_)):(At&&u&&Ne(n),n.flags|=1,Ze(t,n,a,_),n.child)}function Jp(t,n,a,u,f){if(Gr(n),n.stateNode===null){var _=Bi,v=a.contextType;typeof v=="object"&&v!==null&&(_=je(v)),_=new a(u,_),n.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=Wf,n.stateNode=_,_._reactInternals=n,_=n.stateNode,_.props=u,_.state=n.memoizedState,_.refs={},Tf(n),v=a.contextType,_.context=typeof v=="object"&&v!==null?je(v):Bi,_.state=n.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Yf(n,a,v,u),_.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(v=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),v!==_.state&&Wf.enqueueReplaceState(_,_.state,null),ml(n,u,_,f),_l(),_.state=n.memoizedState),typeof _.componentDidMount=="function"&&(n.flags|=4194308),u=!0}else if(t===null){_=n.stateNode;var T=n.memoizedProps,A=Xr(a,T);_.props=A;var P=_.context,Z=a.contextType;v=Bi,typeof Z=="object"&&Z!==null&&(v=je(Z));var G=a.getDerivedStateFromProps;Z=typeof G=="function"||typeof _.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,Z||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(T||P!==v)&&Up(n,_,u,v),Ls=!1;var U=n.memoizedState;_.state=U,ml(n,u,_,f),_l(),P=n.memoizedState,T||U!==P||Ls?(typeof G=="function"&&(Yf(n,a,G,u),P=n.memoizedState),(A=Ls||zp(n,a,A,u,U,P,v))?(Z||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(n.flags|=4194308)):(typeof _.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=u,n.memoizedState=P),_.props=u,_.state=P,_.context=v,u=A):(typeof _.componentDidMount=="function"&&(n.flags|=4194308),u=!1)}else{_=n.stateNode,wf(t,n),v=n.memoizedProps,Z=Xr(a,v),_.props=Z,G=n.pendingProps,U=_.context,P=a.contextType,A=Bi,typeof P=="object"&&P!==null&&(A=je(P)),T=a.getDerivedStateFromProps,(P=typeof T=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(v!==G||U!==A)&&Up(n,_,u,A),Ls=!1,U=n.memoizedState,_.state=U,ml(n,u,_,f),_l();var B=n.memoizedState;v!==G||U!==B||Ls||t!==null&&t.dependencies!==null&&sc(t.dependencies)?(typeof T=="function"&&(Yf(n,a,T,u),B=n.memoizedState),(Z=Ls||zp(n,a,Z,u,U,B,A)||t!==null&&t.dependencies!==null&&sc(t.dependencies))?(P||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(u,B,A),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(u,B,A)),typeof _.componentDidUpdate=="function"&&(n.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof _.componentDidUpdate!="function"||v===t.memoizedProps&&U===t.memoizedState||(n.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&U===t.memoizedState||(n.flags|=1024),n.memoizedProps=u,n.memoizedState=B),_.props=u,_.state=B,_.context=A,u=Z):(typeof _.componentDidUpdate!="function"||v===t.memoizedProps&&U===t.memoizedState||(n.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&U===t.memoizedState||(n.flags|=1024),u=!1)}return _=u,Tc(t,n),u=(n.flags&128)!==0,_||u?(_=n.stateNode,a=u&&typeof a.getDerivedStateFromError!="function"?null:_.render(),n.flags|=1,t!==null&&u?(n.child=Kr(n,t.child,null,f),n.child=Kr(n,null,a,f)):Ze(t,n,a,f),n.memoizedState=_.state,t=n.child):t=Gi(t,n,f),t}function $p(t,n,a,u){return ji(),n.flags|=256,Ze(t,n,a,u),n.child}var Jf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $f(t){return{baseLanes:t,cachePool:Zm()}}function td(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Nn),t}function tg(t,n,a){var u=n.pendingProps,f=!1,_=(n.flags&128)!==0,v;if((v=_)||(v=t!==null&&t.memoizedState===null?!1:(me.current&2)!==0),v&&(f=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,t===null){if(At){if(f?Ds(n):ks(),(t=Dt)?(t=lv(t,hn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:z!==null?{id:V,overflow:J}:null,retryLane:536870912,hydrationErrors:null},a=rl(t),a.return=n,n.child=a,It=n,Dt=null)):t=null,t===null)throw vi(n);return Pd(t)?n.lanes=32:n.lanes=536870912,null}var T=u.children;return u=u.fallback,f?(ks(),f=n.mode,T=wc({mode:"hidden",children:T},f),u=Hi(u,f,a,null),T.return=n,u.return=n,T.sibling=u,n.child=T,u=n.child,u.memoizedState=$f(a),u.childLanes=td(t,v,a),n.memoizedState=Jf,bl(null,u)):(Ds(n),ed(n,T))}var A=t.memoizedState;if(A!==null&&(T=A.dehydrated,T!==null)){if(_)n.flags&256?(Ds(n),n.flags&=-257,n=nd(t,n,a)):n.memoizedState!==null?(ks(),n.child=t.child,n.flags|=128,n=null):(ks(),T=u.fallback,f=n.mode,u=wc({mode:"visible",children:u.children},f),T=Hi(T,f,a,null),T.flags|=2,u.return=n,T.return=n,u.sibling=T,n.child=u,Kr(n,t.child,null,a),u=n.child,u.memoizedState=$f(a),u.childLanes=td(t,v,a),n.memoizedState=Jf,n=bl(null,u));else if(Ds(n),Pd(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var P=v.dgst;v=P,u=Error(o(419)),u.stack="",u.digest=v,qr({value:u,source:null,stack:null}),n=nd(t,n,a)}else if(Te||ja(t,n,a,!1),v=(a&t.childLanes)!==0,Te||v){if(v=Jt,v!==null&&(u=Mu(v,a),u!==0&&u!==A.retryLane))throw A.retryLane=u,Pn(t,u),pn(v,t,u),Qf;kd(T)||Ic(),n=nd(t,n,a)}else kd(T)?(n.flags|=192,n.child=t.child,n=null):(t=A.treeContext,Dt=Bn(T.nextSibling),It=n,At=!0,gi=null,hn=!1,t!==null&&tn(n,t),n=ed(n,u.children),n.flags|=4096);return n}return f?(ks(),T=u.fallback,f=n.mode,A=t.child,P=A.sibling,u=zn(A,{mode:"hidden",children:u.children}),u.subtreeFlags=A.subtreeFlags&65011712,P!==null?T=zn(P,T):(T=Hi(T,f,a,null),T.flags|=2),T.return=n,u.return=n,u.sibling=T,n.child=u,bl(null,u),u=n.child,T=t.child.memoizedState,T===null?T=$f(a):(f=T.cachePool,f!==null?(A=Ee._currentValue,f=f.parent!==A?{parent:A,pool:A}:f):f=Zm(),T={baseLanes:T.baseLanes|a,cachePool:f}),u.memoizedState=T,u.childLanes=td(t,v,a),n.memoizedState=Jf,bl(t.child,u)):(Ds(n),a=t.child,t=a.sibling,a=zn(a,{mode:"visible",children:u.children}),a.return=n,a.sibling=null,t!==null&&(v=n.deletions,v===null?(n.deletions=[t],n.flags|=16):v.push(t)),n.child=a,n.memoizedState=null,a)}function ed(t,n){return n=wc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function wc(t,n){return t=Fe(22,t,null,n),t.lanes=0,t}function nd(t,n,a){return Kr(n,t.child,null,a),t=ed(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function eg(t,n,a){t.lanes|=n;var u=t.alternate;u!==null&&(u.lanes|=n),gf(t.return,n,a)}function id(t,n,a,u,f,_){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:f,treeForkCount:_}:(v.isBackwards=n,v.rendering=null,v.renderingStartTime=0,v.last=u,v.tail=a,v.tailMode=f,v.treeForkCount=_)}function ng(t,n,a){var u=n.pendingProps,f=u.revealOrder,_=u.tail;u=u.children;var v=me.current,T=(v&2)!==0;if(T?(v=v&1|2,n.flags|=128):v&=1,K(me,v),Ze(t,n,u,a),u=At?S:0,!T&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&eg(t,a,n);else if(t.tag===19)eg(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=n.child,f=null;a!==null;)t=a.alternate,t!==null&&fc(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=n.child,n.child=null):(f=a.sibling,a.sibling=null),id(n,!1,f,a,_,u);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=n.child,n.child=null;f!==null;){if(t=f.alternate,t!==null&&fc(t)===null){n.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}id(n,!0,a,null,_,u);break;case"together":id(n,!1,null,null,void 0,u);break;default:n.memoizedState=null}return n.child}function Gi(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Us|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(ja(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(o(153));if(n.child!==null){for(t=n.child,a=zn(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=zn(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function sd(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&sc(t)))}function PE(t,n,a){switch(n.tag){case 3:re(n,n.stateNode.containerInfo),Rs(n,Ee,t.memoizedState.cache),ji();break;case 27:case 5:Ai(n);break;case 4:re(n,n.stateNode.containerInfo);break;case 10:Rs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Of(n),null;break;case 13:var u=n.memoizedState;if(u!==null)return u.dehydrated!==null?(Ds(n),n.flags|=128,null):(a&n.child.childLanes)!==0?tg(t,n,a):(Ds(n),t=Gi(t,n,a),t!==null?t.sibling:null);Ds(n);break;case 19:var f=(t.flags&128)!==0;if(u=(a&n.childLanes)!==0,u||(ja(t,n,a,!1),u=(a&n.childLanes)!==0),f){if(u)return ng(t,n,a);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),K(me,me.current),u)break;return null;case 22:return n.lanes=0,Wp(t,n,a,n.pendingProps);case 24:Rs(n,Ee,t.memoizedState.cache)}return Gi(t,n,a)}function ig(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Te=!0;else{if(!sd(t,a)&&(n.flags&128)===0)return Te=!1,PE(t,n,a);Te=(t.flags&131072)!==0}else Te=!1,At&&(n.flags&1048576)!==0&&yt(n,S,n.index);switch(n.lanes=0,n.tag){case 16:t:{var u=n.pendingProps;if(t=Yr(n.elementType),n.type=t,typeof t=="function")Ua(t)?(u=Xr(t,u),n.tag=1,n=Jp(null,n,t,u,a)):(n.tag=0,n=Xf(null,n,t,u,a));else{if(t!=null){var f=t.$$typeof;if(f===ve){n.tag=11,n=Gp(null,n,t,u,a);break t}else if(f===wt){n.tag=14,n=Fp(null,n,t,u,a);break t}}throw n=xe(t)||t,Error(o(306,n,""))}}return n;case 0:return Xf(t,n,n.type,n.pendingProps,a);case 1:return u=n.type,f=Xr(u,n.pendingProps),Jp(t,n,u,f,a);case 3:t:{if(re(n,n.stateNode.containerInfo),t===null)throw Error(o(387));u=n.pendingProps;var _=n.memoizedState;f=_.element,wf(t,n),ml(n,u,null,a);var v=n.memoizedState;if(u=v.cache,Rs(n,Ee,u),u!==_.cache&&vf(n,[Ee],a,!0),_l(),u=v.element,_.isDehydrated)if(_={element:u,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=_,n.memoizedState=_,n.flags&256){n=$p(t,n,u,a);break t}else if(u!==f){f=l(Error(o(424)),n),qr(f),n=$p(t,n,u,a);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Dt=Bn(t.firstChild),It=n,At=!0,gi=null,hn=!0,a=Wm(n,null,u,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ji(),u===f){n=Gi(t,n,a);break t}Ze(t,n,u,a)}n=n.child}return n;case 26:return Tc(t,n),t===null?(a=_v(n.type,null,n.pendingProps,null))?n.memoizedState=a:At||(a=n.type,t=n.pendingProps,u=Hc(nt.current).createElement(a),u[ye]=n,u[Le]=t,qe(u,a,t),be(u),n.stateNode=u):n.memoizedState=_v(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ai(n),t===null&&At&&(u=n.stateNode=hv(n.type,n.pendingProps,nt.current),It=n,hn=!0,f=Dt,qs(n.type)?(zd=f,Dt=Bn(u.firstChild)):Dt=f),Ze(t,n,n.pendingProps.children,a),Tc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&At&&((f=u=Dt)&&(u=fS(u,n.type,n.pendingProps,hn),u!==null?(n.stateNode=u,It=n,Dt=Bn(u.firstChild),hn=!1,f=!0):f=!1),f||vi(n)),Ai(n),f=n.type,_=n.pendingProps,v=t!==null?t.memoizedProps:null,u=_.children,Md(f,_)?u=null:v!==null&&Md(f,v)&&(n.flags|=32),n.memoizedState!==null&&(f=Lf(t,n,AE,null,null,a),kl._currentValue=f),Tc(t,n),Ze(t,n,u,a),n.child;case 6:return t===null&&At&&((t=a=Dt)&&(a=dS(a,n.pendingProps,hn),a!==null?(n.stateNode=a,It=n,Dt=null,t=!0):t=!1),t||vi(n)),null;case 13:return tg(t,n,a);case 4:return re(n,n.stateNode.containerInfo),u=n.pendingProps,t===null?n.child=Kr(n,null,u,a):Ze(t,n,u,a),n.child;case 11:return Gp(t,n,n.type,n.pendingProps,a);case 7:return Ze(t,n,n.pendingProps,a),n.child;case 8:return Ze(t,n,n.pendingProps.children,a),n.child;case 12:return Ze(t,n,n.pendingProps.children,a),n.child;case 10:return u=n.pendingProps,Rs(n,n.type,u.value),Ze(t,n,u.children,a),n.child;case 9:return f=n.type._context,u=n.pendingProps.children,Gr(n),f=je(f),u=u(f),n.flags|=1,Ze(t,n,u,a),n.child;case 14:return Fp(t,n,n.type,n.pendingProps,a);case 15:return Yp(t,n,n.type,n.pendingProps,a);case 19:return ng(t,n,a);case 31:return kE(t,n,a);case 22:return Wp(t,n,a,n.pendingProps);case 24:return Gr(n),u=je(Ee),t===null?(f=Ef(),f===null&&(f=Jt,_=yf(),f.pooledCache=_,_.refCount++,_!==null&&(f.pooledCacheLanes|=a),f=_),n.memoizedState={parent:u,cache:f},Tf(n),Rs(n,Ee,f)):((t.lanes&a)!==0&&(wf(t,n),ml(n,null,null,a),_l()),f=t.memoizedState,_=n.memoizedState,f.parent!==u?(f={parent:u,cache:u},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),Rs(n,Ee,u)):(u=_.cache,Rs(n,Ee,u),u!==f.cache&&vf(n,[Ee],a,!0))),Ze(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(o(156,n.tag))}function Fi(t){t.flags|=4}function rd(t,n,a,u,f){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(Rg())t.flags|=8192;else throw Wr=lc,Sf}else t.flags&=-16777217}function sg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!yv(n))if(Rg())t.flags|=8192;else throw Wr=lc,Sf}function Cc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Ou():536870912,t.lanes|=n,$a|=n)}function El(t,n){if(!At)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function ie(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,u=0;if(n)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=u,t.childLanes=a,n}function zE(t,n,a){var u=n.pendingProps;switch(fe(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(n),null;case 1:return ie(n),null;case 3:return a=n.stateNode,u=null,t!==null&&(u=t.memoizedState.cache),n.memoizedState.cache!==u&&(n.flags|=2048),Zi(Ee),ae(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Qn(n)?Fi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,ll())),ie(n),null;case 26:var f=n.type,_=n.memoizedState;return t===null?(Fi(n),_!==null?(ie(n),sg(n,_)):(ie(n),rd(n,f,null,u,a))):_?_!==t.memoizedState?(Fi(n),ie(n),sg(n,_)):(ie(n),n.flags&=-16777217):(t=t.memoizedProps,t!==u&&Fi(n),ie(n),rd(n,f,t,u,a)),null;case 27:if(cs(n),a=nt.current,f=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==u&&Fi(n);else{if(!u){if(n.stateNode===null)throw Error(o(166));return ie(n),null}t=X.current,Qn(n)?ol(n):(t=hv(f,u,a),n.stateNode=t,Fi(n))}return ie(n),null;case 5:if(cs(n),f=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==u&&Fi(n);else{if(!u){if(n.stateNode===null)throw Error(o(166));return ie(n),null}if(_=X.current,Qn(n))ol(n);else{var v=Hc(nt.current);switch(_){case 1:_=v.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:_=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":_=v.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":_=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":_=v.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof u.is=="string"?v.createElement("select",{is:u.is}):v.createElement("select"),u.multiple?_.multiple=!0:u.size&&(_.size=u.size);break;default:_=typeof u.is=="string"?v.createElement(f,{is:u.is}):v.createElement(f)}}_[ye]=n,_[Le]=u;t:for(v=n.child;v!==null;){if(v.tag===5||v.tag===6)_.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===n)break t;for(;v.sibling===null;){if(v.return===null||v.return===n)break t;v=v.return}v.sibling.return=v.return,v=v.sibling}n.stateNode=_;t:switch(qe(_,f,u),f){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break t;case"img":u=!0;break t;default:u=!1}u&&Fi(n)}}return ie(n),rd(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==u&&Fi(n);else{if(typeof u!="string"&&n.stateNode===null)throw Error(o(166));if(t=nt.current,Qn(n)){if(t=n.stateNode,a=n.memoizedProps,u=null,f=It,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}t[ye]=n,t=!!(t.nodeValue===a||u!==null&&u.suppressHydrationWarning===!0||tv(t.nodeValue,a)),t||vi(n,!0)}else t=Hc(t).createTextNode(u),t[ye]=n,n.stateNode=t}return ie(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(u=Qn(n),a!==null){if(t===null){if(!u)throw Error(o(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(557));t[ye]=n}else ji(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),t=!1}else a=ll(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(xn(n),n):(xn(n),null);if((n.flags&128)!==0)throw Error(o(558))}return ie(n),null;case 13:if(u=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Qn(n),u!==null&&u.dehydrated!==null){if(t===null){if(!f)throw Error(o(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(o(317));f[ye]=n}else ji(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),f=!1}else f=ll(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?(xn(n),n):(xn(n),null)}return xn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=u!==null,t=t!==null&&t.memoizedState!==null,a&&(u=n.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool),_=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(_=u.memoizedState.cachePool.pool),_!==f&&(u.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),Cc(n,n.updateQueue),ie(n),null);case 4:return ae(),t===null&&Ad(n.stateNode.containerInfo),ie(n),null;case 10:return Zi(n.type),ie(n),null;case 19:if(j(me),u=n.memoizedState,u===null)return ie(n),null;if(f=(n.flags&128)!==0,_=u.rendering,_===null)if(f)El(u,!1);else{if(_e!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(_=fc(t),_!==null){for(n.flags|=128,El(u,!1),t=_.updateQueue,n.updateQueue=t,Cc(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)sl(a,t),a=a.sibling;return K(me,me.current&1|2),At&&ot(n,u.treeForkCount),n.child}t=t.sibling}u.tail!==null&&Xe()>Rc&&(n.flags|=128,f=!0,El(u,!1),n.lanes=4194304)}else{if(!f)if(t=fc(_),t!==null){if(n.flags|=128,f=!0,t=t.updateQueue,n.updateQueue=t,Cc(n,t),El(u,!0),u.tail===null&&u.tailMode==="hidden"&&!_.alternate&&!At)return ie(n),null}else 2*Xe()-u.renderingStartTime>Rc&&a!==536870912&&(n.flags|=128,f=!0,El(u,!1),n.lanes=4194304);u.isBackwards?(_.sibling=n.child,n.child=_):(t=u.last,t!==null?t.sibling=_:n.child=_,u.last=_)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=Xe(),t.sibling=null,a=me.current,K(me,f?a&1|2:a&1),At&&ot(n,u.treeForkCount),t):(ie(n),null);case 22:case 23:return xn(n),Nf(),u=n.memoizedState!==null,t!==null?t.memoizedState!==null!==u&&(n.flags|=8192):u&&(n.flags|=8192),u?(a&536870912)!==0&&(n.flags&128)===0&&(ie(n),n.subtreeFlags&6&&(n.flags|=8192)):ie(n),a=n.updateQueue,a!==null&&Cc(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),u=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(u=n.memoizedState.cachePool.pool),u!==a&&(n.flags|=2048),t!==null&&j(Fr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Zi(Ee),ie(n),null;case 25:return null;case 30:return null}throw Error(o(156,n.tag))}function UE(t,n){switch(fe(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Zi(Ee),ae(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return cs(n),null;case 31:if(n.memoizedState!==null){if(xn(n),n.alternate===null)throw Error(o(340));ji()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(xn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(o(340));ji()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return j(me),null;case 4:return ae(),null;case 10:return Zi(n.type),null;case 22:case 23:return xn(n),Nf(),t!==null&&j(Fr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Zi(Ee),null;case 25:return null;default:return null}}function rg(t,n){switch(fe(n),n.tag){case 3:Zi(Ee),ae();break;case 26:case 27:case 5:cs(n);break;case 4:ae();break;case 31:n.memoizedState!==null&&xn(n);break;case 13:xn(n);break;case 19:j(me);break;case 10:Zi(n.type);break;case 22:case 23:xn(n),Nf(),t!==null&&j(Fr);break;case 24:Zi(Ee)}}function Sl(t,n){try{var a=n.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var f=u.next;a=f;do{if((a.tag&t)===t){u=void 0;var _=a.create,v=a.inst;u=_(),v.destroy=u}a=a.next}while(a!==f)}}catch(T){Vt(n,n.return,T)}}function Ps(t,n,a){try{var u=n.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var _=f.next;u=_;do{if((u.tag&t)===t){var v=u.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,f=n;var A=a,P=T;try{P()}catch(Z){Vt(f,A,Z)}}}u=u.next}while(u!==_)}}catch(Z){Vt(n,n.return,Z)}}function ag(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Qm(n,a)}catch(u){Vt(t,t.return,u)}}}function og(t,n,a){a.props=Xr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(u){Vt(t,n,u)}}function Tl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var u=t.stateNode;break;case 30:u=t.stateNode;break;default:u=t.stateNode}typeof a=="function"?t.refCleanup=a(u):a.current=u}}catch(f){Vt(t,n,f)}}function bi(t,n){var a=t.ref,u=t.refCleanup;if(a!==null)if(typeof u=="function")try{u()}catch(f){Vt(t,n,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Vt(t,n,f)}else a.current=null}function lg(t){var n=t.type,a=t.memoizedProps,u=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&u.focus();break t;case"img":a.src?u.src=a.src:a.srcSet&&(u.srcset=a.srcSet)}}catch(f){Vt(t,t.return,f)}}function ad(t,n,a){try{var u=t.stateNode;aS(u,t.type,a,n),u[Le]=n}catch(f){Vt(t,t.return,f)}}function ug(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&qs(t.type)||t.tag===4}function od(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||ug(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&qs(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ld(t,n,a){var u=t.tag;if(u===5||u===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=on));else if(u!==4&&(u===27&&qs(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(ld(t,n,a),t=t.sibling;t!==null;)ld(t,n,a),t=t.sibling}function xc(t,n,a){var u=t.tag;if(u===5||u===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(u!==4&&(u===27&&qs(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(xc(t,n,a),t=t.sibling;t!==null;)xc(t,n,a),t=t.sibling}function cg(t){var n=t.stateNode,a=t.memoizedProps;try{for(var u=t.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);qe(n,u,a),n[ye]=t,n[Le]=a}catch(_){Vt(t,t.return,_)}}var Yi=!1,we=!1,ud=!1,hg=typeof WeakSet=="function"?WeakSet:Set,De=null;function BE(t,n){if(t=t.containerInfo,Rd=Yc,t=kr(t),fi(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var f=u.anchorOffset,_=u.focusNode;u=u.focusOffset;try{a.nodeType,_.nodeType}catch{a=null;break t}var v=0,T=-1,A=-1,P=0,Z=0,G=t,U=null;e:for(;;){for(var B;G!==a||f!==0&&G.nodeType!==3||(T=v+f),G!==_||u!==0&&G.nodeType!==3||(A=v+u),G.nodeType===3&&(v+=G.nodeValue.length),(B=G.firstChild)!==null;)U=G,G=B;for(;;){if(G===t)break e;if(U===a&&++P===f&&(T=v),U===_&&++Z===u&&(A=v),(B=G.nextSibling)!==null)break;G=U,U=G.parentNode}G=B}a=T===-1||A===-1?null:{start:T,end:A}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ld={focusedElem:t,selectionRange:a},Yc=!1,De=n;De!==null;)if(n=De,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,De=t;else for(;De!==null;){switch(n=De,_=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&_!==null){t=void 0,a=n,f=_.memoizedProps,_=_.memoizedState,u=a.stateNode;try{var st=Xr(a.type,f);t=u.getSnapshotBeforeUpdate(st,_),u.__reactInternalSnapshotBeforeUpdate=t}catch(ut){Vt(a,a.return,ut)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Dd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Dd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(o(163))}if(t=n.sibling,t!==null){t.return=n.return,De=t;break}De=n.return}}function fg(t,n,a){var u=a.flags;switch(a.tag){case 0:case 11:case 15:Ki(t,a),u&4&&Sl(5,a);break;case 1:if(Ki(t,a),u&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(v){Vt(a,a.return,v)}else{var f=Xr(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(f,n,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Vt(a,a.return,v)}}u&64&&ag(a),u&512&&Tl(a,a.return);break;case 3:if(Ki(t,a),u&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Qm(t,n)}catch(v){Vt(a,a.return,v)}}break;case 27:n===null&&u&4&&cg(a);case 26:case 5:Ki(t,a),n===null&&u&4&&lg(a),u&512&&Tl(a,a.return);break;case 12:Ki(t,a);break;case 31:Ki(t,a),u&4&&mg(t,a);break;case 13:Ki(t,a),u&4&&pg(t,a),u&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=WE.bind(null,a),_S(t,a))));break;case 22:if(u=a.memoizedState!==null||Yi,!u){n=n!==null&&n.memoizedState!==null||we,f=Yi;var _=we;Yi=u,(we=n)&&!_?Qi(t,a,(a.subtreeFlags&8772)!==0):Ki(t,a),Yi=f,we=_}break;case 30:break;default:Ki(t,a)}}function dg(t){var n=t.alternate;n!==null&&(t.alternate=null,dg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ho(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var le=null,fn=!1;function Wi(t,n,a){for(a=a.child;a!==null;)_g(t,n,a),a=a.sibling}function _g(t,n,a){if(Be&&typeof Be.onCommitFiberUnmount=="function")try{Be.onCommitFiberUnmount(hs,a)}catch{}switch(a.tag){case 26:we||bi(a,n),Wi(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:we||bi(a,n);var u=le,f=fn;qs(a.type)&&(le=a.stateNode,fn=!1),Wi(t,n,a),Ml(a.stateNode),le=u,fn=f;break;case 5:we||bi(a,n);case 6:if(u=le,f=fn,le=null,Wi(t,n,a),le=u,fn=f,le!==null)if(fn)try{(le.nodeType===9?le.body:le.nodeName==="HTML"?le.ownerDocument.body:le).removeChild(a.stateNode)}catch(_){Vt(a,n,_)}else try{le.removeChild(a.stateNode)}catch(_){Vt(a,n,_)}break;case 18:le!==null&&(fn?(t=le,av(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),oo(t)):av(le,a.stateNode));break;case 4:u=le,f=fn,le=a.stateNode.containerInfo,fn=!0,Wi(t,n,a),le=u,fn=f;break;case 0:case 11:case 14:case 15:Ps(2,a,n),we||Ps(4,a,n),Wi(t,n,a);break;case 1:we||(bi(a,n),u=a.stateNode,typeof u.componentWillUnmount=="function"&&og(a,n,u)),Wi(t,n,a);break;case 21:Wi(t,n,a);break;case 22:we=(u=we)||a.memoizedState!==null,Wi(t,n,a),we=u;break;default:Wi(t,n,a)}}function mg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{oo(t)}catch(a){Vt(n,n.return,a)}}}function pg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{oo(t)}catch(a){Vt(n,n.return,a)}}function HE(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new hg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new hg),n;default:throw Error(o(435,t.tag))}}function Ac(t,n){var a=HE(t);n.forEach(function(u){if(!a.has(u)){a.add(u);var f=KE.bind(null,t,u);u.then(f,f)}})}function dn(t,n){var a=n.deletions;if(a!==null)for(var u=0;u<a.length;u++){var f=a[u],_=t,v=n,T=v;t:for(;T!==null;){switch(T.tag){case 27:if(qs(T.type)){le=T.stateNode,fn=!1;break t}break;case 5:le=T.stateNode,fn=!1;break t;case 3:case 4:le=T.stateNode.containerInfo,fn=!0;break t}T=T.return}if(le===null)throw Error(o(160));_g(_,v,f),le=null,fn=!1,_=f.alternate,_!==null&&(_.return=null),f.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)gg(n,t),n=n.sibling}var Jn=null;function gg(t,n){var a=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:dn(n,t),_n(t),u&4&&(Ps(3,t,t.return),Sl(3,t),Ps(5,t,t.return));break;case 1:dn(n,t),_n(t),u&512&&(we||a===null||bi(a,a.return)),u&64&&Yi&&(t=t.updateQueue,t!==null&&(u=t.callbacks,u!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?u:a.concat(u))));break;case 26:var f=Jn;if(dn(n,t),_n(t),u&512&&(we||a===null||bi(a,a.return)),u&4){var _=a!==null?a.memoizedState:null;if(u=t.memoizedState,a===null)if(u===null)if(t.stateNode===null){t:{u=t.type,a=t.memoizedProps,f=f.ownerDocument||f;e:switch(u){case"title":_=f.getElementsByTagName("title")[0],(!_||_[yr]||_[ye]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=f.createElement(u),f.head.insertBefore(_,f.querySelector("head > title"))),qe(_,u,a),_[ye]=t,be(_),u=_;break t;case"link":var v=gv("link","href",f).get(u+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(_=v[T],_.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&_.getAttribute("rel")===(a.rel==null?null:a.rel)&&_.getAttribute("title")===(a.title==null?null:a.title)&&_.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break e}}_=f.createElement(u),qe(_,u,a),f.head.appendChild(_);break;case"meta":if(v=gv("meta","content",f).get(u+(a.content||""))){for(T=0;T<v.length;T++)if(_=v[T],_.getAttribute("content")===(a.content==null?null:""+a.content)&&_.getAttribute("name")===(a.name==null?null:a.name)&&_.getAttribute("property")===(a.property==null?null:a.property)&&_.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&_.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break e}}_=f.createElement(u),qe(_,u,a),f.head.appendChild(_);break;default:throw Error(o(468,u))}_[ye]=t,be(_),u=_}t.stateNode=u}else vv(f,t.type,t.stateNode);else t.stateNode=pv(f,u,t.memoizedProps);else _!==u?(_===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):_.count--,u===null?vv(f,t.type,t.stateNode):pv(f,u,t.memoizedProps)):u===null&&t.stateNode!==null&&ad(t,t.memoizedProps,a.memoizedProps)}break;case 27:dn(n,t),_n(t),u&512&&(we||a===null||bi(a,a.return)),a!==null&&u&4&&ad(t,t.memoizedProps,a.memoizedProps);break;case 5:if(dn(n,t),_n(t),u&512&&(we||a===null||bi(a,a.return)),t.flags&32){f=t.stateNode;try{Rn(f,"")}catch(st){Vt(t,t.return,st)}}u&4&&t.stateNode!=null&&(f=t.memoizedProps,ad(t,f,a!==null?a.memoizedProps:f)),u&1024&&(ud=!0);break;case 6:if(dn(n,t),_n(t),u&4){if(t.stateNode===null)throw Error(o(162));u=t.memoizedProps,a=t.stateNode;try{a.nodeValue=u}catch(st){Vt(t,t.return,st)}}break;case 3:if(qc=null,f=Jn,Jn=jc(n.containerInfo),dn(n,t),Jn=f,_n(t),u&4&&a!==null&&a.memoizedState.isDehydrated)try{oo(n.containerInfo)}catch(st){Vt(t,t.return,st)}ud&&(ud=!1,vg(t));break;case 4:u=Jn,Jn=jc(t.stateNode.containerInfo),dn(n,t),_n(t),Jn=u;break;case 12:dn(n,t),_n(t);break;case 31:dn(n,t),_n(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,Ac(t,u)));break;case 13:dn(n,t),_n(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Oc=Xe()),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,Ac(t,u)));break;case 22:f=t.memoizedState!==null;var A=a!==null&&a.memoizedState!==null,P=Yi,Z=we;if(Yi=P||f,we=Z||A,dn(n,t),we=Z,Yi=P,_n(t),u&8192)t:for(n=t.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(a===null||A||Yi||we||Jr(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){A=a=n;try{if(_=A.stateNode,f)v=_.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=A.stateNode;var G=A.memoizedProps.style,U=G!=null&&G.hasOwnProperty("display")?G.display:null;T.style.display=U==null||typeof U=="boolean"?"":(""+U).trim()}}catch(st){Vt(A,A.return,st)}}}else if(n.tag===6){if(a===null){A=n;try{A.stateNode.nodeValue=f?"":A.memoizedProps}catch(st){Vt(A,A.return,st)}}}else if(n.tag===18){if(a===null){A=n;try{var B=A.stateNode;f?ov(B,!0):ov(A.stateNode,!1)}catch(st){Vt(A,A.return,st)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}u&4&&(u=t.updateQueue,u!==null&&(a=u.retryQueue,a!==null&&(u.retryQueue=null,Ac(t,a))));break;case 19:dn(n,t),_n(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,Ac(t,u)));break;case 30:break;case 21:break;default:dn(n,t),_n(t)}}function _n(t){var n=t.flags;if(n&2){try{for(var a,u=t.return;u!==null;){if(ug(u)){a=u;break}u=u.return}if(a==null)throw Error(o(160));switch(a.tag){case 27:var f=a.stateNode,_=od(t);xc(t,_,f);break;case 5:var v=a.stateNode;a.flags&32&&(Rn(v,""),a.flags&=-33);var T=od(t);xc(t,T,v);break;case 3:case 4:var A=a.stateNode.containerInfo,P=od(t);ld(t,P,A);break;default:throw Error(o(161))}}catch(Z){Vt(t,t.return,Z)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function vg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;vg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Ki(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)fg(t,n.alternate,n),n=n.sibling}function Jr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ps(4,n,n.return),Jr(n);break;case 1:bi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&og(n,n.return,a),Jr(n);break;case 27:Ml(n.stateNode);case 26:case 5:bi(n,n.return),Jr(n);break;case 22:n.memoizedState===null&&Jr(n);break;case 30:Jr(n);break;default:Jr(n)}t=t.sibling}}function Qi(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var u=n.alternate,f=t,_=n,v=_.flags;switch(_.tag){case 0:case 11:case 15:Qi(f,_,a),Sl(4,_);break;case 1:if(Qi(f,_,a),u=_,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(P){Vt(u,u.return,P)}if(u=_,f=u.updateQueue,f!==null){var T=u.stateNode;try{var A=f.shared.hiddenCallbacks;if(A!==null)for(f.shared.hiddenCallbacks=null,f=0;f<A.length;f++)Km(A[f],T)}catch(P){Vt(u,u.return,P)}}a&&v&64&&ag(_),Tl(_,_.return);break;case 27:cg(_);case 26:case 5:Qi(f,_,a),a&&u===null&&v&4&&lg(_),Tl(_,_.return);break;case 12:Qi(f,_,a);break;case 31:Qi(f,_,a),a&&v&4&&mg(f,_);break;case 13:Qi(f,_,a),a&&v&4&&pg(f,_);break;case 22:_.memoizedState===null&&Qi(f,_,a),Tl(_,_.return);break;case 30:break;default:Qi(f,_,a)}n=n.sibling}}function cd(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ul(a))}function hd(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ul(t))}function $n(t,n,a,u){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)yg(t,n,a,u),n=n.sibling}function yg(t,n,a,u){var f=n.flags;switch(n.tag){case 0:case 11:case 15:$n(t,n,a,u),f&2048&&Sl(9,n);break;case 1:$n(t,n,a,u);break;case 3:$n(t,n,a,u),f&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ul(t)));break;case 12:if(f&2048){$n(t,n,a,u),t=n.stateNode;try{var _=n.memoizedProps,v=_.id,T=_.onPostCommit;typeof T=="function"&&T(v,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(A){Vt(n,n.return,A)}}else $n(t,n,a,u);break;case 31:$n(t,n,a,u);break;case 13:$n(t,n,a,u);break;case 23:break;case 22:_=n.stateNode,v=n.alternate,n.memoizedState!==null?_._visibility&2?$n(t,n,a,u):wl(t,n):_._visibility&2?$n(t,n,a,u):(_._visibility|=2,Qa(t,n,a,u,(n.subtreeFlags&10256)!==0||!1)),f&2048&&cd(v,n);break;case 24:$n(t,n,a,u),f&2048&&hd(n.alternate,n);break;default:$n(t,n,a,u)}}function Qa(t,n,a,u,f){for(f=f&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var _=t,v=n,T=a,A=u,P=v.flags;switch(v.tag){case 0:case 11:case 15:Qa(_,v,T,A,f),Sl(8,v);break;case 23:break;case 22:var Z=v.stateNode;v.memoizedState!==null?Z._visibility&2?Qa(_,v,T,A,f):wl(_,v):(Z._visibility|=2,Qa(_,v,T,A,f)),f&&P&2048&&cd(v.alternate,v);break;case 24:Qa(_,v,T,A,f),f&&P&2048&&hd(v.alternate,v);break;default:Qa(_,v,T,A,f)}n=n.sibling}}function wl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,u=n,f=u.flags;switch(u.tag){case 22:wl(a,u),f&2048&&cd(u.alternate,u);break;case 24:wl(a,u),f&2048&&hd(u.alternate,u);break;default:wl(a,u)}n=n.sibling}}var Cl=8192;function Xa(t,n,a){if(t.subtreeFlags&Cl)for(t=t.child;t!==null;)bg(t,n,a),t=t.sibling}function bg(t,n,a){switch(t.tag){case 26:Xa(t,n,a),t.flags&Cl&&t.memoizedState!==null&&xS(a,Jn,t.memoizedState,t.memoizedProps);break;case 5:Xa(t,n,a);break;case 3:case 4:var u=Jn;Jn=jc(t.stateNode.containerInfo),Xa(t,n,a),Jn=u;break;case 22:t.memoizedState===null&&(u=t.alternate,u!==null&&u.memoizedState!==null?(u=Cl,Cl=16777216,Xa(t,n,a),Cl=u):Xa(t,n,a));break;default:Xa(t,n,a)}}function Eg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function xl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var u=n[a];De=u,Tg(u,t)}Eg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Sg(t),t=t.sibling}function Sg(t){switch(t.tag){case 0:case 11:case 15:xl(t),t.flags&2048&&Ps(9,t,t.return);break;case 3:xl(t);break;case 12:xl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Nc(t)):xl(t);break;default:xl(t)}}function Nc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var u=n[a];De=u,Tg(u,t)}Eg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ps(8,n,n.return),Nc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Nc(n));break;default:Nc(n)}t=t.sibling}}function Tg(t,n){for(;De!==null;){var a=De;switch(a.tag){case 0:case 11:case 15:Ps(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var u=a.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:ul(a.memoizedState.cache)}if(u=a.child,u!==null)u.return=a,De=u;else t:for(a=t;De!==null;){u=De;var f=u.sibling,_=u.return;if(dg(u),u===a){De=null;break t}if(f!==null){f.return=_,De=f;break t}De=_}}}var jE={getCacheForType:function(t){var n=je(Ee),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return je(Ee).controller.signal}},ZE=typeof WeakMap=="function"?WeakMap:Map,Bt=0,Jt=null,Nt=null,Lt=0,qt=0,An=null,zs=!1,Ja=!1,fd=!1,Xi=0,_e=0,Us=0,$r=0,dd=0,Nn=0,$a=0,Al=null,mn=null,_d=!1,Oc=0,wg=0,Rc=1/0,Lc=null,Bs=null,Oe=0,Hs=null,to=null,Ji=0,md=0,pd=null,Cg=null,Nl=0,gd=null;function On(){return(Bt&2)!==0&&Lt!==0?Lt&-Lt:H.T!==null?Td():Uo()}function xg(){if(Nn===0)if((Lt&536870912)===0||At){var t=pr;pr<<=1,(pr&3932160)===0&&(pr=262144),Nn=t}else Nn=536870912;return t=Cn.current,t!==null&&(t.flags|=32),Nn}function pn(t,n,a){(t===Jt&&(qt===2||qt===9)||t.cancelPendingCommit!==null)&&(eo(t,0),js(t,Lt,Nn,!1)),Li(t,a),((Bt&2)===0||t!==Jt)&&(t===Jt&&((Bt&2)===0&&($r|=a),_e===4&&js(t,Lt,Nn,!1)),Ei(t))}function Ag(t,n,a){if((Bt&6)!==0)throw Error(o(327));var u=!a&&(n&127)===0&&(n&t.expiredLanes)===0||vr(t,n),f=u?GE(t,n):yd(t,n,!0),_=u;do{if(f===0){Ja&&!u&&js(t,n,0,!1);break}else{if(a=t.current.alternate,_&&!qE(a)){f=yd(t,n,!1),_=!1;continue}if(f===2){if(_=n,t.errorRecoveryDisabledLanes&_)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;t:{var T=t;f=Al;var A=T.current.memoizedState.isDehydrated;if(A&&(eo(T,v).flags|=256),v=yd(T,v,!1),v!==2){if(fd&&!A){T.errorRecoveryDisabledLanes|=_,$r|=_,f=4;break t}_=mn,mn=f,_!==null&&(mn===null?mn=_:mn.push.apply(mn,_))}f=v}if(_=!1,f!==2)continue}}if(f===1){eo(t,0),js(t,n,0,!0);break}t:{switch(u=t,_=f,_){case 0:case 1:throw Error(o(345));case 4:if((n&4194048)!==n)break;case 6:js(u,n,Nn,!zs);break t;case 2:mn=null;break;case 3:case 5:break;default:throw Error(o(329))}if((n&62914560)===n&&(f=Oc+300-Xe(),10<f)){if(js(u,n,Nn,!zs),Ea(u,0,!0)!==0)break t;Ji=n,u.timeoutHandle=sv(Ng.bind(null,u,a,mn,Lc,_d,n,Nn,$r,$a,zs,_,"Throttled",-0,0),f);break t}Ng(u,a,mn,Lc,_d,n,Nn,$r,$a,zs,_,null,-0,0)}}break}while(!0);Ei(t)}function Ng(t,n,a,u,f,_,v,T,A,P,Z,G,U,B){if(t.timeoutHandle=-1,G=n.subtreeFlags,G&8192||(G&16785408)===16785408){G={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:on},bg(n,_,G);var st=(_&62914560)===_?Oc-Xe():(_&4194048)===_?wg-Xe():0;if(st=AS(G,st),st!==null){Ji=_,t.cancelPendingCommit=st(Pg.bind(null,t,n,_,a,u,f,v,T,A,Z,G,null,U,B)),js(t,_,v,!P);return}}Pg(t,n,_,a,u,f,v,T,A)}function qE(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var u=0;u<a.length;u++){var f=a[u],_=f.getSnapshot;f=f.value;try{if(!Me(_(),f))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function js(t,n,a,u){n&=~dd,n&=~$r,t.suspendedLanes|=n,t.pingedLanes&=~n,u&&(t.warmLanes|=n),u=t.expirationTimes;for(var f=n;0<f;){var _=31-Je(f),v=1<<_;u[_]=-1,f&=~v}a!==0&&Ru(t,a,n)}function Mc(){return(Bt&6)===0?(Ol(0),!1):!0}function vd(){if(Nt!==null){if(qt===0)var t=Nt.return;else t=Nt,Xn=yi=null,Df(t),Ga=null,hl=0,t=Nt;for(;t!==null;)rg(t.alternate,t),t=t.return;Nt=null}}function eo(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,uS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Ji=0,vd(),Jt=t,Nt=a=zn(t.current,null),Lt=n,qt=0,An=null,zs=!1,Ja=vr(t,n),fd=!1,$a=Nn=dd=$r=Us=_e=0,mn=Al=null,_d=!1,(n&8)!==0&&(n|=n&32);var u=t.entangledLanes;if(u!==0)for(t=t.entanglements,u&=n;0<u;){var f=31-Je(u),_=1<<f;n|=t[f],u&=~_}return Xi=n,Hr(),a}function Og(t,n){vt=null,H.H=yl,n===Va||n===oc?(n=Gm(),qt=3):n===Sf?(n=Gm(),qt=4):qt=n===Qf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,An=n,Nt===null&&(_e=1,Ec(t,l(n,t.current)))}function Rg(){var t=Cn.current;return t===null?!0:(Lt&4194048)===Lt?Un===null:(Lt&62914560)===Lt||(Lt&536870912)!==0?t===Un:!1}function Lg(){var t=H.H;return H.H=yl,t===null?yl:t}function Mg(){var t=H.A;return H.A=jE,t}function Ic(){_e=4,zs||(Lt&4194048)!==Lt&&Cn.current!==null||(Ja=!0),(Us&134217727)===0&&($r&134217727)===0||Jt===null||js(Jt,Lt,Nn,!1)}function yd(t,n,a){var u=Bt;Bt|=2;var f=Lg(),_=Mg();(Jt!==t||Lt!==n)&&(Lc=null,eo(t,n)),n=!1;var v=_e;t:do try{if(qt!==0&&Nt!==null){var T=Nt,A=An;switch(qt){case 8:vd(),v=6;break t;case 3:case 2:case 9:case 6:Cn.current===null&&(n=!0);var P=qt;if(qt=0,An=null,no(t,T,A,P),a&&Ja){v=0;break t}break;default:P=qt,qt=0,An=null,no(t,T,A,P)}}VE(),v=_e;break}catch(Z){Og(t,Z)}while(!0);return n&&t.shellSuspendCounter++,Xn=yi=null,Bt=u,H.H=f,H.A=_,Nt===null&&(Jt=null,Lt=0,Hr()),v}function VE(){for(;Nt!==null;)Ig(Nt)}function GE(t,n){var a=Bt;Bt|=2;var u=Lg(),f=Mg();Jt!==t||Lt!==n?(Lc=null,Rc=Xe()+500,eo(t,n)):Ja=vr(t,n);t:do try{if(qt!==0&&Nt!==null){n=Nt;var _=An;e:switch(qt){case 1:qt=0,An=null,no(t,n,_,1);break;case 2:case 9:if(qm(_)){qt=0,An=null,Dg(n);break}n=function(){qt!==2&&qt!==9||Jt!==t||(qt=7),Ei(t)},_.then(n,n);break t;case 3:qt=7;break t;case 4:qt=5;break t;case 7:qm(_)?(qt=0,An=null,Dg(n)):(qt=0,An=null,no(t,n,_,7));break;case 5:var v=null;switch(Nt.tag){case 26:v=Nt.memoizedState;case 5:case 27:var T=Nt;if(v?yv(v):T.stateNode.complete){qt=0,An=null;var A=T.sibling;if(A!==null)Nt=A;else{var P=T.return;P!==null?(Nt=P,Dc(P)):Nt=null}break e}}qt=0,An=null,no(t,n,_,5);break;case 6:qt=0,An=null,no(t,n,_,6);break;case 8:vd(),_e=6;break t;default:throw Error(o(462))}}FE();break}catch(Z){Og(t,Z)}while(!0);return Xn=yi=null,H.H=u,H.A=f,Bt=a,Nt!==null?0:(Jt=null,Lt=0,Hr(),_e)}function FE(){for(;Nt!==null&&!xu();)Ig(Nt)}function Ig(t){var n=ig(t.alternate,t,Xi);t.memoizedProps=t.pendingProps,n===null?Dc(t):Nt=n}function Dg(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Xp(a,n,n.pendingProps,n.type,void 0,Lt);break;case 11:n=Xp(a,n,n.pendingProps,n.type.render,n.ref,Lt);break;case 5:Df(n);default:rg(a,n),n=Nt=sl(n,Xi),n=ig(a,n,Xi)}t.memoizedProps=t.pendingProps,n===null?Dc(t):Nt=n}function no(t,n,a,u){Xn=yi=null,Df(n),Ga=null,hl=0;var f=n.return;try{if(DE(t,f,n,a,Lt)){_e=1,Ec(t,l(a,t.current)),Nt=null;return}}catch(_){if(f!==null)throw Nt=f,_;_e=1,Ec(t,l(a,t.current)),Nt=null;return}n.flags&32768?(At||u===1?t=!0:Ja||(Lt&536870912)!==0?t=!1:(zs=t=!0,(u===2||u===9||u===3||u===6)&&(u=Cn.current,u!==null&&u.tag===13&&(u.flags|=16384))),kg(n,t)):Dc(n)}function Dc(t){var n=t;do{if((n.flags&32768)!==0){kg(n,zs);return}t=n.return;var a=zE(n.alternate,n,Xi);if(a!==null){Nt=a;return}if(n=n.sibling,n!==null){Nt=n;return}Nt=n=t}while(n!==null);_e===0&&(_e=5)}function kg(t,n){do{var a=UE(t.alternate,t);if(a!==null){a.flags&=32767,Nt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Nt=t;return}Nt=t=a}while(t!==null);_e=6,Nt=null}function Pg(t,n,a,u,f,_,v,T,A){t.cancelPendingCommit=null;do kc();while(Oe!==0);if((Bt&6)!==0)throw Error(o(327));if(n!==null){if(n===t.current)throw Error(o(177));if(_=n.lanes|n.childLanes,_|=za,tf(t,a,_,v,T,A),t===Jt&&(Nt=Jt=null,Lt=0),to=n,Hs=t,Ji=a,md=_,pd=f,Cg=u,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,QE(dr,function(){return jg(),null})):(t.callbackNode=null,t.callbackPriority=0),u=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||u){u=H.T,H.T=null,f=$.p,$.p=2,v=Bt,Bt|=4;try{BE(t,n,a)}finally{Bt=v,$.p=f,H.T=u}}Oe=1,zg(),Ug(),Bg()}}function zg(){if(Oe===1){Oe=0;var t=Hs,n=to,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var u=$.p;$.p=2;var f=Bt;Bt|=4;try{gg(n,t);var _=Ld,v=kr(t.containerInfo),T=_.focusedElem,A=_.selectionRange;if(v!==T&&T&&T.ownerDocument&&Ia(T.ownerDocument.documentElement,T)){if(A!==null&&fi(T)){var P=A.start,Z=A.end;if(Z===void 0&&(Z=P),"selectionStart"in T)T.selectionStart=P,T.selectionEnd=Math.min(Z,T.value.length);else{var G=T.ownerDocument||document,U=G&&G.defaultView||window;if(U.getSelection){var B=U.getSelection(),st=T.textContent.length,ut=Math.min(A.start,st),Wt=A.end===void 0?ut:Math.min(A.end,st);!B.extend&&ut>Wt&&(v=Wt,Wt=ut,ut=v);var I=Dr(T,ut),R=Dr(T,Wt);if(I&&R&&(B.rangeCount!==1||B.anchorNode!==I.node||B.anchorOffset!==I.offset||B.focusNode!==R.node||B.focusOffset!==R.offset)){var k=G.createRange();k.setStart(I.node,I.offset),B.removeAllRanges(),ut>Wt?(B.addRange(k),B.extend(R.node,R.offset)):(k.setEnd(R.node,R.offset),B.addRange(k))}}}}for(G=[],B=T;B=B.parentNode;)B.nodeType===1&&G.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<G.length;T++){var q=G[T];q.element.scrollLeft=q.left,q.element.scrollTop=q.top}}Yc=!!Rd,Ld=Rd=null}finally{Bt=f,$.p=u,H.T=a}}t.current=n,Oe=2}}function Ug(){if(Oe===2){Oe=0;var t=Hs,n=to,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var u=$.p;$.p=2;var f=Bt;Bt|=4;try{fg(t,n.alternate,n)}finally{Bt=f,$.p=u,H.T=a}}Oe=3}}function Bg(){if(Oe===4||Oe===3){Oe=0,Au();var t=Hs,n=to,a=Ji,u=Cg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Oe=5:(Oe=0,to=Hs=null,Hg(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Bs=null),at(a),n=n.stateNode,Be&&typeof Be.onCommitFiberRoot=="function")try{Be.onCommitFiberRoot(hs,n,void 0,(n.current.flags&128)===128)}catch{}if(u!==null){n=H.T,f=$.p,$.p=2,H.T=null;try{for(var _=t.onRecoverableError,v=0;v<u.length;v++){var T=u[v];_(T.value,{componentStack:T.stack})}}finally{H.T=n,$.p=f}}(Ji&3)!==0&&kc(),Ei(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===gd?Nl++:(Nl=0,gd=t):Nl=0,Ol(0)}}function Hg(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,ul(n)))}function kc(){return zg(),Ug(),Bg(),jg()}function jg(){if(Oe!==5)return!1;var t=Hs,n=md;md=0;var a=at(Ji),u=H.T,f=$.p;try{$.p=32>a?32:a,H.T=null,a=pd,pd=null;var _=Hs,v=Ji;if(Oe=0,to=Hs=null,Ji=0,(Bt&6)!==0)throw Error(o(331));var T=Bt;if(Bt|=4,Sg(_.current),yg(_,_.current,v,a),Bt=T,Ol(0,!1),Be&&typeof Be.onPostCommitFiberRoot=="function")try{Be.onPostCommitFiberRoot(hs,_)}catch{}return!0}finally{$.p=f,H.T=u,Hg(t,n)}}function Zg(t,n,a){n=l(a,n),n=Kf(t.stateNode,n,2),t=Is(t,n,2),t!==null&&(Li(t,2),Ei(t))}function Vt(t,n,a){if(t.tag===3)Zg(t,t,a);else for(;n!==null;){if(n.tag===3){Zg(n,t,a);break}else if(n.tag===1){var u=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Bs===null||!Bs.has(u))){t=l(a,t),a=qp(2),u=Is(n,a,2),u!==null&&(Vp(a,u,n,t),Li(u,2),Ei(u));break}}n=n.return}}function bd(t,n,a){var u=t.pingCache;if(u===null){u=t.pingCache=new ZE;var f=new Set;u.set(n,f)}else f=u.get(n),f===void 0&&(f=new Set,u.set(n,f));f.has(a)||(fd=!0,f.add(a),t=YE.bind(null,t,n,a),n.then(t,t))}function YE(t,n,a){var u=t.pingCache;u!==null&&u.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Jt===t&&(Lt&a)===a&&(_e===4||_e===3&&(Lt&62914560)===Lt&&300>Xe()-Oc?(Bt&2)===0&&eo(t,0):dd|=a,$a===Lt&&($a=0)),Ei(t)}function qg(t,n){n===0&&(n=Ou()),t=Pn(t,n),t!==null&&(Li(t,n),Ei(t))}function WE(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),qg(t,a)}function KE(t,n){var a=0;switch(t.tag){case 31:case 13:var u=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:u=t.stateNode;break;case 22:u=t.stateNode._retryCache;break;default:throw Error(o(314))}u!==null&&u.delete(n),qg(t,a)}function QE(t,n){return ya(t,n)}var Pc=null,io=null,Ed=!1,zc=!1,Sd=!1,Zs=0;function Ei(t){t!==io&&t.next===null&&(io===null?Pc=io=t:io=io.next=t),zc=!0,Ed||(Ed=!0,JE())}function Ol(t,n){if(!Sd&&zc){Sd=!0;do for(var a=!1,u=Pc;u!==null;){if(t!==0){var f=u.pendingLanes;if(f===0)var _=0;else{var v=u.suspendedLanes,T=u.pingedLanes;_=(1<<31-Je(42|t)+1)-1,_&=f&~(v&~T),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(a=!0,Yg(u,_))}else _=Lt,_=Ea(u,u===Jt?_:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(_&3)===0||vr(u,_)||(a=!0,Yg(u,_));u=u.next}while(a);Sd=!1}}function XE(){Vg()}function Vg(){zc=Ed=!1;var t=0;Zs!==0&&lS()&&(t=Zs);for(var n=Xe(),a=null,u=Pc;u!==null;){var f=u.next,_=Gg(u,n);_===0?(u.next=null,a===null?Pc=f:a.next=f,f===null&&(io=a)):(a=u,(t!==0||(_&3)!==0)&&(zc=!0)),u=f}Oe!==0&&Oe!==5||Ol(t),Zs!==0&&(Zs=0)}function Gg(t,n){for(var a=t.suspendedLanes,u=t.pingedLanes,f=t.expirationTimes,_=t.pendingLanes&-62914561;0<_;){var v=31-Je(_),T=1<<v,A=f[v];A===-1?((T&a)===0||(T&u)!==0)&&(f[v]=$h(T,n)):A<=n&&(t.expiredLanes|=T),_&=~T}if(n=Jt,a=Lt,a=Ea(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u=t.callbackNode,a===0||t===n&&(qt===2||qt===9)||t.cancelPendingCommit!==null)return u!==null&&u!==null&&fr(u),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||vr(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(u!==null&&fr(u),at(a)){case 2:case 8:a=ko;break;case 32:a=dr;break;case 268435456:a=Po;break;default:a=dr}return u=Fg.bind(null,t),a=ya(a,u),t.callbackPriority=n,t.callbackNode=a,n}return u!==null&&u!==null&&fr(u),t.callbackPriority=2,t.callbackNode=null,2}function Fg(t,n){if(Oe!==0&&Oe!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(kc()&&t.callbackNode!==a)return null;var u=Lt;return u=Ea(t,t===Jt?u:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u===0?null:(Ag(t,u,n),Gg(t,Xe()),t.callbackNode!=null&&t.callbackNode===a?Fg.bind(null,t):null)}function Yg(t,n){if(kc())return null;Ag(t,n,!0)}function JE(){cS(function(){(Bt&6)!==0?ya(ba,XE):Vg()})}function Td(){if(Zs===0){var t=Za;t===0&&(t=mr,mr<<=1,(mr&261888)===0&&(mr=256)),Zs=t}return Zs}function Wg(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:gs(""+t)}function Kg(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function $E(t,n,a,u,f){if(n==="submit"&&a&&a.stateNode===f){var _=Wg((f[Le]||null).action),v=u.submitter;v&&(n=(n=v[Le]||null)?Wg(n.formAction):v.getAttribute("formAction"),n!==null&&(_=n,v=null));var T=new xa("action","action",null,u,f);t.push({event:T,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Zs!==0){var A=v?Kg(f,v):new FormData(f);qf(a,{pending:!0,data:A,method:f.method,action:_},null,A)}}else typeof _=="function"&&(T.preventDefault(),A=v?Kg(f,v):new FormData(f),qf(a,{pending:!0,data:A,method:f.method,action:_},_,A))},currentTarget:f}]})}}for(var wd=0;wd<mi.length;wd++){var Cd=mi[wd],tS=Cd.toLowerCase(),eS=Cd[0].toUpperCase()+Cd.slice(1);un(tS,"on"+eS)}un(zr,"onAnimationEnd"),un(ec,"onAnimationIteration"),un(Ur,"onAnimationStart"),un("dblclick","onDoubleClick"),un("focusin","onFocus"),un("focusout","onBlur"),un(_f,"onTransitionRun"),un(nc,"onTransitionStart"),un(mf,"onTransitionCancel"),un(Ns,"onTransitionEnd"),li("onMouseEnter",["mouseout","mouseover"]),li("onMouseLeave",["mouseout","mouseover"]),li("onPointerEnter",["pointerout","pointerover"]),li("onPointerLeave",["pointerout","pointerover"]),Di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Di("onBeforeInput",["compositionend","keypress","textInput","paste"]),Di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rl));function Qg(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var u=t[a],f=u.event;u=u.listeners;t:{var _=void 0;if(n)for(var v=u.length-1;0<=v;v--){var T=u[v],A=T.instance,P=T.currentTarget;if(T=T.listener,A!==_&&f.isPropagationStopped())break t;_=T,f.currentTarget=P;try{_(f)}catch(Z){Br(Z)}f.currentTarget=null,_=A}else for(v=0;v<u.length;v++){if(T=u[v],A=T.instance,P=T.currentTarget,T=T.listener,A!==_&&f.isPropagationStopped())break t;_=T,f.currentTarget=P;try{_(f)}catch(Z){Br(Z)}f.currentTarget=null,_=A}}}}function Ot(t,n){var a=n[ai];a===void 0&&(a=n[ai]=new Set);var u=t+"__bubble";a.has(u)||(Xg(n,t,2,!1),a.add(u))}function xd(t,n,a){var u=0;n&&(u|=4),Xg(a,t,u,n)}var Uc="_reactListening"+Math.random().toString(36).slice(2);function Ad(t){if(!t[Uc]){t[Uc]=!0,ku.forEach(function(a){a!=="selectionchange"&&(nS.has(a)||xd(a,!1,t),xd(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Uc]||(n[Uc]=!0,xd("selectionchange",!1,n))}}function Xg(t,n,a,u){switch(xv(n)){case 2:var f=RS;break;case 8:f=LS;break;default:f=Zd}a=f.bind(null,n,a,t),f=void 0,!Cr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),u?f!==void 0?t.addEventListener(n,a,{capture:!0,passive:f}):t.addEventListener(n,a,!0):f!==void 0?t.addEventListener(n,a,{passive:f}):t.addEventListener(n,a,!1)}function Nd(t,n,a,u,f){var _=u;if((n&1)===0&&(n&2)===0&&u!==null)t:for(;;){if(u===null)return;var v=u.tag;if(v===3||v===4){var T=u.stateNode.containerInfo;if(T===f)break;if(v===4)for(v=u.return;v!==null;){var A=v.tag;if((A===3||A===4)&&v.stateNode.containerInfo===f)return;v=v.return}for(;T!==null;){if(v=Ii(T),v===null)return;if(A=v.tag,A===5||A===6||A===26||A===27){u=_=v;continue t}T=T.parentNode}}u=u.return}Yo(function(){var P=_,Z=wr(a),G=[];t:{var U=ic.get(t);if(U!==void 0){var B=xa,st=t;switch(t){case"keypress":if(xr(a)===0)break t;case"keydown":case"keyup":B=qu;break;case"focusin":st="focus",B=Qo;break;case"focusout":st="blur",B=Qo;break;case"beforeblur":case"afterblur":B=Qo;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=Uu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=nf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=lf;break;case zr:case ec:case Ur:B=Xo;break;case Ns:B=Fu;break;case"scroll":case"scrollend":B=Rt;break;case"wheel":B=Ui;break;case"copy":case"cut":case"paste":B=Mn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=Vu;break;case"toggle":case"beforetoggle":B=Or}var ut=(n&4)!==0,Wt=!ut&&(t==="scroll"||t==="scrollend"),I=ut?U!==null?U+"Capture":null:U;ut=[];for(var R=P,k;R!==null;){var q=R;if(k=q.stateNode,q=q.tag,q!==5&&q!==26&&q!==27||k===null||I===null||(q=Pi(R,I),q!=null&&ut.push(Ll(R,q,k))),Wt)break;R=R.return}0<ut.length&&(U=new B(U,st,null,a,Z),G.push({event:U,listeners:ut}))}}if((n&7)===0){t:{if(U=t==="mouseover"||t==="pointerover",B=t==="mouseout"||t==="pointerout",U&&a!==Ca&&(st=a.relatedTarget||a.fromElement)&&(Ii(st)||st[Mi]))break t;if((B||U)&&(U=Z.window===Z?Z:(U=Z.ownerDocument)?U.defaultView||U.parentWindow:window,B?(st=a.relatedTarget||a.toElement,B=P,st=st?Ii(st):null,st!==null&&(Wt=d(st),ut=st.tag,st!==Wt||ut!==5&&ut!==27&&ut!==6)&&(st=null)):(B=null,st=P),B!==st)){if(ut=Uu,q="onMouseLeave",I="onMouseEnter",R="mouse",(t==="pointerout"||t==="pointerover")&&(ut=Vu,q="onPointerLeave",I="onPointerEnter",R="pointer"),Wt=B==null?U:oi(B),k=st==null?U:oi(st),U=new ut(q,R+"leave",B,a,Z),U.target=Wt,U.relatedTarget=k,q=null,Ii(Z)===P&&(ut=new ut(I,R+"enter",st,a,Z),ut.target=k,ut.relatedTarget=Wt,q=ut),Wt=q,B&&st)e:{for(ut=iS,I=B,R=st,k=0,q=I;q;q=ut(q))k++;q=0;for(var lt=R;lt;lt=ut(lt))q++;for(;0<k-q;)I=ut(I),k--;for(;0<q-k;)R=ut(R),q--;for(;k--;){if(I===R||R!==null&&I===R.alternate){ut=I;break e}I=ut(I),R=ut(R)}ut=null}else ut=null;B!==null&&Jg(G,U,B,ut,!1),st!==null&&Wt!==null&&Jg(G,Wt,st,ut,!0)}}t:{if(U=P?oi(P):window,B=U.nodeName&&U.nodeName.toLowerCase(),B==="select"||B==="input"&&U.type==="file")var kt=Ir;else if(In(U))if(Qu)kt=df;else{kt=ff;var rt=Wn}else B=U.nodeName,!B||B.toLowerCase()!=="input"||U.type!=="checkbox"&&U.type!=="radio"?P&&Tr(P.elementType)&&(kt=Ir):kt=ws;if(kt&&(kt=kt(t,P))){Ku(G,kt,a,Z);break t}rt&&rt(t,U,P),t==="focusout"&&P&&U.type==="number"&&P.memoizedProps.value!=null&&Gn(U,"number",U.value)}switch(rt=P?oi(P):window,t){case"focusin":(In(rt)||rt.contentEditable==="true")&&(di=rt,ka=P,Pr=null);break;case"focusout":Pr=ka=di=null;break;case"mousedown":xs=!0;break;case"contextmenu":case"mouseup":case"dragend":xs=!1,$u(G,a,Z);break;case"selectionchange":if(Da)break;case"keydown":case"keyup":$u(G,a,Z)}var bt;if(Na)t:{switch(t){case"compositionstart":var Mt="onCompositionStart";break t;case"compositionend":Mt="onCompositionEnd";break t;case"compositionupdate":Mt="onCompositionUpdate";break t}Mt=void 0}else Es?Wu(t,a)&&(Mt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Mt="onCompositionStart");Mt&&(Oa&&a.locale!=="ko"&&(Es||Mt!=="onCompositionStart"?Mt==="onCompositionEnd"&&Es&&(bt=ci()):(Ln=Z,zi="value"in Ln?Ln.value:Ln.textContent,Es=!0)),rt=Bc(P,Mt),0<rt.length&&(Mt=new Jo(Mt,t,null,a,Z),G.push({event:Mt,listeners:rt}),bt?Mt.data=bt:(bt=nl(a),bt!==null&&(Mt.data=bt)))),(bt=cf?wn(t,a):Ss(t,a))&&(Mt=Bc(P,"onBeforeInput"),0<Mt.length&&(rt=new Jo("onBeforeInput","beforeinput",null,a,Z),G.push({event:rt,listeners:Mt}),rt.data=bt)),$E(G,t,P,a,Z)}Qg(G,n)})}function Ll(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Bc(t,n){for(var a=n+"Capture",u=[];t!==null;){var f=t,_=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||_===null||(f=Pi(t,a),f!=null&&u.unshift(Ll(t,f,_)),f=Pi(t,n),f!=null&&u.push(Ll(t,f,_))),t.tag===3)return u;t=t.return}return[]}function iS(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Jg(t,n,a,u,f){for(var _=n._reactName,v=[];a!==null&&a!==u;){var T=a,A=T.alternate,P=T.stateNode;if(T=T.tag,A!==null&&A===u)break;T!==5&&T!==26&&T!==27||P===null||(A=P,f?(P=Pi(a,_),P!=null&&v.unshift(Ll(a,P,A))):f||(P=Pi(a,_),P!=null&&v.push(Ll(a,P,A)))),a=a.return}v.length!==0&&t.push({event:n,listeners:v})}var sS=/\r\n?/g,rS=/\u0000|\uFFFD/g;function $g(t){return(typeof t=="string"?t:""+t).replace(sS,`
`).replace(rS,"")}function tv(t,n){return n=$g(n),$g(t)===n}function Yt(t,n,a,u,f,_){switch(a){case"children":typeof u=="string"?n==="body"||n==="textarea"&&u===""||Rn(t,u):(typeof u=="number"||typeof u=="bigint")&&n!=="body"&&Rn(t,""+u);break;case"className":Gt(t,"class",u);break;case"tabIndex":Gt(t,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Gt(t,a,u);break;case"style":Ta(t,u,_);break;case"data":if(n!=="object"){Gt(t,"data",u);break}case"src":case"href":if(u===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(a);break}u=gs(""+u),t.setAttribute(a,u);break;case"action":case"formAction":if(typeof u=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(a==="formAction"?(n!=="input"&&Yt(t,n,"name",f.name,f,null),Yt(t,n,"formEncType",f.formEncType,f,null),Yt(t,n,"formMethod",f.formMethod,f,null),Yt(t,n,"formTarget",f.formTarget,f,null)):(Yt(t,n,"encType",f.encType,f,null),Yt(t,n,"method",f.method,f,null),Yt(t,n,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(a);break}u=gs(""+u),t.setAttribute(a,u);break;case"onClick":u!=null&&(t.onclick=on);break;case"onScroll":u!=null&&Ot("scroll",t);break;case"onScrollEnd":u!=null&&Ot("scrollend",t);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(o(61));if(a=u.__html,a!=null){if(f.children!=null)throw Error(o(60));t.innerHTML=a}}break;case"multiple":t.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":t.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){t.removeAttribute("xlink:href");break}a=gs(""+u),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(a,""+u):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":u===!0?t.setAttribute(a,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(a,u):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?t.setAttribute(a,u):t.removeAttribute(a);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?t.removeAttribute(a):t.setAttribute(a,u);break;case"popover":Ot("beforetoggle",t),Ot("toggle",t),xt(t,"popover",u);break;case"xlinkActuate":an(t,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":an(t,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":an(t,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":an(t,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":an(t,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":an(t,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":an(t,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":an(t,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":an(t,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":xt(t,"is",u);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=wa.get(a)||a,xt(t,a,u))}}function Od(t,n,a,u,f,_){switch(a){case"style":Ta(t,u,_);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(o(61));if(a=u.__html,a!=null){if(f.children!=null)throw Error(o(60));t.innerHTML=a}}break;case"children":typeof u=="string"?Rn(t,u):(typeof u=="number"||typeof u=="bigint")&&Rn(t,""+u);break;case"onScroll":u!=null&&Ot("scroll",t);break;case"onScrollEnd":u!=null&&Ot("scrollend",t);break;case"onClick":u!=null&&(t.onclick=on);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Pu.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),n=a.slice(2,f?a.length-7:void 0),_=t[Le]||null,_=_!=null?_[a]:null,typeof _=="function"&&t.removeEventListener(n,_,f),typeof u=="function")){typeof _!="function"&&_!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,u,f);break t}a in t?t[a]=u:u===!0?t.setAttribute(a,""):xt(t,a,u)}}}function qe(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",t),Ot("load",t);var u=!1,f=!1,_;for(_ in a)if(a.hasOwnProperty(_)){var v=a[_];if(v!=null)switch(_){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,n));default:Yt(t,n,_,v,a,null)}}f&&Yt(t,n,"srcSet",a.srcSet,a,null),u&&Yt(t,n,"src",a.src,a,null);return;case"input":Ot("invalid",t);var T=_=v=f=null,A=null,P=null;for(u in a)if(a.hasOwnProperty(u)){var Z=a[u];if(Z!=null)switch(u){case"name":f=Z;break;case"type":v=Z;break;case"checked":A=Z;break;case"defaultChecked":P=Z;break;case"value":_=Z;break;case"defaultValue":T=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(o(137,n));break;default:Yt(t,n,u,Z,a,null)}}Sr(t,_,T,A,P,v,f,!1);return;case"select":Ot("invalid",t),u=v=_=null;for(f in a)if(a.hasOwnProperty(f)&&(T=a[f],T!=null))switch(f){case"value":_=T;break;case"defaultValue":v=T;break;case"multiple":u=T;default:Yt(t,n,f,T,a,null)}n=_,a=v,t.multiple=!!u,n!=null?Xt(t,!!u,n,!1):a!=null&&Xt(t,!!u,a,!0);return;case"textarea":Ot("invalid",t),_=f=u=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":u=T;break;case"defaultValue":f=T;break;case"children":_=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(o(91));break;default:Yt(t,n,v,T,a,null)}ms(t,u,f,_);return;case"option":for(A in a)if(a.hasOwnProperty(A)&&(u=a[A],u!=null))switch(A){case"selected":t.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Yt(t,n,A,u,a,null)}return;case"dialog":Ot("beforetoggle",t),Ot("toggle",t),Ot("cancel",t),Ot("close",t);break;case"iframe":case"object":Ot("load",t);break;case"video":case"audio":for(u=0;u<Rl.length;u++)Ot(Rl[u],t);break;case"image":Ot("error",t),Ot("load",t);break;case"details":Ot("toggle",t);break;case"embed":case"source":case"link":Ot("error",t),Ot("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in a)if(a.hasOwnProperty(P)&&(u=a[P],u!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,n));default:Yt(t,n,P,u,a,null)}return;default:if(Tr(n)){for(Z in a)a.hasOwnProperty(Z)&&(u=a[Z],u!==void 0&&Od(t,n,Z,u,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(u=a[T],u!=null&&Yt(t,n,T,u,a,null))}function aS(t,n,a,u){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,_=null,v=null,T=null,A=null,P=null,Z=null;for(B in a){var G=a[B];if(a.hasOwnProperty(B)&&G!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":A=G;default:u.hasOwnProperty(B)||Yt(t,n,B,null,u,G)}}for(var U in u){var B=u[U];if(G=a[U],u.hasOwnProperty(U)&&(B!=null||G!=null))switch(U){case"type":_=B;break;case"name":f=B;break;case"checked":P=B;break;case"defaultChecked":Z=B;break;case"value":v=B;break;case"defaultValue":T=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(o(137,n));break;default:B!==G&&Yt(t,n,U,B,u,G)}}Vo(t,v,T,A,P,Z,_,f);return;case"select":B=v=T=U=null;for(_ in a)if(A=a[_],a.hasOwnProperty(_)&&A!=null)switch(_){case"value":break;case"multiple":B=A;default:u.hasOwnProperty(_)||Yt(t,n,_,null,u,A)}for(f in u)if(_=u[f],A=a[f],u.hasOwnProperty(f)&&(_!=null||A!=null))switch(f){case"value":U=_;break;case"defaultValue":T=_;break;case"multiple":v=_;default:_!==A&&Yt(t,n,f,_,u,A)}n=T,a=v,u=B,U!=null?Xt(t,!!a,U,!1):!!u!=!!a&&(n!=null?Xt(t,!!a,n,!0):Xt(t,!!a,a?[]:"",!1));return;case"textarea":B=U=null;for(T in a)if(f=a[T],a.hasOwnProperty(T)&&f!=null&&!u.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Yt(t,n,T,null,u,f)}for(v in u)if(f=u[v],_=a[v],u.hasOwnProperty(v)&&(f!=null||_!=null))switch(v){case"value":U=f;break;case"defaultValue":B=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(o(91));break;default:f!==_&&Yt(t,n,v,f,u,_)}ui(t,U,B);return;case"option":for(var st in a)if(U=a[st],a.hasOwnProperty(st)&&U!=null&&!u.hasOwnProperty(st))switch(st){case"selected":t.selected=!1;break;default:Yt(t,n,st,null,u,U)}for(A in u)if(U=u[A],B=a[A],u.hasOwnProperty(A)&&U!==B&&(U!=null||B!=null))switch(A){case"selected":t.selected=U&&typeof U!="function"&&typeof U!="symbol";break;default:Yt(t,n,A,U,u,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ut in a)U=a[ut],a.hasOwnProperty(ut)&&U!=null&&!u.hasOwnProperty(ut)&&Yt(t,n,ut,null,u,U);for(P in u)if(U=u[P],B=a[P],u.hasOwnProperty(P)&&U!==B&&(U!=null||B!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(o(137,n));break;default:Yt(t,n,P,U,u,B)}return;default:if(Tr(n)){for(var Wt in a)U=a[Wt],a.hasOwnProperty(Wt)&&U!==void 0&&!u.hasOwnProperty(Wt)&&Od(t,n,Wt,void 0,u,U);for(Z in u)U=u[Z],B=a[Z],!u.hasOwnProperty(Z)||U===B||U===void 0&&B===void 0||Od(t,n,Z,U,u,B);return}}for(var I in a)U=a[I],a.hasOwnProperty(I)&&U!=null&&!u.hasOwnProperty(I)&&Yt(t,n,I,null,u,U);for(G in u)U=u[G],B=a[G],!u.hasOwnProperty(G)||U===B||U==null&&B==null||Yt(t,n,G,U,u,B)}function ev(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function oS(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),u=0;u<a.length;u++){var f=a[u],_=f.transferSize,v=f.initiatorType,T=f.duration;if(_&&T&&ev(v)){for(v=0,T=f.responseEnd,u+=1;u<a.length;u++){var A=a[u],P=A.startTime;if(P>T)break;var Z=A.transferSize,G=A.initiatorType;Z&&ev(G)&&(A=A.responseEnd,v+=Z*(A<T?1:(T-P)/(A-P)))}if(--u,n+=8*(_+v)/(f.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Rd=null,Ld=null;function Hc(t){return t.nodeType===9?t:t.ownerDocument}function nv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function iv(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Md(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Id=null;function lS(){var t=window.event;return t&&t.type==="popstate"?t===Id?!1:(Id=t,!0):(Id=null,!1)}var sv=typeof setTimeout=="function"?setTimeout:void 0,uS=typeof clearTimeout=="function"?clearTimeout:void 0,rv=typeof Promise=="function"?Promise:void 0,cS=typeof queueMicrotask=="function"?queueMicrotask:typeof rv<"u"?function(t){return rv.resolve(null).then(t).catch(hS)}:sv;function hS(t){setTimeout(function(){throw t})}function qs(t){return t==="head"}function av(t,n){var a=n,u=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(u===0){t.removeChild(f),oo(n);return}u--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")u++;else if(a==="html")Ml(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Ml(a);for(var _=a.firstChild;_;){var v=_.nextSibling,T=_.nodeName;_[yr]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&_.rel.toLowerCase()==="stylesheet"||a.removeChild(_),_=v}}else a==="body"&&Ml(t.ownerDocument.body);a=f}while(a);oo(n)}function ov(t,n){var a=t;t=0;do{var u=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),u&&u.nodeType===8)if(a=u.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=u}while(a)}function Dd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Dd(a),Ho(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function fS(t,n,a,u){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!u&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(u){if(!t[yr])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(_=t.getAttribute("rel"),_==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(_!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(_=t.getAttribute("src"),(_!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&_&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var _=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===_)return t}else return t;if(t=Bn(t.nextSibling),t===null)break}return null}function dS(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Bn(t.nextSibling),t===null))return null;return t}function lv(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Bn(t.nextSibling),t===null))return null;return t}function kd(t){return t.data==="$?"||t.data==="$~"}function Pd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function _S(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var u=function(){n(),a.removeEventListener("DOMContentLoaded",u)};a.addEventListener("DOMContentLoaded",u),t._reactRetry=u}}function Bn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var zd=null;function uv(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return Bn(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function cv(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function hv(t,n,a){switch(n=Hc(a),t){case"html":if(t=n.documentElement,!t)throw Error(o(452));return t;case"head":if(t=n.head,!t)throw Error(o(453));return t;case"body":if(t=n.body,!t)throw Error(o(454));return t;default:throw Error(o(451))}}function Ml(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ho(t)}var Hn=new Map,fv=new Set;function jc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var $i=$.d;$.d={f:mS,r:pS,D:gS,C:vS,L:yS,m:bS,X:SS,S:ES,M:TS};function mS(){var t=$i.f(),n=Mc();return t||n}function pS(t){var n=fs(t);n!==null&&n.tag===5&&n.type==="form"?Op(n):$i.r(t)}var so=typeof document>"u"?null:document;function dv(t,n,a){var u=so;if(u&&typeof n=="string"&&n){var f=ne(n);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),fv.has(f)||(fv.add(f),t={rel:t,crossOrigin:a,href:n},u.querySelector(f)===null&&(n=u.createElement("link"),qe(n,"link",t),be(n),u.head.appendChild(n)))}}function gS(t){$i.D(t),dv("dns-prefetch",t,null)}function vS(t,n){$i.C(t,n),dv("preconnect",t,n)}function yS(t,n,a){$i.L(t,n,a);var u=so;if(u&&t&&n){var f='link[rel="preload"][as="'+ne(n)+'"]';n==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+ne(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+ne(a.imageSizes)+'"]')):f+='[href="'+ne(t)+'"]';var _=f;switch(n){case"style":_=ro(t);break;case"script":_=ao(t)}Hn.has(_)||(t=w({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Hn.set(_,t),u.querySelector(f)!==null||n==="style"&&u.querySelector(Il(_))||n==="script"&&u.querySelector(Dl(_))||(n=u.createElement("link"),qe(n,"link",t),be(n),u.head.appendChild(n)))}}function bS(t,n){$i.m(t,n);var a=so;if(a&&t){var u=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+ne(u)+'"][href="'+ne(t)+'"]',_=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=ao(t)}if(!Hn.has(_)&&(t=w({rel:"modulepreload",href:t},n),Hn.set(_,t),a.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Dl(_)))return}u=a.createElement("link"),qe(u,"link",t),be(u),a.head.appendChild(u)}}}function ES(t,n,a){$i.S(t,n,a);var u=so;if(u&&t){var f=ds(u).hoistableStyles,_=ro(t);n=n||"default";var v=f.get(_);if(!v){var T={loading:0,preload:null};if(v=u.querySelector(Il(_)))T.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Hn.get(_))&&Ud(t,a);var A=v=u.createElement("link");be(A),qe(A,"link",t),A._p=new Promise(function(P,Z){A.onload=P,A.onerror=Z}),A.addEventListener("load",function(){T.loading|=1}),A.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Zc(v,n,u)}v={type:"stylesheet",instance:v,count:1,state:T},f.set(_,v)}}}function SS(t,n){$i.X(t,n);var a=so;if(a&&t){var u=ds(a).hoistableScripts,f=ao(t),_=u.get(f);_||(_=a.querySelector(Dl(f)),_||(t=w({src:t,async:!0},n),(n=Hn.get(f))&&Bd(t,n),_=a.createElement("script"),be(_),qe(_,"link",t),a.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},u.set(f,_))}}function TS(t,n){$i.M(t,n);var a=so;if(a&&t){var u=ds(a).hoistableScripts,f=ao(t),_=u.get(f);_||(_=a.querySelector(Dl(f)),_||(t=w({src:t,async:!0,type:"module"},n),(n=Hn.get(f))&&Bd(t,n),_=a.createElement("script"),be(_),qe(_,"link",t),a.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},u.set(f,_))}}function _v(t,n,a,u){var f=(f=nt.current)?jc(f):null;if(!f)throw Error(o(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=ro(a.href),a=ds(f).hoistableStyles,u=a.get(n),u||(u={type:"style",instance:null,count:0,state:null},a.set(n,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=ro(a.href);var _=ds(f).hoistableStyles,v=_.get(t);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(t,v),(_=f.querySelector(Il(t)))&&!_._p&&(v.instance=_,v.state.loading=5),Hn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Hn.set(t,a),_||wS(f,t,a,v.state))),n&&u===null)throw Error(o(528,""));return v}if(n&&u!==null)throw Error(o(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ao(a),a=ds(f).hoistableScripts,u=a.get(n),u||(u={type:"script",instance:null,count:0,state:null},a.set(n,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,t))}}function ro(t){return'href="'+ne(t)+'"'}function Il(t){return'link[rel="stylesheet"]['+t+"]"}function mv(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function wS(t,n,a,u){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?u.loading=1:(n=t.createElement("link"),u.preload=n,n.addEventListener("load",function(){return u.loading|=1}),n.addEventListener("error",function(){return u.loading|=2}),qe(n,"link",a),be(n),t.head.appendChild(n))}function ao(t){return'[src="'+ne(t)+'"]'}function Dl(t){return"script[async]"+t}function pv(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var u=t.querySelector('style[data-href~="'+ne(a.href)+'"]');if(u)return n.instance=u,be(u),u;var f=w({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return u=(t.ownerDocument||t).createElement("style"),be(u),qe(u,"style",f),Zc(u,a.precedence,t),n.instance=u;case"stylesheet":f=ro(a.href);var _=t.querySelector(Il(f));if(_)return n.state.loading|=4,n.instance=_,be(_),_;u=mv(a),(f=Hn.get(f))&&Ud(u,f),_=(t.ownerDocument||t).createElement("link"),be(_);var v=_;return v._p=new Promise(function(T,A){v.onload=T,v.onerror=A}),qe(_,"link",u),n.state.loading|=4,Zc(_,a.precedence,t),n.instance=_;case"script":return _=ao(a.src),(f=t.querySelector(Dl(_)))?(n.instance=f,be(f),f):(u=a,(f=Hn.get(_))&&(u=w({},a),Bd(u,f)),t=t.ownerDocument||t,f=t.createElement("script"),be(f),qe(f,"link",u),t.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(o(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(u=n.instance,n.state.loading|=4,Zc(u,a.precedence,t));return n.instance}function Zc(t,n,a){for(var u=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,_=f,v=0;v<u.length;v++){var T=u[v];if(T.dataset.precedence===n)_=T;else if(_!==f)break}_?_.parentNode.insertBefore(t,_.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Ud(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Bd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var qc=null;function gv(t,n,a){if(qc===null){var u=new Map,f=qc=new Map;f.set(a,u)}else f=qc,u=f.get(a),u||(u=new Map,f.set(a,u));if(u.has(t))return u;for(u.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var _=a[f];if(!(_[yr]||_[ye]||t==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var v=_.getAttribute(n)||"";v=t+v;var T=u.get(v);T?T.push(_):u.set(v,[_])}}return u}function vv(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function CS(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function yv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function xS(t,n,a,u){if(a.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=ro(u.href),_=n.querySelector(Il(f));if(_){n=_._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Vc.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=_,be(_);return}_=n.ownerDocument||n,u=mv(u),(f=Hn.get(f))&&Ud(u,f),_=_.createElement("link"),be(_);var v=_;v._p=new Promise(function(T,A){v.onload=T,v.onerror=A}),qe(_,"link",u),a.instance=_}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Vc.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Hd=0;function AS(t,n){return t.stylesheets&&t.count===0&&Fc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var u=setTimeout(function(){if(t.stylesheets&&Fc(t,t.stylesheets),t.unsuspend){var _=t.unsuspend;t.unsuspend=null,_()}},6e4+n);0<t.imgBytes&&Hd===0&&(Hd=62500*oS());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Fc(t,t.stylesheets),t.unsuspend)){var _=t.unsuspend;t.unsuspend=null,_()}},(t.imgBytes>Hd?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(u),clearTimeout(f)}}:null}function Vc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Fc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Gc=null;function Fc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Gc=new Map,n.forEach(NS,t),Gc=null,Vc.call(t))}function NS(t,n){if(!(n.state.loading&4)){var a=Gc.get(t);if(a)var u=a.get(null);else{a=new Map,Gc.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<f.length;_++){var v=f[_];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),u=v)}u&&a.set(null,u)}f=n.instance,v=f.getAttribute("data-precedence"),_=a.get(v)||u,_===u&&a.set(null,f),a.set(v,f),this.count++,u=Vc.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),_?_.parentNode.insertBefore(f,_.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),n.state.loading|=4}}var kl={$$typeof:gt,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function OS(t,n,a,u,f,_,v,T,A){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=zo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zo(0),this.hiddenUpdates=zo(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=_,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function bv(t,n,a,u,f,_,v,T,A,P,Z,G){return t=new OS(t,n,a,v,A,P,Z,G,T),n=1,_===!0&&(n|=24),_=Fe(3,null,null,n),t.current=_,_.stateNode=t,n=yf(),n.refCount++,t.pooledCache=n,n.refCount++,_.memoizedState={element:u,isDehydrated:a,cache:n},Tf(_),t}function Ev(t){return t?(t=Bi,t):Bi}function Sv(t,n,a,u,f,_){f=Ev(f),u.context===null?u.context=f:u.pendingContext=f,u=Ms(n),u.payload={element:a},_=_===void 0?null:_,_!==null&&(u.callback=_),a=Is(t,u,n),a!==null&&(pn(a,t,n),dl(a,t,n))}function Tv(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function jd(t,n){Tv(t,n),(t=t.alternate)&&Tv(t,n)}function wv(t){if(t.tag===13||t.tag===31){var n=Pn(t,67108864);n!==null&&pn(n,t,67108864),jd(t,67108864)}}function Cv(t){if(t.tag===13||t.tag===31){var n=On();n=rn(n);var a=Pn(t,n);a!==null&&pn(a,t,n),jd(t,n)}}var Yc=!0;function RS(t,n,a,u){var f=H.T;H.T=null;var _=$.p;try{$.p=2,Zd(t,n,a,u)}finally{$.p=_,H.T=f}}function LS(t,n,a,u){var f=H.T;H.T=null;var _=$.p;try{$.p=8,Zd(t,n,a,u)}finally{$.p=_,H.T=f}}function Zd(t,n,a,u){if(Yc){var f=qd(u);if(f===null)Nd(t,n,u,Wc,a),Av(t,u);else if(IS(f,t,n,a,u))u.stopPropagation();else if(Av(t,u),n&4&&-1<MS.indexOf(t)){for(;f!==null;){var _=fs(f);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var v=Ri(_.pendingLanes);if(v!==0){var T=_;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var A=1<<31-Je(v);T.entanglements[1]|=A,v&=~A}Ei(_),(Bt&6)===0&&(Rc=Xe()+500,Ol(0))}}break;case 31:case 13:T=Pn(_,2),T!==null&&pn(T,_,2),Mc(),jd(_,2)}if(_=qd(u),_===null&&Nd(t,n,u,Wc,a),_===f)break;f=_}f!==null&&u.stopPropagation()}else Nd(t,n,u,null,a)}}function qd(t){return t=wr(t),Vd(t)}var Wc=null;function Vd(t){if(Wc=null,t=Ii(t),t!==null){var n=d(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=p(n),t!==null)return t;t=null}else if(a===31){if(t=y(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Wc=t,null}function xv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Wh()){case ba:return 2;case ko:return 8;case dr:case Kh:return 32;case Po:return 268435456;default:return 32}default:return 32}}var Gd=!1,Vs=null,Gs=null,Fs=null,Pl=new Map,zl=new Map,Ys=[],MS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Av(t,n){switch(t){case"focusin":case"focusout":Vs=null;break;case"dragenter":case"dragleave":Gs=null;break;case"mouseover":case"mouseout":Fs=null;break;case"pointerover":case"pointerout":Pl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":zl.delete(n.pointerId)}}function Ul(t,n,a,u,f,_){return t===null||t.nativeEvent!==_?(t={blockedOn:n,domEventName:a,eventSystemFlags:u,nativeEvent:_,targetContainers:[f]},n!==null&&(n=fs(n),n!==null&&wv(n)),t):(t.eventSystemFlags|=u,n=t.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),t)}function IS(t,n,a,u,f){switch(n){case"focusin":return Vs=Ul(Vs,t,n,a,u,f),!0;case"dragenter":return Gs=Ul(Gs,t,n,a,u,f),!0;case"mouseover":return Fs=Ul(Fs,t,n,a,u,f),!0;case"pointerover":var _=f.pointerId;return Pl.set(_,Ul(Pl.get(_)||null,t,n,a,u,f)),!0;case"gotpointercapture":return _=f.pointerId,zl.set(_,Ul(zl.get(_)||null,t,n,a,u,f)),!0}return!1}function Nv(t){var n=Ii(t.target);if(n!==null){var a=d(n);if(a!==null){if(n=a.tag,n===13){if(n=p(a),n!==null){t.blockedOn=n,Bo(t.priority,function(){Cv(a)});return}}else if(n===31){if(n=y(a),n!==null){t.blockedOn=n,Bo(t.priority,function(){Cv(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Kc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=qd(t.nativeEvent);if(a===null){a=t.nativeEvent;var u=new a.constructor(a.type,a);Ca=u,a.target.dispatchEvent(u),Ca=null}else return n=fs(a),n!==null&&wv(n),t.blockedOn=a,!1;n.shift()}return!0}function Ov(t,n,a){Kc(t)&&a.delete(n)}function DS(){Gd=!1,Vs!==null&&Kc(Vs)&&(Vs=null),Gs!==null&&Kc(Gs)&&(Gs=null),Fs!==null&&Kc(Fs)&&(Fs=null),Pl.forEach(Ov),zl.forEach(Ov)}function Qc(t,n){t.blockedOn===n&&(t.blockedOn=null,Gd||(Gd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,DS)))}var Xc=null;function Rv(t){Xc!==t&&(Xc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Xc===t&&(Xc=null);for(var n=0;n<t.length;n+=3){var a=t[n],u=t[n+1],f=t[n+2];if(typeof u!="function"){if(Vd(u||a)===null)continue;break}var _=fs(a);_!==null&&(t.splice(n,3),n-=3,qf(_,{pending:!0,data:f,method:a.method,action:u},u,f))}}))}function oo(t){function n(A){return Qc(A,t)}Vs!==null&&Qc(Vs,t),Gs!==null&&Qc(Gs,t),Fs!==null&&Qc(Fs,t),Pl.forEach(n),zl.forEach(n);for(var a=0;a<Ys.length;a++){var u=Ys[a];u.blockedOn===t&&(u.blockedOn=null)}for(;0<Ys.length&&(a=Ys[0],a.blockedOn===null);)Nv(a),a.blockedOn===null&&Ys.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(u=0;u<a.length;u+=3){var f=a[u],_=a[u+1],v=f[Le]||null;if(typeof _=="function")v||Rv(a);else if(v){var T=null;if(_&&_.hasAttribute("formAction")){if(f=_,v=_[Le]||null)T=v.formAction;else if(Vd(f)!==null)continue}else T=v.action;typeof T=="function"?a[u+1]=T:(a.splice(u,3),u-=3),Rv(a)}}}function Lv(){function t(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(v){return f=v})},focusReset:"manual",scroll:"manual"})}function n(){f!==null&&(f(),f=null),u||setTimeout(a,20)}function a(){if(!u&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){u=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),f!==null&&(f(),f=null)}}}function Fd(t){this._internalRoot=t}Jc.prototype.render=Fd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(o(409));var a=n.current,u=On();Sv(a,u,t,n,null,null)},Jc.prototype.unmount=Fd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Sv(t.current,2,null,t,null,null),Mc(),n[Mi]=null}};function Jc(t){this._internalRoot=t}Jc.prototype.unstable_scheduleHydration=function(t){if(t){var n=Uo();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Ys.length&&n!==0&&n<Ys[a].priority;a++);Ys.splice(a,0,t),a===0&&Nv(t)}};var Mv=e.version;if(Mv!=="19.2.0")throw Error(o(527,Mv,"19.2.0"));$.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(o(188)):(t=Object.keys(t).join(","),Error(o(268,t)));return t=E(n),t=t!==null?N(t):null,t=t===null?null:t.stateNode,t};var kS={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$c.isDisabled&&$c.supportsFiber)try{hs=$c.inject(kS),Be=$c}catch{}}return Hl.createRoot=function(t,n){if(!c(t))throw Error(o(299));var a=!1,u="",f=Bp,_=Hp,v=jp;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(_=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError)),n=bv(t,1,!1,null,null,a,u,null,f,_,v,Lv),t[Mi]=n.current,Ad(t),new Fd(n)},Hl.hydrateRoot=function(t,n,a){if(!c(t))throw Error(o(299));var u=!1,f="",_=Bp,v=Hp,T=jp,A=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(_=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(A=a.formState)),n=bv(t,1,!0,n,a??null,u,f,A,_,v,T,Lv),n.context=Ev(null),a=n.current,u=On(),u=rn(u),f=Ms(u),f.callback=null,Is(a,f,u),a=u,n.current.lanes=a,Li(n,a),Ei(n),t[Mi]=n.current,Ad(t),new Jc(n)},Hl.version="19.2.0",Hl}var Zv;function VS(){if(Zv)return Kd.exports;Zv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Kd.exports=qS(),Kd.exports}var GS=VS();const FS=()=>{};var qv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q=function(r,e){if(!r)throw wo(e)},wo=function(r){return new Error("Firebase Database ("+s0.SDK_VERSION+") INTERNAL ASSERT FAILED: "+r)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0=function(r){const e=[];let i=0;for(let o=0;o<r.length;o++){let c=r.charCodeAt(o);c<128?e[i++]=c:c<2048?(e[i++]=c>>6|192,e[i++]=c&63|128):(c&64512)===55296&&o+1<r.length&&(r.charCodeAt(o+1)&64512)===56320?(c=65536+((c&1023)<<10)+(r.charCodeAt(++o)&1023),e[i++]=c>>18|240,e[i++]=c>>12&63|128,e[i++]=c>>6&63|128,e[i++]=c&63|128):(e[i++]=c>>12|224,e[i++]=c>>6&63|128,e[i++]=c&63|128)}return e},YS=function(r){const e=[];let i=0,o=0;for(;i<r.length;){const c=r[i++];if(c<128)e[o++]=String.fromCharCode(c);else if(c>191&&c<224){const d=r[i++];e[o++]=String.fromCharCode((c&31)<<6|d&63)}else if(c>239&&c<365){const d=r[i++],p=r[i++],y=r[i++],b=((c&7)<<18|(d&63)<<12|(p&63)<<6|y&63)-65536;e[o++]=String.fromCharCode(55296+(b>>10)),e[o++]=String.fromCharCode(56320+(b&1023))}else{const d=r[i++],p=r[i++];e[o++]=String.fromCharCode((c&15)<<12|(d&63)<<6|p&63)}}return e.join("")},B_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let c=0;c<r.length;c+=3){const d=r[c],p=c+1<r.length,y=p?r[c+1]:0,b=c+2<r.length,E=b?r[c+2]:0,N=d>>2,w=(d&3)<<4|y>>4;let x=(y&15)<<2|E>>6,F=E&63;b||(F=64,p||(x=64)),o.push(i[N],i[w],i[x],i[F])}return o.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(r0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):YS(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let c=0;c<r.length;){const d=i[r.charAt(c++)],y=c<r.length?i[r.charAt(c)]:0;++c;const E=c<r.length?i[r.charAt(c)]:64;++c;const w=c<r.length?i[r.charAt(c)]:64;if(++c,d==null||y==null||E==null||w==null)throw new WS;const x=d<<2|y>>4;if(o.push(x),E!==64){const F=y<<4&240|E>>2;if(o.push(F),w!==64){const Y=E<<6&192|w;o.push(Y)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class WS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const a0=function(r){const e=r0(r);return B_.encodeByteArray(e,!0)},lh=function(r){return a0(r).replace(/\./g,"")},uh=function(r){try{return B_.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KS(r){return o0(void 0,r)}function o0(r,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const i=e;return new Date(i.getTime());case Object:r===void 0&&(r={});break;case Array:r=[];break;default:return e}for(const i in e)!e.hasOwnProperty(i)||!QS(i)||(r[i]=o0(r[i],e[i]));return r}function QS(r){return r!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS=()=>XS().__FIREBASE_DEFAULTS__,$S=()=>{if(typeof process>"u"||typeof qv>"u")return;const r=qv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},tT=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&uh(r[1]);return e&&JSON.parse(e)},H_=()=>{try{return FS()||JS()||$S()||tT()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},l0=r=>H_()?.emulatorHosts?.[r],eT=r=>{const e=l0(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const o=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),o]:[e.substring(0,i),o]},u0=()=>H_()?.config,c0=r=>H_()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,o)=>{i?this.reject(i):this.resolve(o),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,o))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Co(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function h0(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nT(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},o=e||"demo-project",c=r.iat||0,d=r.sub||r.user_id;if(!d)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const p={iss:`https://securetoken.google.com/${o}`,aud:o,iat:c,exp:c+3600,auth_time:c,sub:d,user_id:d,firebase:{sign_in_provider:"custom",identities:{}},...r};return[lh(JSON.stringify(i)),lh(JSON.stringify(p)),""].join(".")}const Kl={};function iT(){const r={prod:[],emulator:[]};for(const e of Object.keys(Kl))Kl[e]?r.emulator.push(e):r.prod.push(e);return r}function sT(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let Vv=!1;function f0(r,e){if(typeof window>"u"||typeof document>"u"||!Co(window.location.host)||Kl[r]===e||Kl[r]||Vv)return;Kl[r]=e;function i(x){return`__firebase__banner__${x}`}const o="__firebase__banner",d=iT().prod.length>0;function p(){const x=document.getElementById(o);x&&x.remove()}function y(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function b(x,F){x.setAttribute("width","24"),x.setAttribute("id",F),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function E(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{Vv=!0,p()},x}function N(x,F){x.setAttribute("id",F),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function w(){const x=sT(o),F=i("text"),Y=document.getElementById(F)||document.createElement("span"),tt=i("learnmore"),dt=document.getElementById(tt)||document.createElement("a"),zt=i("preprendIcon"),te=document.getElementById(zt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const gt=x.element;y(gt),N(dt,tt);const ve=E();b(te,zt),gt.append(te,Y,dt,ve),document.body.appendChild(gt)}d?(Y.innerText="Preview backend disconnected.",te.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(te.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Y.innerText="Preview backend running in this workspace."),Y.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function j_(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nn())}function rT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function aT(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function d0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function oT(){const r=nn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function lT(){return s0.NODE_ADMIN===!0}function uT(){try{return typeof indexedDB=="object"}catch{return!1}}function cT(){return new Promise((r,e)=>{try{let i=!0;const o="validate-browser-context-for-indexeddb-analytics-module",c=self.indexedDB.open(o);c.onsuccess=()=>{c.result.close(),i||self.indexedDB.deleteDatabase(o),r(!0)},c.onupgradeneeded=()=>{i=!1},c.onerror=()=>{e(c.error?.message||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT="FirebaseError";class or extends Error{constructor(e,i,o){super(i),this.code=e,this.customData=o,this.name=hT,Object.setPrototypeOf(this,or.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mu.prototype.create)}}class mu{constructor(e,i,o){this.service=e,this.serviceName=i,this.errors=o}create(e,...i){const o=i[0]||{},c=`${this.service}/${e}`,d=this.errors[e],p=d?fT(d,o):"Error",y=`${this.serviceName}: ${p} (${c}).`;return new or(c,y,o)}}function fT(r,e){return r.replace(dT,(i,o)=>{const c=e[o];return c!=null?String(c):`<${o}?>`})}const dT=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function su(r){return JSON.parse(r)}function ze(r){return JSON.stringify(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0=function(r){let e={},i={},o={},c="";try{const d=r.split(".");e=su(uh(d[0])||""),i=su(uh(d[1])||""),c=d[2],o=i.d||{},delete i.d}catch{}return{header:e,claims:i,data:o,signature:c}},_T=function(r){const e=_0(r),i=e.claims;return!!i&&typeof i=="object"&&i.hasOwnProperty("iat")},mT=function(r){const e=_0(r).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wi(r,e){return Object.prototype.hasOwnProperty.call(r,e)}function go(r,e){if(Object.prototype.hasOwnProperty.call(r,e))return r[e]}function ch(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function hh(r,e,i){const o={};for(const c in r)Object.prototype.hasOwnProperty.call(r,c)&&(o[c]=e.call(i,r[c],c,r));return o}function ra(r,e){if(r===e)return!0;const i=Object.keys(r),o=Object.keys(e);for(const c of i){if(!o.includes(c))return!1;const d=r[c],p=e[c];if(Gv(d)&&Gv(p)){if(!ra(d,p))return!1}else if(d!==p)return!1}for(const c of o)if(!i.includes(c))return!1;return!0}function Gv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xo(r){const e=[];for(const[i,o]of Object.entries(r))Array.isArray(o)?o.forEach(c=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(c))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(o));return e.length?"&"+e.join("&"):""}function Gl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(o=>{if(o){const[c,d]=o.split("=");e[decodeURIComponent(c)]=decodeURIComponent(d)}}),e}function Fl(r){const e=r.indexOf("?");if(!e)return"";const i=r.indexOf("#",e);return r.substring(e,i>0?i:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,i){i||(i=0);const o=this.W_;if(typeof e=="string")for(let w=0;w<16;w++)o[w]=e.charCodeAt(i)<<24|e.charCodeAt(i+1)<<16|e.charCodeAt(i+2)<<8|e.charCodeAt(i+3),i+=4;else for(let w=0;w<16;w++)o[w]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i+=4;for(let w=16;w<80;w++){const x=o[w-3]^o[w-8]^o[w-14]^o[w-16];o[w]=(x<<1|x>>>31)&4294967295}let c=this.chain_[0],d=this.chain_[1],p=this.chain_[2],y=this.chain_[3],b=this.chain_[4],E,N;for(let w=0;w<80;w++){w<40?w<20?(E=y^d&(p^y),N=1518500249):(E=d^p^y,N=1859775393):w<60?(E=d&p|y&(d|p),N=2400959708):(E=d^p^y,N=3395469782);const x=(c<<5|c>>>27)+E+b+N+o[w]&4294967295;b=y,y=p,p=(d<<30|d>>>2)&4294967295,d=c,c=x}this.chain_[0]=this.chain_[0]+c&4294967295,this.chain_[1]=this.chain_[1]+d&4294967295,this.chain_[2]=this.chain_[2]+p&4294967295,this.chain_[3]=this.chain_[3]+y&4294967295,this.chain_[4]=this.chain_[4]+b&4294967295}update(e,i){if(e==null)return;i===void 0&&(i=e.length);const o=i-this.blockSize;let c=0;const d=this.buf_;let p=this.inbuf_;for(;c<i;){if(p===0)for(;c<=o;)this.compress_(e,c),c+=this.blockSize;if(typeof e=="string"){for(;c<i;)if(d[p]=e.charCodeAt(c),++p,++c,p===this.blockSize){this.compress_(d),p=0;break}}else for(;c<i;)if(d[p]=e[c],++p,++c,p===this.blockSize){this.compress_(d),p=0;break}}this.inbuf_=p,this.total_+=i}digest(){const e=[];let i=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let c=this.blockSize-1;c>=56;c--)this.buf_[c]=i&255,i/=256;this.compress_(this.buf_);let o=0;for(let c=0;c<5;c++)for(let d=24;d>=0;d-=8)e[o]=this.chain_[c]>>d&255,++o;return e}}function gT(r,e){const i=new vT(r,e);return i.subscribe.bind(i)}class vT{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(o=>{this.error(o)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,o){let c;if(e===void 0&&i===void 0&&o===void 0)throw new Error("Missing Observer.");yT(e,["next","error","complete"])?c=e:c={next:e,error:i,complete:o},c.next===void 0&&(c.next=$d),c.error===void 0&&(c.error=$d),c.complete===void 0&&(c.complete=$d);const d=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?c.error(this.finalError):c.complete()}catch{}}),this.observers.push(c),d}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(o){typeof console<"u"&&console.error&&console.error(o)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yT(r,e){if(typeof r!="object"||r===null)return!1;for(const i of e)if(i in r&&typeof r[i]=="function")return!0;return!1}function $d(){}function vo(r,e){return`${r} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT=function(r){const e=[];let i=0;for(let o=0;o<r.length;o++){let c=r.charCodeAt(o);if(c>=55296&&c<=56319){const d=c-55296;o++,Q(o<r.length,"Surrogate pair missing trail surrogate.");const p=r.charCodeAt(o)-56320;c=65536+(d<<10)+p}c<128?e[i++]=c:c<2048?(e[i++]=c>>6|192,e[i++]=c&63|128):c<65536?(e[i++]=c>>12|224,e[i++]=c>>6&63|128,e[i++]=c&63|128):(e[i++]=c>>18|240,e[i++]=c>>12&63|128,e[i++]=c>>6&63|128,e[i++]=c&63|128)}return e},Ih=function(r){let e=0;for(let i=0;i<r.length;i++){const o=r.charCodeAt(i);o<128?e++:o<2048?e+=2:o>=55296&&o<=56319?(e+=4,i++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ke(r){return r&&r._delegate?r._delegate:r}class aa{constructor(e,i,o){this.name=e,this.instanceFactory=i,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const o=new ts;if(this.instancesDeferred.set(i,o),this.isInitialized(i)||this.shouldAutoInitialize())try{const c=this.getOrInitializeService({instanceIdentifier:i});c&&o.resolve(c)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),o=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(c){if(o)return null;throw c}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(TT(e))try{this.getOrInitializeService({instanceIdentifier:ta})}catch{}for(const[i,o]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(i);try{const d=this.getOrInitializeService({instanceIdentifier:c});o.resolve(d)}catch{}}}}clearInstance(e=ta){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ta){return this.instances.has(e)}getOptions(e=ta){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,o=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const c=this.getOrInitializeService({instanceIdentifier:o,options:i});for(const[d,p]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(d);o===y&&p.resolve(c)}return c}onInit(e,i){const o=this.normalizeInstanceIdentifier(i),c=this.onInitCallbacks.get(o)??new Set;c.add(e),this.onInitCallbacks.set(o,c);const d=this.instances.get(o);return d&&e(d,o),()=>{c.delete(e)}}invokeOnInitCallbacks(e,i){const o=this.onInitCallbacks.get(i);if(o)for(const c of o)try{c(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let o=this.instances.get(e);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:ST(e),options:i}),this.instances.set(e,o),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(o,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,o)}catch{}return o||null}normalizeInstanceIdentifier(e=ta){return this.component?this.component.multipleInstances?e:ta:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ST(r){return r===ta?void 0:r}function TT(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new ET(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Kt||(Kt={}));const CT={debug:Kt.DEBUG,verbose:Kt.VERBOSE,info:Kt.INFO,warn:Kt.WARN,error:Kt.ERROR,silent:Kt.SILENT},xT=Kt.INFO,AT={[Kt.DEBUG]:"log",[Kt.VERBOSE]:"log",[Kt.INFO]:"info",[Kt.WARN]:"warn",[Kt.ERROR]:"error"},NT=(r,e,...i)=>{if(e<r.logLevel)return;const o=new Date().toISOString(),c=AT[e];if(c)console[c](`[${o}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Z_{constructor(e){this.name=e,this._logLevel=xT,this._logHandler=NT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Kt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?CT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Kt.DEBUG,...e),this._logHandler(this,Kt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Kt.VERBOSE,...e),this._logHandler(this,Kt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Kt.INFO,...e),this._logHandler(this,Kt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Kt.WARN,...e),this._logHandler(this,Kt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Kt.ERROR,...e),this._logHandler(this,Kt.ERROR,...e)}}const OT=(r,e)=>e.some(i=>r instanceof i);let Fv,Yv;function RT(){return Fv||(Fv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function LT(){return Yv||(Yv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const m0=new WeakMap,m_=new WeakMap,p0=new WeakMap,t_=new WeakMap,q_=new WeakMap;function MT(r){const e=new Promise((i,o)=>{const c=()=>{r.removeEventListener("success",d),r.removeEventListener("error",p)},d=()=>{i(tr(r.result)),c()},p=()=>{o(r.error),c()};r.addEventListener("success",d),r.addEventListener("error",p)});return e.then(i=>{i instanceof IDBCursor&&m0.set(i,r)}).catch(()=>{}),q_.set(e,r),e}function IT(r){if(m_.has(r))return;const e=new Promise((i,o)=>{const c=()=>{r.removeEventListener("complete",d),r.removeEventListener("error",p),r.removeEventListener("abort",p)},d=()=>{i(),c()},p=()=>{o(r.error||new DOMException("AbortError","AbortError")),c()};r.addEventListener("complete",d),r.addEventListener("error",p),r.addEventListener("abort",p)});m_.set(r,e)}let p_={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return m_.get(r);if(e==="objectStoreNames")return r.objectStoreNames||p0.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return tr(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function DT(r){p_=r(p_)}function kT(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const o=r.call(e_(this),e,...i);return p0.set(o,e.sort?e.sort():[e]),tr(o)}:LT().includes(r)?function(...e){return r.apply(e_(this),e),tr(m0.get(this))}:function(...e){return tr(r.apply(e_(this),e))}}function PT(r){return typeof r=="function"?kT(r):(r instanceof IDBTransaction&&IT(r),OT(r,RT())?new Proxy(r,p_):r)}function tr(r){if(r instanceof IDBRequest)return MT(r);if(t_.has(r))return t_.get(r);const e=PT(r);return e!==r&&(t_.set(r,e),q_.set(e,r)),e}const e_=r=>q_.get(r);function zT(r,e,{blocked:i,upgrade:o,blocking:c,terminated:d}={}){const p=indexedDB.open(r,e),y=tr(p);return o&&p.addEventListener("upgradeneeded",b=>{o(tr(p.result),b.oldVersion,b.newVersion,tr(p.transaction),b)}),i&&p.addEventListener("blocked",b=>i(b.oldVersion,b.newVersion,b)),y.then(b=>{d&&b.addEventListener("close",()=>d()),c&&b.addEventListener("versionchange",E=>c(E.oldVersion,E.newVersion,E))}).catch(()=>{}),y}const UT=["get","getKey","getAll","getAllKeys","count"],BT=["put","add","delete","clear"],n_=new Map;function Wv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(n_.get(e))return n_.get(e);const i=e.replace(/FromIndex$/,""),o=e!==i,c=BT.includes(i);if(!(i in(o?IDBIndex:IDBObjectStore).prototype)||!(c||UT.includes(i)))return;const d=async function(p,...y){const b=this.transaction(p,c?"readwrite":"readonly");let E=b.store;return o&&(E=E.index(y.shift())),(await Promise.all([E[i](...y),c&&b.done]))[0]};return n_.set(e,d),d}DT(r=>({...r,get:(e,i,o)=>Wv(e,i)||r.get(e,i,o),has:(e,i)=>!!Wv(e,i)||r.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(jT(i)){const o=i.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(i=>i).join(" ")}}function jT(r){return r.getComponent()?.type==="VERSION"}const g_="@firebase/app",Kv="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as=new Z_("@firebase/app"),ZT="@firebase/app-compat",qT="@firebase/analytics-compat",VT="@firebase/analytics",GT="@firebase/app-check-compat",FT="@firebase/app-check",YT="@firebase/auth",WT="@firebase/auth-compat",KT="@firebase/database",QT="@firebase/data-connect",XT="@firebase/database-compat",JT="@firebase/functions",$T="@firebase/functions-compat",tw="@firebase/installations",ew="@firebase/installations-compat",nw="@firebase/messaging",iw="@firebase/messaging-compat",sw="@firebase/performance",rw="@firebase/performance-compat",aw="@firebase/remote-config",ow="@firebase/remote-config-compat",lw="@firebase/storage",uw="@firebase/storage-compat",cw="@firebase/firestore",hw="@firebase/ai",fw="@firebase/firestore-compat",dw="firebase",_w="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_="[DEFAULT]",mw={[g_]:"fire-core",[ZT]:"fire-core-compat",[VT]:"fire-analytics",[qT]:"fire-analytics-compat",[FT]:"fire-app-check",[GT]:"fire-app-check-compat",[YT]:"fire-auth",[WT]:"fire-auth-compat",[KT]:"fire-rtdb",[QT]:"fire-data-connect",[XT]:"fire-rtdb-compat",[JT]:"fire-fn",[$T]:"fire-fn-compat",[tw]:"fire-iid",[ew]:"fire-iid-compat",[nw]:"fire-fcm",[iw]:"fire-fcm-compat",[sw]:"fire-perf",[rw]:"fire-perf-compat",[aw]:"fire-rc",[ow]:"fire-rc-compat",[lw]:"fire-gcs",[uw]:"fire-gcs-compat",[cw]:"fire-fst",[fw]:"fire-fst-compat",[hw]:"fire-vertex","fire-js":"fire-js",[dw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fh=new Map,pw=new Map,y_=new Map;function Qv(r,e){try{r.container.addComponent(e)}catch(i){as.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function yo(r){const e=r.name;if(y_.has(e))return as.debug(`There were multiple attempts to register component ${e}.`),!1;y_.set(e,r);for(const i of fh.values())Qv(i,r);for(const i of pw.values())Qv(i,r);return!0}function V_(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function jn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},er=new mu("app","Firebase",gw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(e,i,o){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new aa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw er.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao=_w;function g0(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const o={name:v_,automaticDataCollectionEnabled:!0,...e},c=o.name;if(typeof c!="string"||!c)throw er.create("bad-app-name",{appName:String(c)});if(i||(i=u0()),!i)throw er.create("no-options");const d=fh.get(c);if(d){if(ra(i,d.options)&&ra(o,d.config))return d;throw er.create("duplicate-app",{appName:c})}const p=new wT(c);for(const b of y_.values())p.addComponent(b);const y=new vw(i,o,p);return fh.set(c,y),y}function v0(r=v_){const e=fh.get(r);if(!e&&r===v_&&u0())return g0();if(!e)throw er.create("no-app",{appName:r});return e}function nr(r,e,i){let o=mw[r]??r;i&&(o+=`-${i}`);const c=o.match(/\s|\//),d=e.match(/\s|\//);if(c||d){const p=[`Unable to register library "${o}" with version "${e}":`];c&&p.push(`library name "${o}" contains illegal characters (whitespace or "/")`),c&&d&&p.push("and"),d&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),as.warn(p.join(" "));return}yo(new aa(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw="firebase-heartbeat-database",bw=1,ru="firebase-heartbeat-store";let i_=null;function y0(){return i_||(i_=zT(yw,bw,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(ru)}catch(i){console.warn(i)}}}}).catch(r=>{throw er.create("idb-open",{originalErrorMessage:r.message})})),i_}async function Ew(r){try{const i=(await y0()).transaction(ru),o=await i.objectStore(ru).get(b0(r));return await i.done,o}catch(e){if(e instanceof or)as.warn(e.message);else{const i=er.create("idb-get",{originalErrorMessage:e?.message});as.warn(i.message)}}}async function Xv(r,e){try{const o=(await y0()).transaction(ru,"readwrite");await o.objectStore(ru).put(e,b0(r)),await o.done}catch(i){if(i instanceof or)as.warn(i.message);else{const o=er.create("idb-set",{originalErrorMessage:i?.message});as.warn(o.message)}}}function b0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw=1024,Tw=30;class ww{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new xw(i),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Jv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(c=>c.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>Tw){const c=Aw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){as.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Jv(),{heartbeatsToSend:i,unsentEntries:o}=Cw(this._heartbeatsCache.heartbeats),c=lh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(e){return as.warn(e),""}}}function Jv(){return new Date().toISOString().substring(0,10)}function Cw(r,e=Sw){const i=[];let o=r.slice();for(const c of r){const d=i.find(p=>p.agent===c.agent);if(d){if(d.dates.push(c.date),$v(i)>e){d.dates.pop();break}}else if(i.push({agent:c.agent,dates:[c.date]}),$v(i)>e){i.pop();break}o=o.slice(1)}return{heartbeatsToSend:i,unsentEntries:o}}class xw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return uT()?cT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Ew(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const o=await this.read();return Xv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const o=await this.read();return Xv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function $v(r){return lh(JSON.stringify({version:2,heartbeats:r})).length}function Aw(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let o=1;o<r.length;o++)r[o].date<i&&(i=r[o].date,e=o);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nw(r){yo(new aa("platform-logger",e=>new HT(e),"PRIVATE")),yo(new aa("heartbeat",e=>new ww(e),"PRIVATE")),nr(g_,Kv,r),nr(g_,Kv,"esm2020"),nr("fire-js","")}Nw("");function E0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Ow=E0,S0=new mu("auth","Firebase",E0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dh=new Z_("@firebase/auth");function Rw(r,...e){dh.logLevel<=Kt.WARN&&dh.warn(`Auth (${Ao}): ${r}`,...e)}function ih(r,...e){dh.logLevel<=Kt.ERROR&&dh.error(`Auth (${Ao}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(r,...e){throw G_(r,...e)}function Si(r,...e){return G_(r,...e)}function T0(r,e,i){const o={...Ow(),[e]:i};return new mu("auth","Firebase",o).create(e,{appName:r.name})}function ss(r){return T0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function G_(r,...e){if(typeof r!="string"){const i=e[0],o=[...e.slice(1)];return o[0]&&(o[0].appName=r.name),r._errorFactory.create(i,...o)}return S0.create(r,...e)}function ht(r,e,...i){if(!r)throw G_(e,...i)}function es(r){const e="INTERNAL ASSERTION FAILED: "+r;throw ih(e),new Error(e)}function os(r,e){r||es(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b_(){return typeof self<"u"&&self.location?.href||""}function Lw(){return ty()==="http:"||ty()==="https:"}function ty(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Lw()||aT()||"connection"in navigator)?navigator.onLine:!0}function Iw(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(e,i){this.shortDelay=e,this.longDelay=i,os(i>e,"Short delay should be less than long delay!"),this.isMobile=j_()||d0()}get(){return Mw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F_(r,e){os(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{static initialize(e,i,o){this.fetchImpl=e,i&&(this.headersImpl=i),o&&(this.responseImpl=o)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;es("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;es("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;es("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Pw=new pu(3e4,6e4);function lr(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function ur(r,e,i,o,c={}){return C0(r,c,async()=>{let d={},p={};o&&(e==="GET"?p=o:d={body:JSON.stringify(o)});const y=xo({key:r.config.apiKey,...p}).slice(1),b=await r._getAdditionalHeaders();b["Content-Type"]="application/json",r.languageCode&&(b["X-Firebase-Locale"]=r.languageCode);const E={method:e,headers:b,...d};return rT()||(E.referrerPolicy="no-referrer"),r.emulatorConfig&&Co(r.emulatorConfig.host)&&(E.credentials="include"),w0.fetch()(await x0(r,r.config.apiHost,i,y),E)})}async function C0(r,e,i){r._canInitEmulator=!1;const o={...Dw,...e};try{const c=new Uw(r),d=await Promise.race([i(),c.promise]);c.clearNetworkTimeout();const p=await d.json();if("needConfirmation"in p)throw th(r,"account-exists-with-different-credential",p);if(d.ok&&!("errorMessage"in p))return p;{const y=d.ok?p.errorMessage:p.error.message,[b,E]=y.split(" : ");if(b==="FEDERATED_USER_ID_ALREADY_LINKED")throw th(r,"credential-already-in-use",p);if(b==="EMAIL_EXISTS")throw th(r,"email-already-in-use",p);if(b==="USER_DISABLED")throw th(r,"user-disabled",p);const N=o[b]||b.toLowerCase().replace(/[_\s]+/g,"-");if(E)throw T0(r,N,E);ri(r,N)}}catch(c){if(c instanceof or)throw c;ri(r,"network-request-failed",{message:String(c)})}}async function gu(r,e,i,o,c={}){const d=await ur(r,e,i,o,c);return"mfaPendingCredential"in d&&ri(r,"multi-factor-auth-required",{_serverResponse:d}),d}async function x0(r,e,i,o){const c=`${e}${i}?${o}`,d=r,p=d.config.emulator?F_(r.config,c):`${r.config.apiScheme}://${c}`;return kw.includes(i)&&(await d._persistenceManagerAvailable,d._getPersistenceType()==="COOKIE")?d._getPersistence()._getFinalTarget(p).toString():p}function zw(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Uw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,o)=>{this.timer=setTimeout(()=>o(Si(this.auth,"network-request-failed")),Pw.get())})}}function th(r,e,i){const o={appName:r.name};i.email&&(o.email=i.email),i.phoneNumber&&(o.phoneNumber=i.phoneNumber);const c=Si(r,e,o);return c.customData._tokenResponse=i,c}function ey(r){return r!==void 0&&r.enterprise!==void 0}class Bw{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===e)return zw(i.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Hw(r,e){return ur(r,"GET","/v2/recaptchaConfig",lr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jw(r,e){return ur(r,"POST","/v1/accounts:delete",e)}async function _h(r,e){return ur(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ql(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Zw(r,e=!1){const i=Ke(r),o=await i.getIdToken(e),c=Y_(o);ht(c&&c.exp&&c.auth_time&&c.iat,i.auth,"internal-error");const d=typeof c.firebase=="object"?c.firebase:void 0,p=d?.sign_in_provider;return{claims:c,token:o,authTime:Ql(s_(c.auth_time)),issuedAtTime:Ql(s_(c.iat)),expirationTime:Ql(s_(c.exp)),signInProvider:p||null,signInSecondFactor:d?.sign_in_second_factor||null}}function s_(r){return Number(r)*1e3}function Y_(r){const[e,i,o]=r.split(".");if(e===void 0||i===void 0||o===void 0)return ih("JWT malformed, contained fewer than 3 sections"),null;try{const c=uh(i);return c?JSON.parse(c):(ih("Failed to decode base64 JWT payload"),null)}catch(c){return ih("Caught error parsing JWT payload as JSON",c?.toString()),null}}function ny(r){const e=Y_(r);return ht(e,"internal-error"),ht(typeof e.exp<"u","internal-error"),ht(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function au(r,e,i=!1){if(i)return e;try{return await e}catch(o){throw o instanceof or&&qw(o)&&r.auth.currentUser===r&&await r.auth.signOut(),o}}function qw({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ql(this.lastLoginAt),this.creationTime=Ql(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mh(r){const e=r.auth,i=await r.getIdToken(),o=await au(r,_h(e,{idToken:i}));ht(o?.users.length,e,"internal-error");const c=o.users[0];r._notifyReloadListener(c);const d=c.providerUserInfo?.length?A0(c.providerUserInfo):[],p=Fw(r.providerData,d),y=r.isAnonymous,b=!(r.email&&c.passwordHash)&&!p?.length,E=y?b:!1,N={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:p,metadata:new E_(c.createdAt,c.lastLoginAt),isAnonymous:E};Object.assign(r,N)}async function Gw(r){const e=Ke(r);await mh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Fw(r,e){return[...r.filter(o=>!e.some(c=>c.providerId===o.providerId)),...e]}function A0(r){return r.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yw(r,e){const i=await C0(r,{},async()=>{const o=xo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:c,apiKey:d}=r.config,p=await x0(r,c,"/v1/token",`key=${d}`),y=await r._getAdditionalHeaders();y["Content-Type"]="application/x-www-form-urlencoded";const b={method:"POST",headers:y,body:o};return r.emulatorConfig&&Co(r.emulatorConfig.host)&&(b.credentials="include"),w0.fetch()(p,b)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function Ww(r,e){return ur(r,"POST","/v2/accounts:revokeToken",lr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ht(e.idToken,"internal-error"),ht(typeof e.idToken<"u","internal-error"),ht(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ny(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){ht(e.length!==0,"internal-error");const i=ny(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(ht(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:o,refreshToken:c,expiresIn:d}=await Yw(e,i);this.updateTokensAndExpiration(o,c,Number(d))}updateTokensAndExpiration(e,i,o){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+o*1e3}static fromJSON(e,i){const{refreshToken:o,accessToken:c,expirationTime:d}=i,p=new ho;return o&&(ht(typeof o=="string","internal-error",{appName:e}),p.refreshToken=o),c&&(ht(typeof c=="string","internal-error",{appName:e}),p.accessToken=c),d&&(ht(typeof d=="number","internal-error",{appName:e}),p.expirationTime=d),p}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ho,this.toJSON())}_performRefresh(){return es("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ks(r,e){ht(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ei{constructor({uid:e,auth:i,stsTokenManager:o,...c}){this.providerId="firebase",this.proactiveRefresh=new Vw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new E_(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(e){const i=await au(this,this.stsTokenManager.getToken(this.auth,e));return ht(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return Zw(this,e)}reload(){return Gw(this)}_assign(e){this!==e&&(ht(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new ei({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){ht(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let o=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),o=!0),i&&await mh(this),await this.auth._persistUserIfCurrent(this),o&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(jn(this.auth.app))return Promise.reject(ss(this.auth));const e=await this.getIdToken();return await au(this,jw(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const o=i.displayName??void 0,c=i.email??void 0,d=i.phoneNumber??void 0,p=i.photoURL??void 0,y=i.tenantId??void 0,b=i._redirectEventId??void 0,E=i.createdAt??void 0,N=i.lastLoginAt??void 0,{uid:w,emailVerified:x,isAnonymous:F,providerData:Y,stsTokenManager:tt}=i;ht(w&&tt,e,"internal-error");const dt=ho.fromJSON(this.name,tt);ht(typeof w=="string",e,"internal-error"),Ks(o,e.name),Ks(c,e.name),ht(typeof x=="boolean",e,"internal-error"),ht(typeof F=="boolean",e,"internal-error"),Ks(d,e.name),Ks(p,e.name),Ks(y,e.name),Ks(b,e.name),Ks(E,e.name),Ks(N,e.name);const zt=new ei({uid:w,auth:e,email:c,emailVerified:x,displayName:o,isAnonymous:F,photoURL:p,phoneNumber:d,tenantId:y,stsTokenManager:dt,createdAt:E,lastLoginAt:N});return Y&&Array.isArray(Y)&&(zt.providerData=Y.map(te=>({...te}))),b&&(zt._redirectEventId=b),zt}static async _fromIdTokenResponse(e,i,o=!1){const c=new ho;c.updateFromServerResponse(i);const d=new ei({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:o});return await mh(d),d}static async _fromGetAccountInfoResponse(e,i,o){const c=i.users[0];ht(c.localId!==void 0,"internal-error");const d=c.providerUserInfo!==void 0?A0(c.providerUserInfo):[],p=!(c.email&&c.passwordHash)&&!d?.length,y=new ho;y.updateFromIdToken(o);const b=new ei({uid:c.localId,auth:e,stsTokenManager:y,isAnonymous:p}),E={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:d,metadata:new E_(c.createdAt,c.lastLoginAt),isAnonymous:!(c.email&&c.passwordHash)&&!d?.length};return Object.assign(b,E),b}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iy=new Map;function ns(r){os(r instanceof Function,"Expected a class definition");let e=iy.get(r);return e?(os(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,iy.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}N0.type="NONE";const sy=N0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sh(r,e,i){return`firebase:${r}:${e}:${i}`}class fo{constructor(e,i,o){this.persistence=e,this.auth=i,this.userKey=o;const{config:c,name:d}=this.auth;this.fullUserKey=sh(this.userKey,c.apiKey,d),this.fullPersistenceKey=sh("persistence",c.apiKey,d),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await _h(this.auth,{idToken:e}).catch(()=>{});return i?ei._fromGetAccountInfoResponse(this.auth,i,e):null}return ei._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,o="authUser"){if(!i.length)return new fo(ns(sy),e,o);const c=(await Promise.all(i.map(async E=>{if(await E._isAvailable())return E}))).filter(E=>E);let d=c[0]||ns(sy);const p=sh(o,e.config.apiKey,e.name);let y=null;for(const E of i)try{const N=await E._get(p);if(N){let w;if(typeof N=="string"){const x=await _h(e,{idToken:N}).catch(()=>{});if(!x)break;w=await ei._fromGetAccountInfoResponse(e,x,N)}else w=ei._fromJSON(e,N);E!==d&&(y=w),d=E;break}}catch{}const b=c.filter(E=>E._shouldAllowMigration);return!d._shouldAllowMigration||!b.length?new fo(d,e,o):(d=b[0],y&&await d._set(p,y.toJSON()),await Promise.all(i.map(async E=>{if(E!==d)try{await E._remove(p)}catch{}})),new fo(d,e,o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ry(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(M0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(O0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(D0(e))return"Blackberry";if(k0(e))return"Webos";if(R0(e))return"Safari";if((e.includes("chrome/")||L0(e))&&!e.includes("edge/"))return"Chrome";if(I0(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,o=r.match(i);if(o?.length===2)return o[1]}return"Other"}function O0(r=nn()){return/firefox\//i.test(r)}function R0(r=nn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function L0(r=nn()){return/crios\//i.test(r)}function M0(r=nn()){return/iemobile/i.test(r)}function I0(r=nn()){return/android/i.test(r)}function D0(r=nn()){return/blackberry/i.test(r)}function k0(r=nn()){return/webos/i.test(r)}function W_(r=nn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function Kw(r=nn()){return W_(r)&&!!window.navigator?.standalone}function Qw(){return oT()&&document.documentMode===10}function P0(r=nn()){return W_(r)||I0(r)||k0(r)||D0(r)||/windows phone/i.test(r)||M0(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z0(r,e=[]){let i;switch(r){case"Browser":i=ry(nn());break;case"Worker":i=`${ry(nn())}-${r}`;break;default:i=r}const o=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Ao}/${o}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const o=d=>new Promise((p,y)=>{try{const b=e(d);p(b)}catch(b){y(b)}});o.onAbort=i,this.queue.push(o);const c=this.queue.length-1;return()=>{this.queue[c]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const o of this.queue)await o(e),o.onAbort&&i.push(o.onAbort)}catch(o){i.reverse();for(const c of i)try{c()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:o?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jw(r,e={}){return ur(r,"GET","/v2/passwordPolicy",lr(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w=6;class tC{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??$w,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const o=this.customStrengthOptions.minPasswordLength,c=this.customStrengthOptions.maxPasswordLength;o&&(i.meetsMinPasswordLength=e.length>=o),c&&(i.meetsMaxPasswordLength=e.length<=c)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let o;for(let c=0;c<e.length;c++)o=e.charAt(c),this.updatePasswordCharacterOptionsStatuses(i,o>="a"&&o<="z",o>="A"&&o<="Z",o>="0"&&o<="9",this.allowedNonAlphanumericCharacters.includes(o))}updatePasswordCharacterOptionsStatuses(e,i,o,c,d){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=o)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=c)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e,i,o,c){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=o,this.config=c,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ay(this),this.idTokenSubscription=new ay(this),this.beforeStateQueue=new Xw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=S0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=c.sdkClientVersion,this._persistenceManagerAvailable=new Promise(d=>this._resolvePersistenceManagerAvailable=d)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=ns(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await fo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await _h(this,{idToken:e}),o=await ei._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(o)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(jn(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(p,p))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,c=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=this.redirectUser?._redirectEventId,p=o?._redirectEventId,y=await this.tryRedirectSignIn(e);(!d||d===p)&&y?.user&&(o=y.user,c=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(o)}catch(d){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return ht(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await mh(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Iw()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(jn(this.app))return Promise.reject(ss(this));const i=e?Ke(e):null;return i&&ht(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&ht(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return jn(this.app)?Promise.reject(ss(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return jn(this.app)?Promise.reject(ss(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ns(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Jw(this),i=new tC(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new mu("auth","Firebase",e())}onAuthStateChanged(e,i,o){return this.registerStateListener(this.authStateSubscription,e,i,o)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,o){return this.registerStateListener(this.idTokenSubscription,e,i,o)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const o=this.onAuthStateChanged(()=>{o(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),o={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(o.tenantId=this.tenantId),await Ww(this,o)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const o=await this.getOrInitRedirectPersistenceManager(i);return e===null?o.removeCurrentUser():o.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&ns(e)||this._popupRedirectResolver;ht(i,this,"argument-error"),this.redirectPersistenceManager=await fo.create(this,[ns(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,o,c){if(this._deleted)return()=>{};const d=typeof i=="function"?i:i.next.bind(i);let p=!1;const y=this._isInitialized?Promise.resolve():this._initializationPromise;if(ht(y,this,"internal-error"),y.then(()=>{p||d(this.currentUser)}),typeof i=="function"){const b=e.addObserver(i,o,c);return()=>{p=!0,b()}}else{const b=e.addObserver(i);return()=>{p=!0,b()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ht(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=z0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(e["X-Firebase-AppCheck"]=o),e}async _getAppCheckToken(){if(jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Rw(`Error while retrieving App Check token: ${e.error}`),e?.token}}function da(r){return Ke(r)}class ay{constructor(e){this.auth=e,this.observer=null,this.addObserver=gT(i=>this.observer=i)}get next(){return ht(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function nC(r){Dh=r}function U0(r){return Dh.loadJS(r)}function iC(){return Dh.recaptchaEnterpriseScript}function sC(){return Dh.gapiScript}function rC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class aC{constructor(){this.enterprise=new oC}ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}class oC{ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}const lC="recaptcha-enterprise",B0="NO_RECAPTCHA";class uC{constructor(e){this.type=lC,this.auth=da(e)}async verify(e="verify",i=!1){async function o(d){if(!i){if(d.tenantId==null&&d._agentRecaptchaConfig!=null)return d._agentRecaptchaConfig.siteKey;if(d.tenantId!=null&&d._tenantRecaptchaConfigs[d.tenantId]!==void 0)return d._tenantRecaptchaConfigs[d.tenantId].siteKey}return new Promise(async(p,y)=>{Hw(d,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(b=>{if(b.recaptchaKey===void 0)y(new Error("recaptcha Enterprise site key undefined"));else{const E=new Bw(b);return d.tenantId==null?d._agentRecaptchaConfig=E:d._tenantRecaptchaConfigs[d.tenantId]=E,p(E.siteKey)}}).catch(b=>{y(b)})})}function c(d,p,y){const b=window.grecaptcha;ey(b)?b.enterprise.ready(()=>{b.enterprise.execute(d,{action:e}).then(E=>{p(E)}).catch(()=>{p(B0)})}):y(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new aC().execute("siteKey",{action:"verify"}):new Promise((d,p)=>{o(this.auth).then(y=>{if(!i&&ey(window.grecaptcha))c(y,d,p);else{if(typeof window>"u"){p(new Error("RecaptchaVerifier is only supported in browser"));return}let b=iC();b.length!==0&&(b+=y),U0(b).then(()=>{c(y,d,p)}).catch(E=>{p(E)})}}).catch(y=>{p(y)})})}}async function oy(r,e,i,o=!1,c=!1){const d=new uC(r);let p;if(c)p=B0;else try{p=await d.verify(i)}catch{p=await d.verify(i,!0)}const y={...e};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in y){const b=y.phoneEnrollmentInfo.phoneNumber,E=y.phoneEnrollmentInfo.recaptchaToken;Object.assign(y,{phoneEnrollmentInfo:{phoneNumber:b,recaptchaToken:E,captchaResponse:p,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in y){const b=y.phoneSignInInfo.recaptchaToken;Object.assign(y,{phoneSignInInfo:{recaptchaToken:b,captchaResponse:p,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return y}return o?Object.assign(y,{captchaResp:p}):Object.assign(y,{captchaResponse:p}),Object.assign(y,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(y,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),y}async function S_(r,e,i,o,c){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const d=await oy(r,e,i,i==="getOobCode");return o(r,d)}else return o(r,e).catch(async d=>{if(d.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const p=await oy(r,e,i,i==="getOobCode");return o(r,p)}else return Promise.reject(d)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC(r,e){const i=V_(r,"auth");if(i.isInitialized()){const c=i.getImmediate(),d=i.getOptions();if(ra(d,e??{}))return c;ri(c,"already-initialized")}return i.initialize({options:e})}function hC(r,e){const i=e?.persistence||[],o=(Array.isArray(i)?i:[i]).map(ns);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(o,e?.popupRedirectResolver)}function fC(r,e,i){const o=da(r);ht(/^https?:\/\//.test(e),o,"invalid-emulator-scheme");const c=!1,d=H0(e),{host:p,port:y}=dC(e),b=y===null?"":`:${y}`,E={url:`${d}//${p}${b}/`},N=Object.freeze({host:p,port:y,protocol:d.replace(":",""),options:Object.freeze({disableWarnings:c})});if(!o._canInitEmulator){ht(o.config.emulator&&o.emulatorConfig,o,"emulator-config-failed"),ht(ra(E,o.config.emulator)&&ra(N,o.emulatorConfig),o,"emulator-config-failed");return}o.config.emulator=E,o.emulatorConfig=N,o.settings.appVerificationDisabledForTesting=!0,Co(p)?(h0(`${d}//${p}${b}`),f0("Auth",!0)):_C()}function H0(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function dC(r){const e=H0(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!i)return{host:"",port:null};const o=i[2].split("@").pop()||"",c=/^(\[[^\]]+\])(:|$)/.exec(o);if(c){const d=c[1];return{host:d,port:ly(o.substr(d.length+1))}}else{const[d,p]=o.split(":");return{host:d,port:ly(p)}}}function ly(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function _C(){function r(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return es("not implemented")}_getIdTokenResponse(e){return es("not implemented")}_linkToIdToken(e,i){return es("not implemented")}_getReauthenticationResolver(e){return es("not implemented")}}async function mC(r,e){return ur(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pC(r,e){return gu(r,"POST","/v1/accounts:signInWithPassword",lr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gC(r,e){return gu(r,"POST","/v1/accounts:signInWithEmailLink",lr(r,e))}async function vC(r,e){return gu(r,"POST","/v1/accounts:signInWithEmailLink",lr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou extends K_{constructor(e,i,o,c=null){super("password",o),this._email=e,this._password=i,this._tenantId=c}static _fromEmailAndPassword(e,i){return new ou(e,i,"password")}static _fromEmailAndCode(e,i,o=null){return new ou(e,i,"emailLink",o)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return S_(e,i,"signInWithPassword",pC);case"emailLink":return gC(e,{email:this._email,oobCode:this._password});default:ri(e,"internal-error")}}async _linkToIdToken(e,i){switch(this.signInMethod){case"password":const o={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return S_(e,o,"signUpPassword",mC);case"emailLink":return vC(e,{idToken:i,email:this._email,oobCode:this._password});default:ri(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _o(r,e){return gu(r,"POST","/v1/accounts:signInWithIdp",lr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC="http://localhost";class oa extends K_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new oa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):ri("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:o,signInMethod:c,...d}=i;if(!o||!c)return null;const p=new oa(o,c);return p.idToken=d.idToken||void 0,p.accessToken=d.accessToken||void 0,p.secret=d.secret,p.nonce=d.nonce,p.pendingToken=d.pendingToken||null,p}_getIdTokenResponse(e){const i=this.buildRequest();return _o(e,i)}_linkToIdToken(e,i){const o=this.buildRequest();return o.idToken=i,_o(e,o)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,_o(e,i)}buildRequest(){const e={requestUri:yC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=xo(i)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bC(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function EC(r){const e=Gl(Fl(r)).link,i=e?Gl(Fl(e)).deep_link_id:null,o=Gl(Fl(r)).deep_link_id;return(o?Gl(Fl(o)).link:null)||o||i||e||r}class Q_{constructor(e){const i=Gl(Fl(e)),o=i.apiKey??null,c=i.oobCode??null,d=bC(i.mode??null);ht(o&&c&&d,"argument-error"),this.apiKey=o,this.operation=d,this.code=c,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(e){const i=EC(e);try{return new Q_(i)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(){this.providerId=No.PROVIDER_ID}static credential(e,i){return ou._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const o=Q_.parseLink(i);return ht(o,"argument-error"),ou._fromEmailAndCode(e,o.code,o.tenantId)}}No.PROVIDER_ID="password";No.EMAIL_PASSWORD_SIGN_IN_METHOD="password";No.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu extends j0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs extends vu{constructor(){super("facebook.com")}static credential(e){return oa._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qs.credentialFromTaggedObject(e)}static credentialFromError(e){return Qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qs.credential(e.oauthAccessToken)}catch{return null}}}Qs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs extends vu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return oa._fromParams({providerId:Xs.PROVIDER_ID,signInMethod:Xs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return Xs.credentialFromTaggedObject(e)}static credentialFromError(e){return Xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:o}=e;if(!i&&!o)return null;try{return Xs.credential(i,o)}catch{return null}}}Xs.GOOGLE_SIGN_IN_METHOD="google.com";Xs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js extends vu{constructor(){super("github.com")}static credential(e){return oa._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Js.credentialFromTaggedObject(e)}static credentialFromError(e){return Js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Js.credential(e.oauthAccessToken)}catch{return null}}}Js.GITHUB_SIGN_IN_METHOD="github.com";Js.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s extends vu{constructor(){super("twitter.com")}static credential(e,i){return oa._fromParams({providerId:$s.PROVIDER_ID,signInMethod:$s.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return $s.credentialFromTaggedObject(e)}static credentialFromError(e){return $s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:o}=e;if(!i||!o)return null;try{return $s.credential(i,o)}catch{return null}}}$s.TWITTER_SIGN_IN_METHOD="twitter.com";$s.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SC(r,e){return gu(r,"POST","/v1/accounts:signUp",lr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,o,c=!1){const d=await ei._fromIdTokenResponse(e,o,c),p=uy(o);return new la({user:d,providerId:p,_tokenResponse:o,operationType:i})}static async _forOperation(e,i,o){await e._updateTokensIfNecessary(o,!0);const c=uy(o);return new la({user:e,providerId:c,_tokenResponse:o,operationType:i})}}function uy(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph extends or{constructor(e,i,o,c){super(i.code,i.message),this.operationType=o,this.user=c,Object.setPrototypeOf(this,ph.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:o}}static _fromErrorAndOperation(e,i,o,c){return new ph(e,i,o,c)}}function Z0(r,e,i,o){return(e==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(d=>{throw d.code==="auth/multi-factor-auth-required"?ph._fromErrorAndOperation(r,d,e,o):d})}async function TC(r,e,i=!1){const o=await au(r,e._linkToIdToken(r.auth,await r.getIdToken()),i);return la._forOperation(r,"link",o)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wC(r,e,i=!1){const{auth:o}=r;if(jn(o.app))return Promise.reject(ss(o));const c="reauthenticate";try{const d=await au(r,Z0(o,c,e,r),i);ht(d.idToken,o,"internal-error");const p=Y_(d.idToken);ht(p,o,"internal-error");const{sub:y}=p;return ht(r.uid===y,o,"user-mismatch"),la._forOperation(r,c,d)}catch(d){throw d?.code==="auth/user-not-found"&&ri(o,"user-mismatch"),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q0(r,e,i=!1){if(jn(r.app))return Promise.reject(ss(r));const o="signIn",c=await Z0(r,o,e),d=await la._fromIdTokenResponse(r,o,c);return i||await r._updateCurrentUser(d.user),d}async function CC(r,e){return q0(da(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V0(r){const e=da(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function xC(r,e,i){if(jn(r.app))return Promise.reject(ss(r));const o=da(r),p=await S_(o,{returnSecureToken:!0,email:e,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",SC).catch(b=>{throw b.code==="auth/password-does-not-meet-requirements"&&V0(r),b}),y=await la._fromIdTokenResponse(o,"signIn",p);return await o._updateCurrentUser(y.user),y}function AC(r,e,i){return jn(r.app)?Promise.reject(ss(r)):CC(Ke(r),No.credential(e,i)).catch(async o=>{throw o.code==="auth/password-does-not-meet-requirements"&&V0(r),o})}function NC(r,e,i,o){return Ke(r).onIdTokenChanged(e,i,o)}function OC(r,e,i){return Ke(r).beforeAuthStateChanged(e,i)}function RC(r,e,i,o){return Ke(r).onAuthStateChanged(e,i,o)}function LC(r){return Ke(r).signOut()}const gh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(gh,"1"),this.storage.removeItem(gh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC=1e3,IC=10;class F0 extends G0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=P0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const o=this.storage.getItem(i),c=this.localCache[i];o!==c&&e(i,c,o)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((p,y,b)=>{this.notifyListeners(p,b)});return}const o=e.key;i?this.detachListener():this.stopPolling();const c=()=>{const p=this.storage.getItem(o);!i&&this.localCache[o]===p||this.notifyListeners(o,p)},d=this.storage.getItem(o);Qw()&&d!==e.newValue&&e.newValue!==e.oldValue?setTimeout(c,IC):c()}notifyListeners(e,i){this.localCache[e]=i;const o=this.listeners[e];if(o)for(const c of Array.from(o))c(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,o)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:o}),!0)})},MC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}F0.type="LOCAL";const DC=F0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0 extends G0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}Y0.type="SESSION";const W0=Y0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kC(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(c=>c.isListeningto(e));if(i)return i;const o=new kh(e);return this.receivers.push(o),o}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:o,eventType:c,data:d}=i.data,p=this.handlersMap[c];if(!p?.size)return;i.ports[0].postMessage({status:"ack",eventId:o,eventType:c});const y=Array.from(p).map(async E=>E(i.origin,d)),b=await kC(y);i.ports[0].postMessage({status:"done",eventId:o,eventType:c,response:b})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}kh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X_(r="",e=10){let i="";for(let o=0;o<e;o++)i+=Math.floor(Math.random()*10);return r+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,o=50){const c=typeof MessageChannel<"u"?new MessageChannel:null;if(!c)throw new Error("connection_unavailable");let d,p;return new Promise((y,b)=>{const E=X_("",20);c.port1.start();const N=setTimeout(()=>{b(new Error("unsupported_event"))},o);p={messageChannel:c,onMessage(w){const x=w;if(x.data.eventId===E)switch(x.data.status){case"ack":clearTimeout(N),d=setTimeout(()=>{b(new Error("timeout"))},3e3);break;case"done":clearTimeout(d),y(x.data.response);break;default:clearTimeout(N),clearTimeout(d),b(new Error("invalid_response"));break}}},this.handlers.add(p),c.port1.addEventListener("message",p.onMessage),this.target.postMessage({eventType:e,eventId:E,data:i},[c.port2])}).finally(()=>{p&&this.removeMessageHandler(p)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ti(){return window}function zC(r){Ti().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K0(){return typeof Ti().WorkerGlobalScope<"u"&&typeof Ti().importScripts=="function"}async function UC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function BC(){return navigator?.serviceWorker?.controller||null}function HC(){return K0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0="firebaseLocalStorageDb",jC=1,vh="firebaseLocalStorage",X0="fbase_key";class yu{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Ph(r,e){return r.transaction([vh],e?"readwrite":"readonly").objectStore(vh)}function ZC(){const r=indexedDB.deleteDatabase(Q0);return new yu(r).toPromise()}function T_(){const r=indexedDB.open(Q0,jC);return new Promise((e,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const o=r.result;try{o.createObjectStore(vh,{keyPath:X0})}catch(c){i(c)}}),r.addEventListener("success",async()=>{const o=r.result;o.objectStoreNames.contains(vh)?e(o):(o.close(),await ZC(),e(await T_()))})})}async function cy(r,e,i){const o=Ph(r,!0).put({[X0]:e,value:i});return new yu(o).toPromise()}async function qC(r,e){const i=Ph(r,!1).get(e),o=await new yu(i).toPromise();return o===void 0?null:o.value}function hy(r,e){const i=Ph(r,!0).delete(e);return new yu(i).toPromise()}const VC=800,GC=3;class J0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await T_(),this.db)}async _withRetries(e){let i=0;for(;;)try{const o=await this._openDb();return await e(o)}catch(o){if(i++>GC)throw o;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return K0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=kh._getInstance(HC()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await UC(),!this.activeServiceWorker)return;this.sender=new PC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||BC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await T_();return await cy(e,gh,"1"),await hy(e,gh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(o=>cy(o,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(o=>qC(o,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>hy(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(c=>{const d=Ph(c,!1).getAll();return new yu(d).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],o=new Set;if(e.length!==0)for(const{fbase_key:c,value:d}of e)o.add(c),JSON.stringify(this.localCache[c])!==JSON.stringify(d)&&(this.notifyListeners(c,d),i.push(c));for(const c of Object.keys(this.localCache))this.localCache[c]&&!o.has(c)&&(this.notifyListeners(c,null),i.push(c));return i}notifyListeners(e,i){this.localCache[e]=i;const o=this.listeners[e];if(o)for(const c of Array.from(o))c(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),VC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}J0.type="LOCAL";const FC=J0;new pu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YC(r,e){return e?ns(e):(ht(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_ extends K_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return _o(e,this._buildIdpRequest())}_linkToIdToken(e,i){return _o(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return _o(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function WC(r){return q0(r.auth,new J_(r),r.bypassAuthState)}function KC(r){const{auth:e,user:i}=r;return ht(i,e,"internal-error"),wC(i,new J_(r),r.bypassAuthState)}async function QC(r){const{auth:e,user:i}=r;return ht(i,e,"internal-error"),TC(i,new J_(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(e,i,o,c,d=!1){this.auth=e,this.resolver=o,this.user=c,this.bypassAuthState=d,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(o){this.reject(o)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:o,postBody:c,tenantId:d,error:p,type:y}=e;if(p){this.reject(p);return}const b={auth:this.auth,requestUri:i,sessionId:o,tenantId:d||void 0,postBody:c||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(y)(b))}catch(E){this.reject(E)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return WC;case"linkViaPopup":case"linkViaRedirect":return QC;case"reauthViaPopup":case"reauthViaRedirect":return KC;default:ri(this.auth,"internal-error")}}resolve(e){os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC=new pu(2e3,1e4);class uo extends $0{constructor(e,i,o,c,d){super(e,i,c,d),this.provider=o,this.authWindow=null,this.pollId=null,uo.currentPopupAction&&uo.currentPopupAction.cancel(),uo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ht(e,this.auth,"internal-error"),e}async onExecution(){os(this.filter.length===1,"Popup operations only handle one event");const e=X_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Si(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Si(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,uo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Si(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,XC.get())};e()}}uo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC="pendingRedirect",rh=new Map;class $C extends $0{constructor(e,i,o=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,o),this.eventId=null}async execute(){let e=rh.get(this.auth._key());if(!e){try{const o=await t1(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(o)}catch(i){e=()=>Promise.reject(i)}rh.set(this.auth._key(),e)}return this.bypassAuthState||rh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function t1(r,e){const i=i1(e),o=n1(r);if(!await o._isAvailable())return!1;const c=await o._get(i)==="true";return await o._remove(i),c}function e1(r,e){rh.set(r._key(),e)}function n1(r){return ns(r._redirectPersistence)}function i1(r){return sh(JC,r.config.apiKey,r.name)}async function s1(r,e,i=!1){if(jn(r.app))return Promise.reject(ss(r));const o=da(r),c=YC(o,e),p=await new $C(o,c,i).execute();return p&&!i&&(delete p.user._redirectEventId,await o._persistUserIfCurrent(p.user),await o._setRedirectUser(null,e)),p}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1=600*1e3;class a1{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(o=>{this.isEventForConsumer(e,o)&&(i=!0,this.sendToConsumer(e,o),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!o1(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!tb(e)){const o=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Si(this.auth,o))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const o=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&o}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=r1&&this.cachedEventUids.clear(),this.cachedEventUids.has(fy(e))}saveEventToCache(e){this.cachedEventUids.add(fy(e)),this.lastProcessedEventTime=Date.now()}}function fy(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function tb({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function o1(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tb(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l1(r,e={}){return ur(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,c1=/^https?/;async function h1(r){if(r.config.emulator)return;const{authorizedDomains:e}=await l1(r);for(const i of e)try{if(f1(i))return}catch{}ri(r,"unauthorized-domain")}function f1(r){const e=b_(),{protocol:i,hostname:o}=new URL(e);if(r.startsWith("chrome-extension://")){const p=new URL(r);return p.hostname===""&&o===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&p.hostname===o}if(!c1.test(i))return!1;if(u1.test(r))return o===r;const c=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+c+"|"+c+")$","i").test(o)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1=new pu(3e4,6e4);function dy(){const r=Ti().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function _1(r){return new Promise((e,i)=>{function o(){dy(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{dy(),i(Si(r,"network-request-failed"))},timeout:d1.get()})}if(Ti().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ti().gapi?.load)o();else{const c=rC("iframefcb");return Ti()[c]=()=>{gapi.load?o():i(Si(r,"network-request-failed"))},U0(`${sC()}?onload=${c}`).catch(d=>i(d))}}).catch(e=>{throw ah=null,e})}let ah=null;function m1(r){return ah=ah||_1(r),ah}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1=new pu(5e3,15e3),g1="__/auth/iframe",v1="emulator/auth/iframe",y1={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},b1=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function E1(r){const e=r.config;ht(e.authDomain,r,"auth-domain-config-required");const i=e.emulator?F_(e,v1):`https://${r.config.authDomain}/${g1}`,o={apiKey:e.apiKey,appName:r.name,v:Ao},c=b1.get(r.config.apiHost);c&&(o.eid=c);const d=r._getFrameworks();return d.length&&(o.fw=d.join(",")),`${i}?${xo(o).slice(1)}`}async function S1(r){const e=await m1(r),i=Ti().gapi;return ht(i,r,"internal-error"),e.open({where:document.body,url:E1(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:y1,dontclear:!0},o=>new Promise(async(c,d)=>{await o.restyle({setHideOnLeave:!1});const p=Si(r,"network-request-failed"),y=Ti().setTimeout(()=>{d(p)},p1.get());function b(){Ti().clearTimeout(y),c(o)}o.ping(b).then(b,()=>{d(p)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},w1=500,C1=600,x1="_blank",A1="http://localhost";class _y{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function N1(r,e,i,o=w1,c=C1){const d=Math.max((window.screen.availHeight-c)/2,0).toString(),p=Math.max((window.screen.availWidth-o)/2,0).toString();let y="";const b={...T1,width:o.toString(),height:c.toString(),top:d,left:p},E=nn().toLowerCase();i&&(y=L0(E)?x1:i),O0(E)&&(e=e||A1,b.scrollbars="yes");const N=Object.entries(b).reduce((x,[F,Y])=>`${x}${F}=${Y},`,"");if(Kw(E)&&y!=="_self")return O1(e||"",y),new _y(null);const w=window.open(e||"",y,N);ht(w,r,"popup-blocked");try{w.focus()}catch{}return new _y(w)}function O1(r,e){const i=document.createElement("a");i.href=r,i.target=e;const o=document.createEvent("MouseEvent");o.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1="__/auth/handler",L1="emulator/auth/handler",M1=encodeURIComponent("fac");async function my(r,e,i,o,c,d){ht(r.config.authDomain,r,"auth-domain-config-required"),ht(r.config.apiKey,r,"invalid-api-key");const p={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:o,v:Ao,eventId:c};if(e instanceof j0){e.setDefaultLanguage(r.languageCode),p.providerId=e.providerId||"",ch(e.getCustomParameters())||(p.customParameters=JSON.stringify(e.getCustomParameters()));for(const[N,w]of Object.entries({}))p[N]=w}if(e instanceof vu){const N=e.getScopes().filter(w=>w!=="");N.length>0&&(p.scopes=N.join(","))}r.tenantId&&(p.tid=r.tenantId);const y=p;for(const N of Object.keys(y))y[N]===void 0&&delete y[N];const b=await r._getAppCheckToken(),E=b?`#${M1}=${encodeURIComponent(b)}`:"";return`${I1(r)}?${xo(y).slice(1)}${E}`}function I1({config:r}){return r.emulator?F_(r,L1):`https://${r.authDomain}/${R1}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r_="webStorageSupport";class D1{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=W0,this._completeRedirectFn=s1,this._overrideRedirectResult=e1}async _openPopup(e,i,o,c){os(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const d=await my(e,i,o,b_(),c);return N1(e,d,X_())}async _openRedirect(e,i,o,c){await this._originValidation(e);const d=await my(e,i,o,b_(),c);return zC(d),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:c,promise:d}=this.eventManagers[i];return c?Promise.resolve(c):(os(d,"If manager is not set, promise should be"),d)}const o=this.initAndGetManager(e);return this.eventManagers[i]={promise:o},o.catch(()=>{delete this.eventManagers[i]}),o}async initAndGetManager(e){const i=await S1(e),o=new a1(e);return i.register("authEvent",c=>(ht(c?.authEvent,e,"invalid-auth-event"),{status:o.onEvent(c.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:o},this.iframes[e._key()]=i,o}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(r_,{type:r_},c=>{const d=c?.[0]?.[r_];d!==void 0&&i(!!d),ri(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=h1(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return P0()||R0()||W_()}}const k1=D1;var py="@firebase/auth",gy="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(o=>{e(o?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){ht(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z1(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function U1(r){yo(new aa("auth",(e,{options:i})=>{const o=e.getProvider("app").getImmediate(),c=e.getProvider("heartbeat"),d=e.getProvider("app-check-internal"),{apiKey:p,authDomain:y}=o.options;ht(p&&!p.includes(":"),"invalid-api-key",{appName:o.name});const b={apiKey:p,authDomain:y,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:z0(r)},E=new eC(o,c,d,b);return hC(E,i),E},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,o)=>{e.getProvider("auth-internal").initialize()})),yo(new aa("auth-internal",e=>{const i=da(e.getProvider("auth").getImmediate());return(o=>new P1(o))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),nr(py,gy,z1(r)),nr(py,gy,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1=300,H1=c0("authIdTokenMaxAge")||B1;let vy=null;const j1=r=>async e=>{const i=e&&await e.getIdTokenResult(),o=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(o&&o>H1)return;const c=i?.token;vy!==c&&(vy=c,await fetch(r,{method:c?"POST":"DELETE",headers:c?{Authorization:`Bearer ${c}`}:{}}))};function Z1(r=v0()){const e=V_(r,"auth");if(e.isInitialized())return e.getImmediate();const i=cC(r,{popupRedirectResolver:k1,persistence:[FC,DC,W0]}),o=c0("authTokenSyncURL");if(o&&typeof isSecureContext=="boolean"&&isSecureContext){const d=new URL(o,location.origin);if(location.origin===d.origin){const p=j1(d.toString());OC(i,p,()=>p(i.currentUser)),NC(i,y=>p(y))}}const c=l0("auth");return c&&fC(i,`http://${c}`),i}function q1(){return document.getElementsByTagName("head")?.[0]??document}nC({loadJS(r){return new Promise((e,i)=>{const o=document.createElement("script");o.setAttribute("src",r),o.onload=e,o.onerror=c=>{const d=Si("internal-error");d.customData=c,i(d)},o.type="text/javascript",o.charset="UTF-8",q1().appendChild(o)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});U1("Browser");var V1="firebase",G1="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nr(V1,G1,"app");var yy={};const by="@firebase/database",Ey="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eb="";function F1(r){eb=r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,i){i==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),ze(i))}get(e){const i=this.domStorage_.getItem(this.prefixedName_(e));return i==null?null:su(i)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,i){i==null?delete this.cache_[e]:this.cache_[e]=i}get(e){return wi(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb=function(r){try{if(typeof window<"u"&&typeof window[r]<"u"){const e=window[r];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Y1(e)}}catch{}return new W1},na=nb("localStorage"),K1=nb("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo=new Z_("@firebase/database"),Q1=(function(){let r=1;return function(){return r++}})(),ib=function(r){const e=bT(r),i=new pT;i.update(e);const o=i.digest();return B_.encodeByteArray(o)},bu=function(...r){let e="";for(let i=0;i<r.length;i++){const o=r[i];Array.isArray(o)||o&&typeof o=="object"&&typeof o.length=="number"?e+=bu.apply(null,o):typeof o=="object"?e+=ze(o):e+=o,e+=" "}return e};let Xl=null,Sy=!0;const X1=function(r,e){Q(!0,"Can't turn on custom loggers persistently."),mo.logLevel=Kt.VERBOSE,Xl=mo.log.bind(mo)},Ve=function(...r){if(Sy===!0&&(Sy=!1,Xl===null&&K1.get("logging_enabled")===!0&&X1()),Xl){const e=bu.apply(null,r);Xl(e)}},Eu=function(r){return function(...e){Ve(r,...e)}},w_=function(...r){const e="FIREBASE INTERNAL ERROR: "+bu(...r);mo.error(e)},ls=function(...r){const e=`FIREBASE FATAL ERROR: ${bu(...r)}`;throw mo.error(e),new Error(e)},yn=function(...r){const e="FIREBASE WARNING: "+bu(...r);mo.warn(e)},J1=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&yn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},zh=function(r){return typeof r=="number"&&(r!==r||r===Number.POSITIVE_INFINITY||r===Number.NEGATIVE_INFINITY)},$1=function(r){if(document.readyState==="complete")r();else{let e=!1;const i=function(){if(!document.body){setTimeout(i,Math.floor(10));return}e||(e=!0,r())};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&i()}),window.attachEvent("onload",i))}},ua="[MIN_NAME]",sr="[MAX_NAME]",_a=function(r,e){if(r===e)return 0;if(r===ua||e===sr)return-1;if(e===ua||r===sr)return 1;{const i=Ty(r),o=Ty(e);return i!==null?o!==null?i-o===0?r.length-e.length:i-o:-1:o!==null?1:r<e?-1:1}},tx=function(r,e){return r===e?0:r<e?-1:1},jl=function(r,e){if(e&&r in e)return e[r];throw new Error("Missing required key ("+r+") in object: "+ze(e))},$_=function(r){if(typeof r!="object"||r===null)return ze(r);const e=[];for(const o in r)e.push(o);e.sort();let i="{";for(let o=0;o<e.length;o++)o!==0&&(i+=","),i+=ze(e[o]),i+=":",i+=$_(r[e[o]]);return i+="}",i},sb=function(r,e){const i=r.length;if(i<=e)return[r];const o=[];for(let c=0;c<i;c+=e)c+e>i?o.push(r.substring(c,i)):o.push(r.substring(c,c+e));return o};function We(r,e){for(const i in r)r.hasOwnProperty(i)&&e(i,r[i])}const rb=function(r){Q(!zh(r),"Invalid JSON number");const e=11,i=52,o=(1<<e-1)-1;let c,d,p,y,b;r===0?(d=0,p=0,c=1/r===-1/0?1:0):(c=r<0,r=Math.abs(r),r>=Math.pow(2,1-o)?(y=Math.min(Math.floor(Math.log(r)/Math.LN2),o),d=y+o,p=Math.round(r*Math.pow(2,i-y)-Math.pow(2,i))):(d=0,p=Math.round(r/Math.pow(2,1-o-i))));const E=[];for(b=i;b;b-=1)E.push(p%2?1:0),p=Math.floor(p/2);for(b=e;b;b-=1)E.push(d%2?1:0),d=Math.floor(d/2);E.push(c?1:0),E.reverse();const N=E.join("");let w="";for(b=0;b<64;b+=8){let x=parseInt(N.substr(b,8),2).toString(16);x.length===1&&(x="0"+x),w=w+x}return w.toLowerCase()},ex=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},nx=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function ix(r,e){let i="Unknown Error";r==="too_big"?i="The data requested exceeds the maximum size that can be accessed with a single request.":r==="permission_denied"?i="Client doesn't have permission to access the desired data.":r==="unavailable"&&(i="The service is unavailable");const o=new Error(r+" at "+e._path.toString()+": "+i);return o.code=r.toUpperCase(),o}const sx=new RegExp("^-?(0*)\\d{1,10}$"),rx=-2147483648,ax=2147483647,Ty=function(r){if(sx.test(r)){const e=Number(r);if(e>=rx&&e<=ax)return e}return null},Oo=function(r){try{r()}catch(e){setTimeout(()=>{const i=e.stack||"";throw yn("Exception was thrown by user callback.",i),e},Math.floor(0))}},ox=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Jl=function(r,e){const i=setTimeout(r,e);return typeof i=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(i):typeof i=="object"&&i.unref&&i.unref(),i};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(e,i){this.appCheckProvider=i,this.appName=e.name,jn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=i?.getImmediate({optional:!0}),this.appCheck||i?.get().then(o=>this.appCheck=o)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((i,o)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(i,o):i(null)},0)})}addTokenChangeListener(e){this.appCheckProvider?.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){yn(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(e,i,o){this.appName_=e,this.firebaseOptions_=i,this.authProvider_=o,this.auth_=null,this.auth_=o.getImmediate({optional:!0}),this.auth_||o.onInit(c=>this.auth_=c)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(i=>i&&i.code==="auth/token-not-initialized"?(Ve("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(i)):new Promise((i,o)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(i,o):i(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(i=>i.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(i=>i.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',yn(e)}}class oh{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}oh.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tm="5",ab="v",ob="s",lb="r",ub="f",cb=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,hb="ls",fb="p",C_="ac",db="websocket",_b="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(e,i,o,c,d=!1,p="",y=!1,b=!1,E=null){this.secure=i,this.namespace=o,this.webSocketOnly=c,this.nodeAdmin=d,this.persistenceKey=p,this.includeNamespaceInQueryParams=y,this.isUsingEmulator=b,this.emulatorOptions=E,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=na.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&na.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",i=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${i}`}}function cx(r){return r.host!==r.internalHost||r.isCustomHost()||r.includeNamespaceInQueryParams}function pb(r,e,i){Q(typeof e=="string","typeof type must == string"),Q(typeof i=="object","typeof params must == object");let o;if(e===db)o=(r.secure?"wss://":"ws://")+r.internalHost+"/.ws?";else if(e===_b)o=(r.secure?"https://":"http://")+r.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);cx(r)&&(i.ns=r.namespace);const c=[];return We(i,(d,p)=>{c.push(d+"="+p)}),o+c.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(){this.counters_={}}incrementCounter(e,i=1){wi(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=i}get(){return KS(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_={},o_={};function em(r){const e=r.toString();return a_[e]||(a_[e]=new hx),a_[e]}function fx(r,e){const i=r.toString();return o_[i]||(o_[i]=e()),o_[i]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,i){this.closeAfterResponse=e,this.onClose=i,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,i){for(this.pendingResponses[e]=i;this.pendingResponses[this.currentResponseNum];){const o=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let c=0;c<o.length;++c)o[c]&&Oo(()=>{this.onMessage_(o[c])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wy="start",_x="close",mx="pLPCommand",px="pRTLPCB",gb="id",vb="pw",yb="ser",gx="cb",vx="seg",yx="ts",bx="d",Ex="dframe",bb=1870,Eb=30,Sx=bb-Eb,Tx=25e3,wx=3e4;class co{constructor(e,i,o,c,d,p,y){this.connId=e,this.repoInfo=i,this.applicationId=o,this.appCheckToken=c,this.authToken=d,this.transportSessionId=p,this.lastSessionId=y,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Eu(e),this.stats_=em(i),this.urlFn=b=>(this.appCheckToken&&(b[C_]=this.appCheckToken),pb(i,_b,b))}open(e,i){this.curSegmentNum=0,this.onDisconnect_=i,this.myPacketOrderer=new dx(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(wx)),$1(()=>{if(this.isClosed_)return;this.scriptTagHolder=new nm((...d)=>{const[p,y,b,E,N]=d;if(this.incrementIncomingBytes_(d),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,p===wy)this.id=y,this.password=b;else if(p===_x)y?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(y,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+p)},(...d)=>{const[p,y]=d;this.incrementIncomingBytes_(d),this.myPacketOrderer.handleResponse(p,y)},()=>{this.onClosed_()},this.urlFn);const o={};o[wy]="t",o[yb]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(o[gx]=this.scriptTagHolder.uniqueCallbackIdentifier),o[ab]=tm,this.transportSessionId&&(o[ob]=this.transportSessionId),this.lastSessionId&&(o[hb]=this.lastSessionId),this.applicationId&&(o[fb]=this.applicationId),this.appCheckToken&&(o[C_]=this.appCheckToken),typeof location<"u"&&location.hostname&&cb.test(location.hostname)&&(o[lb]=ub);const c=this.urlFn(o);this.log_("Connecting via long-poll to "+c),this.scriptTagHolder.addTag(c,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){co.forceAllow_=!0}static forceDisallow(){co.forceDisallow_=!0}static isAvailable(){return co.forceAllow_?!0:!co.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!ex()&&!nx()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const i=ze(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const o=a0(i),c=sb(o,Sx);for(let d=0;d<c.length;d++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,c.length,c[d]),this.curSegmentNum++}addDisconnectPingFrame(e,i){this.myDisconnFrame=document.createElement("iframe");const o={};o[Ex]="t",o[gb]=e,o[vb]=i,this.myDisconnFrame.src=this.urlFn(o),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const i=ze(e).length;this.bytesReceived+=i,this.stats_.incrementCounter("bytes_received",i)}}class nm{constructor(e,i,o,c){this.onDisconnect=o,this.urlFn=c,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Q1(),window[mx+this.uniqueCallbackIdentifier]=e,window[px+this.uniqueCallbackIdentifier]=i,this.myIFrame=nm.createIFrame_();let d="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(d='<script>document.domain="'+document.domain+'";<\/script>');const p="<html><body>"+d+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(p),this.myIFrame.doc.close()}catch(y){Ve("frame writing exception"),y.stack&&Ve(y.stack),Ve(y)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Ve("No IE domain setting required")}catch{const o=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+o+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,i){for(this.myID=e,this.myPW=i,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[gb]=this.myID,e[vb]=this.myPW,e[yb]=this.currentSerial;let i=this.urlFn(e),o="",c=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Eb+o.length<=bb;){const p=this.pendingSegs.shift();o=o+"&"+vx+c+"="+p.seg+"&"+yx+c+"="+p.ts+"&"+bx+c+"="+p.d,c++}return i=i+o,this.addLongPollTag_(i,this.currentSerial),!0}else return!1}enqueueSegment(e,i,o){this.pendingSegs.push({seg:e,ts:i,d:o}),this.alive&&this.newRequest_()}addLongPollTag_(e,i){this.outstandingRequests.add(i);const o=()=>{this.outstandingRequests.delete(i),this.newRequest_()},c=setTimeout(o,Math.floor(Tx)),d=()=>{clearTimeout(c),o()};this.addTag(e,d)}addTag(e,i){setTimeout(()=>{try{if(!this.sendNewPolls)return;const o=this.myIFrame.doc.createElement("script");o.type="text/javascript",o.async=!0,o.src=e,o.onload=o.onreadystatechange=function(){const c=o.readyState;(!c||c==="loaded"||c==="complete")&&(o.onload=o.onreadystatechange=null,o.parentNode&&o.parentNode.removeChild(o),i())},o.onerror=()=>{Ve("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(o)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cx=16384,xx=45e3;let yh=null;typeof MozWebSocket<"u"?yh=MozWebSocket:typeof WebSocket<"u"&&(yh=WebSocket);class ti{constructor(e,i,o,c,d,p,y){this.connId=e,this.applicationId=o,this.appCheckToken=c,this.authToken=d,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Eu(this.connId),this.stats_=em(i),this.connURL=ti.connectionURL_(i,p,y,c,o),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,o,c,d){const p={};return p[ab]=tm,typeof location<"u"&&location.hostname&&cb.test(location.hostname)&&(p[lb]=ub),i&&(p[ob]=i),o&&(p[hb]=o),c&&(p[C_]=c),d&&(p[fb]=d),pb(e,db,p)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,na.set("previous_websocket_failure",!0);try{let o;lT(),this.mySock=new yh(this.connURL,[],o)}catch(o){this.log_("Error instantiating WebSocket.");const c=o.message||o.data;c&&this.log_(c),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=o=>{this.handleIncomingFrame(o)},this.mySock.onerror=o=>{this.log_("WebSocket error.  Closing connection.");const c=o.message||o.data;c&&this.log_(c),this.onClosed_()}}start(){}static forceDisallow(){ti.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=/Android ([0-9]{0,}\.[0-9]{0,})/,o=navigator.userAgent.match(i);o&&o.length>1&&parseFloat(o[1])<4.4&&(e=!0)}return!e&&yh!==null&&!ti.forceDisallow_}static previouslyFailed(){return na.isInMemoryStorage||na.get("previous_websocket_failure")===!0}markConnectionHealthy(){na.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const o=su(i);this.onMessage(o)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Q(this.frames===null,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{const o=this.extractFrameCount_(i);o!==null&&this.appendFrame_(o)}}send(e){this.resetKeepAlive();const i=ze(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const o=sb(i,Cx);o.length>1&&this.sendString_(String(o.length));for(let c=0;c<o.length;c++)this.sendString_(o[c])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(xx))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}ti.responsesRequiredToBeHealthy=2;ti.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{static get ALL_TRANSPORTS(){return[co,ti]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const i=ti&&ti.isAvailable();let o=i&&!ti.previouslyFailed();if(e.webSocketOnly&&(i||yn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[ti];else{const c=this.transports_=[];for(const d of lu.ALL_TRANSPORTS)d&&d.isAvailable()&&c.push(d);lu.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}lu.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax=6e4,Nx=5e3,Ox=10*1024,Rx=100*1024,l_="t",Cy="d",Lx="s",xy="r",Mx="e",Ay="o",Ny="a",Oy="n",Ry="p",Ix="h";class Dx{constructor(e,i,o,c,d,p,y,b,E,N){this.id=e,this.repoInfo_=i,this.applicationId_=o,this.appCheckToken_=c,this.authToken_=d,this.onMessage_=p,this.onReady_=y,this.onDisconnect_=b,this.onKill_=E,this.lastSessionId=N,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Eu("c:"+this.id+":"),this.transportManager_=new lu(i),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.conn_),o=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(i,o)},Math.floor(0));const c=e.healthyTimeout||0;c>0&&(this.healthyTimeout_=Jl(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Rx?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Ox?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(c)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return i=>{e===this.conn_?this.onConnectionLost_(i):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return i=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(i):e===this.secondaryConn_?this.onSecondaryMessageReceived_(i):this.log_("message on old connection"))}}sendRequest(e){const i={t:"d",d:e};this.sendData_(i)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(l_ in e){const i=e[l_];i===Ny?this.upgradeIfSecondaryHealthy_():i===xy?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):i===Ay&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const i=jl("t",e),o=jl("d",e);if(i==="c")this.onSecondaryControl_(o);else if(i==="d")this.pendingDataMessages.push(o);else throw new Error("Unknown protocol layer: "+i)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Ry,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Ny,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Oy,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const i=jl("t",e),o=jl("d",e);i==="c"?this.onControl_(o):i==="d"&&this.onDataMessage_(o)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const i=jl(l_,e);if(Cy in e){const o=e[Cy];if(i===Ix){const c={...o};this.repoInfo_.isUsingEmulator&&(c.h=this.repoInfo_.host),this.onHandshake_(c)}else if(i===Oy){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let c=0;c<this.pendingDataMessages.length;++c)this.onDataMessage_(this.pendingDataMessages[c]);this.pendingDataMessages=[],this.tryCleanupConnection()}else i===Lx?this.onConnectionShutdown_(o):i===xy?this.onReset_(o):i===Mx?w_("Server Error: "+o):i===Ay?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):w_("Unknown control packet command: "+i)}}onHandshake_(e){const i=e.ts,o=e.v,c=e.h;this.sessionId=e.s,this.repoInfo_.host=c,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,i),tm!==o&&yn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.secondaryConn_),o=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,o),Jl(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Ax))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,i){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(i,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Jl(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Nx))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Ry,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(na.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{put(e,i,o,c){}merge(e,i,o,c){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,i,o){}onDisconnectMerge(e,i,o){}onDisconnectCancel(e,i){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(e){this.allowedEvents_=e,this.listeners_={},Q(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...i){if(Array.isArray(this.listeners_[e])){const o=[...this.listeners_[e]];for(let c=0;c<o.length;c++)o[c].callback.apply(o[c].context,i)}}on(e,i,o){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:i,context:o});const c=this.getInitialEvent(e);c&&i.apply(o,c)}off(e,i,o){this.validateEventType_(e);const c=this.listeners_[e]||[];for(let d=0;d<c.length;d++)if(c[d].callback===i&&(!o||o===c[d].context)){c.splice(d,1);return}}validateEventType_(e){Q(this.allowedEvents_.find(i=>i===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh extends Tb{static getInstance(){return new bh}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!j_()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return Q(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ly=32,My=768;class Zt{constructor(e,i){if(i===void 0){this.pieces_=e.split("/");let o=0;for(let c=0;c<this.pieces_.length;c++)this.pieces_[c].length>0&&(this.pieces_[o]=this.pieces_[c],o++);this.pieces_.length=o,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=i}toString(){let e="";for(let i=this.pieceNum_;i<this.pieces_.length;i++)this.pieces_[i]!==""&&(e+="/"+this.pieces_[i]);return e||"/"}}function Ht(){return new Zt("")}function St(r){return r.pieceNum_>=r.pieces_.length?null:r.pieces_[r.pieceNum_]}function rr(r){return r.pieces_.length-r.pieceNum_}function $t(r){let e=r.pieceNum_;return e<r.pieces_.length&&e++,new Zt(r.pieces_,e)}function im(r){return r.pieceNum_<r.pieces_.length?r.pieces_[r.pieces_.length-1]:null}function kx(r){let e="";for(let i=r.pieceNum_;i<r.pieces_.length;i++)r.pieces_[i]!==""&&(e+="/"+encodeURIComponent(String(r.pieces_[i])));return e||"/"}function uu(r,e=0){return r.pieces_.slice(r.pieceNum_+e)}function wb(r){if(r.pieceNum_>=r.pieces_.length)return null;const e=[];for(let i=r.pieceNum_;i<r.pieces_.length-1;i++)e.push(r.pieces_[i]);return new Zt(e,0)}function ge(r,e){const i=[];for(let o=r.pieceNum_;o<r.pieces_.length;o++)i.push(r.pieces_[o]);if(e instanceof Zt)for(let o=e.pieceNum_;o<e.pieces_.length;o++)i.push(e.pieces_[o]);else{const o=e.split("/");for(let c=0;c<o.length;c++)o[c].length>0&&i.push(o[c])}return new Zt(i,0)}function Tt(r){return r.pieceNum_>=r.pieces_.length}function gn(r,e){const i=St(r),o=St(e);if(i===null)return e;if(i===o)return gn($t(r),$t(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+r+")")}function Px(r,e){const i=uu(r,0),o=uu(e,0);for(let c=0;c<i.length&&c<o.length;c++){const d=_a(i[c],o[c]);if(d!==0)return d}return i.length===o.length?0:i.length<o.length?-1:1}function sm(r,e){if(rr(r)!==rr(e))return!1;for(let i=r.pieceNum_,o=e.pieceNum_;i<=r.pieces_.length;i++,o++)if(r.pieces_[i]!==e.pieces_[o])return!1;return!0}function Zn(r,e){let i=r.pieceNum_,o=e.pieceNum_;if(rr(r)>rr(e))return!1;for(;i<r.pieces_.length;){if(r.pieces_[i]!==e.pieces_[o])return!1;++i,++o}return!0}class zx{constructor(e,i){this.errorPrefix_=i,this.parts_=uu(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let o=0;o<this.parts_.length;o++)this.byteLength_+=Ih(this.parts_[o]);Cb(this)}}function Ux(r,e){r.parts_.length>0&&(r.byteLength_+=1),r.parts_.push(e),r.byteLength_+=Ih(e),Cb(r)}function Bx(r){const e=r.parts_.pop();r.byteLength_-=Ih(e),r.parts_.length>0&&(r.byteLength_-=1)}function Cb(r){if(r.byteLength_>My)throw new Error(r.errorPrefix_+"has a key path longer than "+My+" bytes ("+r.byteLength_+").");if(r.parts_.length>Ly)throw new Error(r.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Ly+") or object contains a cycle "+ea(r))}function ea(r){return r.parts_.length===0?"":"in property '"+r.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm extends Tb{static getInstance(){return new rm}constructor(){super(["visible"]);let e,i;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,i&&document.addEventListener(i,()=>{const o=!document[e];o!==this.visible_&&(this.visible_=o,this.trigger("visible",o))},!1)}getInitialEvent(e){return Q(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zl=1e3,Hx=300*1e3,Iy=30*1e3,jx=1.3,Zx=3e4,qx="server_kill",Dy=3;class rs extends Sb{constructor(e,i,o,c,d,p,y,b){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=o,this.onConnectStatus_=c,this.onServerInfoUpdate_=d,this.authTokenProvider_=p,this.appCheckTokenProvider_=y,this.authOverride_=b,this.id=rs.nextPersistentConnectionId_++,this.log_=Eu("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Zl,this.maxReconnectDelay_=Hx,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,b)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");rm.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&bh.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,o){const c=++this.requestNumber_,d={r:c,a:e,b:i};this.log_(ze(d)),Q(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(d),o&&(this.requestCBHash_[c]=o)}get(e){this.initConnection_();const i=new ts,c={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:p=>{const y=p.d;p.s==="ok"?i.resolve(y):i.reject(y)}};this.outstandingGets_.push(c),this.outstandingGetCount_++;const d=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(d),i.promise}listen(e,i,o,c){this.initConnection_();const d=e._queryIdentifier,p=e._path.toString();this.log_("Listen called for "+p+" "+d),this.listens.has(p)||this.listens.set(p,new Map),Q(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Q(!this.listens.get(p).has(d),"listen() called twice for same path/queryId.");const y={onComplete:c,hashFn:i,query:e,tag:o};this.listens.get(p).set(d,y),this.connected_&&this.sendListen_(y)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,o=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(o)})}sendListen_(e){const i=e.query,o=i._path.toString(),c=i._queryIdentifier;this.log_("Listen on "+o+" for "+c);const d={p:o},p="q";e.tag&&(d.q=i._queryObject,d.t=e.tag),d.h=e.hashFn(),this.sendRequest(p,d,y=>{const b=y.d,E=y.s;rs.warnOnListenWarnings_(b,i),(this.listens.get(o)&&this.listens.get(o).get(c))===e&&(this.log_("listen response",y),E!=="ok"&&this.removeListen_(o,c),e.onComplete&&e.onComplete(E,b))})}static warnOnListenWarnings_(e,i){if(e&&typeof e=="object"&&wi(e,"w")){const o=go(e,"w");if(Array.isArray(o)&&~o.indexOf("no_index")){const c='".indexOn": "'+i._queryParams.getIndex().toString()+'"',d=i._path.toString();yn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${c} at ${d} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||mT(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Iy)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=_T(e)?"auth":"gauth",o={cred:e};this.authOverride_===null?o.noauth=!0:typeof this.authOverride_=="object"&&(o.authvar=this.authOverride_),this.sendRequest(i,o,c=>{const d=c.s,p=c.d||"error";this.authToken_===e&&(d==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(d,p))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,o=e.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,o)})}unlisten(e,i){const o=e._path.toString(),c=e._queryIdentifier;this.log_("Unlisten called for "+o+" "+c),Q(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(o,c)&&this.connected_&&this.sendUnlisten_(o,c,e._queryObject,i)}sendUnlisten_(e,i,o,c){this.log_("Unlisten on "+e+" for "+i);const d={p:e},p="n";c&&(d.q=o,d.t=c),this.sendRequest(p,d)}onDisconnectPut(e,i,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,o):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:o})}onDisconnectMerge(e,i,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,o):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:o})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,o,c){const d={p:i,d:o};this.log_("onDisconnect "+e,d),this.sendRequest(e,d,p=>{c&&setTimeout(()=>{c(p.s,p.d)},Math.floor(0))})}put(e,i,o,c){this.putInternal("p",e,i,o,c)}merge(e,i,o,c){this.putInternal("m",e,i,o,c)}putInternal(e,i,o,c,d){this.initConnection_();const p={p:i,d:o};d!==void 0&&(p.h=d),this.outstandingPuts_.push({action:e,request:p,onComplete:c}),this.outstandingPutCount_++;const y=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(y):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,o=this.outstandingPuts_[e].request,c=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,o,d=>{this.log_(i+" response",d),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),c&&c(d.s,d.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,o=>{if(o.s!=="ok"){const d=o.d;this.log_("reportStats","Error sending stats: "+d)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+ze(e));const i=e.r,o=this.requestCBHash_[i];o&&(delete this.requestCBHash_[i],o(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),e==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):e==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):e==="c"?this.onListenRevoked_(i.p,i.q):e==="ac"?this.onAuthRevoked_(i.s,i.d):e==="apc"?this.onAppCheckRevoked_(i.s,i.d):e==="sd"?this.onSecurityDebugPacket_(i):w_("Unrecognized action received from server: "+ze(e)+`
Are you using the latest client?`)}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Q(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Zl,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Zl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Zx&&(this.reconnectDelay_=Zl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*jx)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),o=this.onRealtimeDisconnect_.bind(this),c=this.id+":"+rs.nextConnectionId_++,d=this.lastSessionId;let p=!1,y=null;const b=function(){y?y.close():(p=!0,o())},E=function(w){Q(y,"sendRequest call when we're not connected not allowed."),y.sendRequest(w)};this.realtime_={close:b,sendRequest:E};const N=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[w,x]=await Promise.all([this.authTokenProvider_.getToken(N),this.appCheckTokenProvider_.getToken(N)]);p?Ve("getToken() completed but was canceled"):(Ve("getToken() completed. Creating connection."),this.authToken_=w&&w.accessToken,this.appCheckToken_=x&&x.token,y=new Dx(c,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,i,o,F=>{yn(F+" ("+this.repoInfo_.toString()+")"),this.interrupt(qx)},d))}catch(w){this.log_("Failed to get token: "+w),p||(this.repoInfo_.nodeAdmin&&yn(w),b())}}}interrupt(e){Ve("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Ve("Resuming connection for reason: "+e),delete this.interruptReasons_[e],ch(this.interruptReasons_)&&(this.reconnectDelay_=Zl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let o;i?o=i.map(d=>$_(d)).join("$"):o="default";const c=this.removeListen_(e,o);c&&c.onComplete&&c.onComplete("permission_denied")}removeListen_(e,i){const o=new Zt(e).toString();let c;if(this.listens.has(o)){const d=this.listens.get(o);c=d.get(i),d.delete(i),d.size===0&&this.listens.delete(o)}else c=void 0;return c}onAuthRevoked_(e,i){Ve("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Dy&&(this.reconnectDelay_=Iy,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){Ve("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Dy&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";e["sdk."+i+"."+eb.replace(/\./g,"-")]=1,j_()?e["framework.cordova"]=1:d0()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=bh.getInstance().currentlyOnline();return ch(this.interruptReasons_)&&e}}rs.nextPersistentConnectionId_=0;rs.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e,i){this.name=e,this.node=i}static Wrap(e,i){return new Ct(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,i){const o=new Ct(ua,e),c=new Ct(ua,i);return this.compare(o,c)!==0}minPost(){return Ct.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eh;class xb extends Uh{static get __EMPTY_NODE(){return eh}static set __EMPTY_NODE(e){eh=e}compare(e,i){return _a(e.name,i.name)}isDefinedOn(e){throw wo("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,i){return!1}minPost(){return Ct.MIN}maxPost(){return new Ct(sr,eh)}makePost(e,i){return Q(typeof e=="string","KeyIndex indexValue must always be a string."),new Ct(e,eh)}toString(){return".key"}}const sa=new xb;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,i,o,c,d=null){this.isReverse_=c,this.resultGenerator_=d,this.nodeStack_=[];let p=1;for(;!e.isEmpty();)if(e=e,p=i?o(e.key,i):1,c&&(p*=-1),p<0)this.isReverse_?e=e.left:e=e.right;else if(p===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),i;if(this.resultGenerator_?i=this.resultGenerator_(e.key,e.value):i={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return i}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Pe{constructor(e,i,o,c,d){this.key=e,this.value=i,this.color=o??Pe.RED,this.left=c??vn.EMPTY_NODE,this.right=d??vn.EMPTY_NODE}copy(e,i,o,c,d){return new Pe(e??this.key,i??this.value,o??this.color,c??this.left,d??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,o){let c=this;const d=o(e,c.key);return d<0?c=c.copy(null,null,null,c.left.insert(e,i,o),null):d===0?c=c.copy(null,i,null,null,null):c=c.copy(null,null,null,null,c.right.insert(e,i,o)),c.fixUp_()}removeMin_(){if(this.left.isEmpty())return vn.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let o,c;if(o=this,i(e,o.key)<0)!o.left.isEmpty()&&!o.left.isRed_()&&!o.left.left.isRed_()&&(o=o.moveRedLeft_()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed_()&&(o=o.rotateRight_()),!o.right.isEmpty()&&!o.right.isRed_()&&!o.right.left.isRed_()&&(o=o.moveRedRight_()),i(e,o.key)===0){if(o.right.isEmpty())return vn.EMPTY_NODE;c=o.right.min_(),o=o.copy(c.key,c.value,null,null,o.right.removeMin_())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Pe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Pe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Pe.RED=!0;Pe.BLACK=!1;class Vx{copy(e,i,o,c,d){return this}insert(e,i,o){return new Pe(e,i,null)}remove(e,i){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class vn{constructor(e,i=vn.EMPTY_NODE){this.comparator_=e,this.root_=i}insert(e,i){return new vn(this.comparator_,this.root_.insert(e,i,this.comparator_).copy(null,null,Pe.BLACK,null,null))}remove(e){return new vn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Pe.BLACK,null,null))}get(e){let i,o=this.root_;for(;!o.isEmpty();){if(i=this.comparator_(e,o.key),i===0)return o.value;i<0?o=o.left:i>0&&(o=o.right)}return null}getPredecessorKey(e){let i,o=this.root_,c=null;for(;!o.isEmpty();)if(i=this.comparator_(e,o.key),i===0){if(o.left.isEmpty())return c?c.key:null;for(o=o.left;!o.right.isEmpty();)o=o.right;return o.key}else i<0?o=o.left:i>0&&(c=o,o=o.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new nh(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,i){return new nh(this.root_,e,this.comparator_,!1,i)}getReverseIteratorFrom(e,i){return new nh(this.root_,e,this.comparator_,!0,i)}getReverseIterator(e){return new nh(this.root_,null,this.comparator_,!0,e)}}vn.EMPTY_NODE=new Vx;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gx(r,e){return _a(r.name,e.name)}function am(r,e){return _a(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let x_;function Fx(r){x_=r}const Ab=function(r){return typeof r=="number"?"number:"+rb(r):"string:"+r},Nb=function(r){if(r.isLeafNode()){const e=r.val();Q(typeof e=="string"||typeof e=="number"||typeof e=="object"&&wi(e,".sv"),"Priority must be a string or number.")}else Q(r===x_||r.isEmpty(),"priority of unexpected type.");Q(r===x_||r.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ky;class ke{static set __childrenNodeConstructor(e){ky=e}static get __childrenNodeConstructor(){return ky}constructor(e,i=ke.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,Q(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Nb(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new ke(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:ke.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Tt(e)?this:St(e)===".priority"?this.priorityNode_:ke.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return e===".priority"?this.updatePriority(i):i.isEmpty()&&e!==".priority"?this:ke.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const o=St(e);return o===null?i:i.isEmpty()&&o!==".priority"?this:(Q(o!==".priority"||rr(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(o,ke.__childrenNodeConstructor.EMPTY_NODE.updateChild($t(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Ab(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",i==="number"?e+=rb(this.value_):e+=this.value_,this.lazyHash_=ib(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===ke.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof ke.__childrenNodeConstructor?-1:(Q(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,o=typeof this.value_,c=ke.VALUE_TYPE_ORDER.indexOf(i),d=ke.VALUE_TYPE_ORDER.indexOf(o);return Q(c>=0,"Unknown leaf type: "+i),Q(d>=0,"Unknown leaf type: "+o),c===d?o==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:d-c}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}ke.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ob,Rb;function Yx(r){Ob=r}function Wx(r){Rb=r}class Kx extends Uh{compare(e,i){const o=e.node.getPriority(),c=i.node.getPriority(),d=o.compareTo(c);return d===0?_a(e.name,i.name):d}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,i){return!e.getPriority().equals(i.getPriority())}minPost(){return Ct.MIN}maxPost(){return new Ct(sr,new ke("[PRIORITY-POST]",Rb))}makePost(e,i){const o=Ob(e);return new Ct(i,new ke("[PRIORITY-POST]",o))}toString(){return".priority"}}const ue=new Kx;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx=Math.log(2);class Xx{constructor(e){const i=d=>parseInt(Math.log(d)/Qx,10),o=d=>parseInt(Array(d+1).join("1"),2);this.count=i(e+1),this.current_=this.count-1;const c=o(this.count);this.bits_=e+1&c}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Eh=function(r,e,i,o){r.sort(e);const c=function(b,E){const N=E-b;let w,x;if(N===0)return null;if(N===1)return w=r[b],x=i?i(w):w,new Pe(x,w.node,Pe.BLACK,null,null);{const F=parseInt(N/2,10)+b,Y=c(b,F),tt=c(F+1,E);return w=r[F],x=i?i(w):w,new Pe(x,w.node,Pe.BLACK,Y,tt)}},d=function(b){let E=null,N=null,w=r.length;const x=function(Y,tt){const dt=w-Y,zt=w;w-=Y;const te=c(dt+1,zt),gt=r[dt],ve=i?i(gt):gt;F(new Pe(ve,gt.node,tt,null,te))},F=function(Y){E?(E.left=Y,E=Y):(N=Y,E=Y)};for(let Y=0;Y<b.count;++Y){const tt=b.nextBitIsOne(),dt=Math.pow(2,b.count-(Y+1));tt?x(dt,Pe.BLACK):(x(dt,Pe.BLACK),x(dt,Pe.RED))}return N},p=new Xx(r.length),y=d(p);return new vn(o||e,y)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let u_;const lo={};class is{static get Default(){return Q(lo&&ue,"ChildrenNode.ts has not been loaded"),u_=u_||new is({".priority":lo},{".priority":ue}),u_}constructor(e,i){this.indexes_=e,this.indexSet_=i}get(e){const i=go(this.indexes_,e);if(!i)throw new Error("No index defined for "+e);return i instanceof vn?i:null}hasIndex(e){return wi(this.indexSet_,e.toString())}addIndex(e,i){Q(e!==sa,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const o=[];let c=!1;const d=i.getIterator(Ct.Wrap);let p=d.getNext();for(;p;)c=c||e.isDefinedOn(p.node),o.push(p),p=d.getNext();let y;c?y=Eh(o,e.getCompare()):y=lo;const b=e.toString(),E={...this.indexSet_};E[b]=e;const N={...this.indexes_};return N[b]=y,new is(N,E)}addToIndexes(e,i){const o=hh(this.indexes_,(c,d)=>{const p=go(this.indexSet_,d);if(Q(p,"Missing index implementation for "+d),c===lo)if(p.isDefinedOn(e.node)){const y=[],b=i.getIterator(Ct.Wrap);let E=b.getNext();for(;E;)E.name!==e.name&&y.push(E),E=b.getNext();return y.push(e),Eh(y,p.getCompare())}else return lo;else{const y=i.get(e.name);let b=c;return y&&(b=b.remove(new Ct(e.name,y))),b.insert(e,e.node)}});return new is(o,this.indexSet_)}removeFromIndexes(e,i){const o=hh(this.indexes_,c=>{if(c===lo)return c;{const d=i.get(e.name);return d?c.remove(new Ct(e.name,d)):c}});return new is(o,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ql;class ft{static get EMPTY_NODE(){return ql||(ql=new ft(new vn(am),null,is.Default))}constructor(e,i,o){this.children_=e,this.priorityNode_=i,this.indexMap_=o,this.lazyHash_=null,this.priorityNode_&&Nb(this.priorityNode_),this.children_.isEmpty()&&Q(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ql}updatePriority(e){return this.children_.isEmpty()?this:new ft(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const i=this.children_.get(e);return i===null?ql:i}}getChild(e){const i=St(e);return i===null?this:this.getImmediateChild(i).getChild($t(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,i){if(Q(i,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(i);{const o=new Ct(e,i);let c,d;i.isEmpty()?(c=this.children_.remove(e),d=this.indexMap_.removeFromIndexes(o,this.children_)):(c=this.children_.insert(e,i),d=this.indexMap_.addToIndexes(o,this.children_));const p=c.isEmpty()?ql:this.priorityNode_;return new ft(c,p,d)}}updateChild(e,i){const o=St(e);if(o===null)return i;{Q(St(e)!==".priority"||rr(e)===1,".priority must be the last token in a path");const c=this.getImmediateChild(o).updateChild($t(e),i);return this.updateImmediateChild(o,c)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let o=0,c=0,d=!0;if(this.forEachChild(ue,(p,y)=>{i[p]=y.val(e),o++,d&&ft.INTEGER_REGEXP_.test(p)?c=Math.max(c,Number(p)):d=!1}),!e&&d&&c<2*o){const p=[];for(const y in i)p[y]=i[y];return p}else return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Ab(this.getPriority().val())+":"),this.forEachChild(ue,(i,o)=>{const c=o.hash();c!==""&&(e+=":"+i+":"+c)}),this.lazyHash_=e===""?"":ib(e)}return this.lazyHash_}getPredecessorChildName(e,i,o){const c=this.resolveIndex_(o);if(c){const d=c.getPredecessorKey(new Ct(e,i));return d?d.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const o=i.minKey();return o&&o.name}else return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new Ct(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const o=i.maxKey();return o&&o.name}else return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new Ct(i,this.children_.get(i)):null}forEachChild(e,i){const o=this.resolveIndex_(e);return o?o.inorderTraversal(c=>i(c.name,c.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const o=this.resolveIndex_(i);if(o)return o.getIteratorFrom(e,c=>c);{const c=this.children_.getIteratorFrom(e.name,Ct.Wrap);let d=c.peek();for(;d!=null&&i.compare(d,e)<0;)c.getNext(),d=c.peek();return c}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const o=this.resolveIndex_(i);if(o)return o.getReverseIteratorFrom(e,c=>c);{const c=this.children_.getReverseIteratorFrom(e.name,Ct.Wrap);let d=c.peek();for(;d!=null&&i.compare(d,e)>0;)c.getNext(),d=c.peek();return c}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Su?-1:0}withIndex(e){if(e===sa||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new ft(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===sa||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){const o=this.getIterator(ue),c=i.getIterator(ue);let d=o.getNext(),p=c.getNext();for(;d&&p;){if(d.name!==p.name||!d.node.equals(p.node))return!1;d=o.getNext(),p=c.getNext()}return d===null&&p===null}else return!1;else return!1}}resolveIndex_(e){return e===sa?null:this.indexMap_.get(e.toString())}}ft.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Jx extends ft{constructor(){super(new vn(am),ft.EMPTY_NODE,is.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ft.EMPTY_NODE}isEmpty(){return!1}}const Su=new Jx;Object.defineProperties(Ct,{MIN:{value:new Ct(ua,ft.EMPTY_NODE)},MAX:{value:new Ct(sr,Su)}});xb.__EMPTY_NODE=ft.EMPTY_NODE;ke.__childrenNodeConstructor=ft;Fx(Su);Wx(Su);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $x=!0;function Ce(r,e=null){if(r===null)return ft.EMPTY_NODE;if(typeof r=="object"&&".priority"in r&&(e=r[".priority"]),Q(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof r=="object"&&".value"in r&&r[".value"]!==null&&(r=r[".value"]),typeof r!="object"||".sv"in r){const i=r;return new ke(i,Ce(e))}if(!(r instanceof Array)&&$x){const i=[];let o=!1;if(We(r,(p,y)=>{if(p.substring(0,1)!=="."){const b=Ce(y);b.isEmpty()||(o=o||!b.getPriority().isEmpty(),i.push(new Ct(p,b)))}}),i.length===0)return ft.EMPTY_NODE;const d=Eh(i,Gx,p=>p.name,am);if(o){const p=Eh(i,ue.getCompare());return new ft(d,Ce(e),new is({".priority":p},{".priority":ue}))}else return new ft(d,Ce(e),is.Default)}else{let i=ft.EMPTY_NODE;return We(r,(o,c)=>{if(wi(r,o)&&o.substring(0,1)!=="."){const d=Ce(c);(d.isLeafNode()||!d.isEmpty())&&(i=i.updateImmediateChild(o,d))}}),i.updatePriority(Ce(e))}}Yx(Ce);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om extends Uh{constructor(e){super(),this.indexPath_=e,Q(!Tt(e)&&St(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,i){const o=this.extractChild(e.node),c=this.extractChild(i.node),d=o.compareTo(c);return d===0?_a(e.name,i.name):d}makePost(e,i){const o=Ce(e),c=ft.EMPTY_NODE.updateChild(this.indexPath_,o);return new Ct(i,c)}maxPost(){const e=ft.EMPTY_NODE.updateChild(this.indexPath_,Su);return new Ct(sr,e)}toString(){return uu(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA extends Uh{compare(e,i){const o=e.node.compareTo(i.node);return o===0?_a(e.name,i.name):o}isDefinedOn(e){return!0}indexedValueChanged(e,i){return!e.equals(i)}minPost(){return Ct.MIN}maxPost(){return Ct.MAX}makePost(e,i){const o=Ce(e);return new Ct(i,o)}toString(){return".value"}}const Lb=new tA;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mb(r){return{type:"value",snapshotNode:r}}function bo(r,e){return{type:"child_added",snapshotNode:e,childName:r}}function cu(r,e){return{type:"child_removed",snapshotNode:e,childName:r}}function hu(r,e,i){return{type:"child_changed",snapshotNode:e,childName:r,oldSnap:i}}function eA(r,e){return{type:"child_moved",snapshotNode:e,childName:r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(e){this.index_=e}updateChild(e,i,o,c,d,p){Q(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const y=e.getImmediateChild(i);return y.getChild(c).equals(o.getChild(c))&&y.isEmpty()===o.isEmpty()||(p!=null&&(o.isEmpty()?e.hasChild(i)?p.trackChildChange(cu(i,y)):Q(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):y.isEmpty()?p.trackChildChange(bo(i,o)):p.trackChildChange(hu(i,o,y))),e.isLeafNode()&&o.isEmpty())?e:e.updateImmediateChild(i,o).withIndex(this.index_)}updateFullNode(e,i,o){return o!=null&&(e.isLeafNode()||e.forEachChild(ue,(c,d)=>{i.hasChild(c)||o.trackChildChange(cu(c,d))}),i.isLeafNode()||i.forEachChild(ue,(c,d)=>{if(e.hasChild(c)){const p=e.getImmediateChild(c);p.equals(d)||o.trackChildChange(hu(c,d,p))}else o.trackChildChange(bo(c,d))})),i.withIndex(this.index_)}updatePriority(e,i){return e.isEmpty()?ft.EMPTY_NODE:e.updatePriority(i)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e){this.indexedFilter_=new lm(e.getIndex()),this.index_=e.getIndex(),this.startPost_=fu.getStartPost_(e),this.endPost_=fu.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const i=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,o=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return i&&o}updateChild(e,i,o,c,d,p){return this.matches(new Ct(i,o))||(o=ft.EMPTY_NODE),this.indexedFilter_.updateChild(e,i,o,c,d,p)}updateFullNode(e,i,o){i.isLeafNode()&&(i=ft.EMPTY_NODE);let c=i.withIndex(this.index_);c=c.updatePriority(ft.EMPTY_NODE);const d=this;return i.forEachChild(ue,(p,y)=>{d.matches(new Ct(p,y))||(c=c.updateImmediateChild(p,ft.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,c,o)}updatePriority(e,i){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const i=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),i)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const i=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),i)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(e){this.withinDirectionalStart=i=>this.reverse_?this.withinEndPost(i):this.withinStartPost(i),this.withinDirectionalEnd=i=>this.reverse_?this.withinStartPost(i):this.withinEndPost(i),this.withinStartPost=i=>{const o=this.index_.compare(this.rangedFilter_.getStartPost(),i);return this.startIsInclusive_?o<=0:o<0},this.withinEndPost=i=>{const o=this.index_.compare(i,this.rangedFilter_.getEndPost());return this.endIsInclusive_?o<=0:o<0},this.rangedFilter_=new fu(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,i,o,c,d,p){return this.rangedFilter_.matches(new Ct(i,o))||(o=ft.EMPTY_NODE),e.getImmediateChild(i).equals(o)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,i,o,c,d,p):this.fullLimitUpdateChild_(e,i,o,d,p)}updateFullNode(e,i,o){let c;if(i.isLeafNode()||i.isEmpty())c=ft.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<i.numChildren()&&i.isIndexed(this.index_)){c=ft.EMPTY_NODE.withIndex(this.index_);let d;this.reverse_?d=i.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):d=i.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let p=0;for(;d.hasNext()&&p<this.limit_;){const y=d.getNext();if(this.withinDirectionalStart(y))if(this.withinDirectionalEnd(y))c=c.updateImmediateChild(y.name,y.node),p++;else break;else continue}}else{c=i.withIndex(this.index_),c=c.updatePriority(ft.EMPTY_NODE);let d;this.reverse_?d=c.getReverseIterator(this.index_):d=c.getIterator(this.index_);let p=0;for(;d.hasNext();){const y=d.getNext();p<this.limit_&&this.withinDirectionalStart(y)&&this.withinDirectionalEnd(y)?p++:c=c.updateImmediateChild(y.name,ft.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,c,o)}updatePriority(e,i){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,i,o,c,d){let p;if(this.reverse_){const w=this.index_.getCompare();p=(x,F)=>w(F,x)}else p=this.index_.getCompare();const y=e;Q(y.numChildren()===this.limit_,"");const b=new Ct(i,o),E=this.reverse_?y.getFirstChild(this.index_):y.getLastChild(this.index_),N=this.rangedFilter_.matches(b);if(y.hasChild(i)){const w=y.getImmediateChild(i);let x=c.getChildAfterChild(this.index_,E,this.reverse_);for(;x!=null&&(x.name===i||y.hasChild(x.name));)x=c.getChildAfterChild(this.index_,x,this.reverse_);const F=x==null?1:p(x,b);if(N&&!o.isEmpty()&&F>=0)return d?.trackChildChange(hu(i,o,w)),y.updateImmediateChild(i,o);{d?.trackChildChange(cu(i,w));const tt=y.updateImmediateChild(i,ft.EMPTY_NODE);return x!=null&&this.rangedFilter_.matches(x)?(d?.trackChildChange(bo(x.name,x.node)),tt.updateImmediateChild(x.name,x.node)):tt}}else return o.isEmpty()?e:N&&p(E,b)>=0?(d!=null&&(d.trackChildChange(cu(E.name,E.node)),d.trackChildChange(bo(i,o))),y.updateImmediateChild(i,o).updateImmediateChild(E.name,ft.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ue}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Q(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Q(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ua}hasEnd(){return this.endSet_}getIndexEndValue(){return Q(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Q(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:sr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Q(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ue}copy(){const e=new um;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function iA(r){return r.loadsAllData()?new lm(r.getIndex()):r.hasLimit()?new nA(r):new fu(r)}function sA(r,e,i){const o=r.copy();return o.startSet_=!0,e===void 0&&(e=null),o.indexStartValue_=e,i!=null?(o.startNameSet_=!0,o.indexStartName_=i):(o.startNameSet_=!1,o.indexStartName_=""),o}function rA(r,e,i){const o=r.copy();return o.endSet_=!0,e===void 0&&(e=null),o.indexEndValue_=e,i!==void 0?(o.endNameSet_=!0,o.indexEndName_=i):(o.endNameSet_=!1,o.indexEndName_=""),o}function aA(r,e){const i=r.copy();return i.index_=e,i}function Py(r){const e={};if(r.isDefault())return e;let i;if(r.index_===ue?i="$priority":r.index_===Lb?i="$value":r.index_===sa?i="$key":(Q(r.index_ instanceof om,"Unrecognized index type!"),i=r.index_.toString()),e.orderBy=ze(i),r.startSet_){const o=r.startAfterSet_?"startAfter":"startAt";e[o]=ze(r.indexStartValue_),r.startNameSet_&&(e[o]+=","+ze(r.indexStartName_))}if(r.endSet_){const o=r.endBeforeSet_?"endBefore":"endAt";e[o]=ze(r.indexEndValue_),r.endNameSet_&&(e[o]+=","+ze(r.indexEndName_))}return r.limitSet_&&(r.isViewFromLeft()?e.limitToFirst=r.limit_:e.limitToLast=r.limit_),e}function zy(r){const e={};if(r.startSet_&&(e.sp=r.indexStartValue_,r.startNameSet_&&(e.sn=r.indexStartName_),e.sin=!r.startAfterSet_),r.endSet_&&(e.ep=r.indexEndValue_,r.endNameSet_&&(e.en=r.indexEndName_),e.ein=!r.endBeforeSet_),r.limitSet_){e.l=r.limit_;let i=r.viewFrom_;i===""&&(r.isViewFromLeft()?i="l":i="r"),e.vf=i}return r.index_!==ue&&(e.i=r.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh extends Sb{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,i){return i!==void 0?"tag$"+i:(Q(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,i,o,c){super(),this.repoInfo_=e,this.onDataUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=c,this.log_=Eu("p:rest:"),this.listens_={}}listen(e,i,o,c){const d=e._path.toString();this.log_("Listen called for "+d+" "+e._queryIdentifier);const p=Sh.getListenId_(e,o),y={};this.listens_[p]=y;const b=Py(e._queryParams);this.restRequest_(d+".json",b,(E,N)=>{let w=N;if(E===404&&(w=null,E=null),E===null&&this.onDataUpdate_(d,w,!1,o),go(this.listens_,p)===y){let x;E?E===401?x="permission_denied":x="rest_error:"+E:x="ok",c(x,null)}})}unlisten(e,i){const o=Sh.getListenId_(e,i);delete this.listens_[o]}get(e){const i=Py(e._queryParams),o=e._path.toString(),c=new ts;return this.restRequest_(o+".json",i,(d,p)=>{let y=p;d===404&&(y=null,d=null),d===null?(this.onDataUpdate_(o,y,!1,null),c.resolve(y)):c.reject(new Error(y))}),c.promise}refreshAuthToken(e){}restRequest_(e,i={},o){return i.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([c,d])=>{c&&c.accessToken&&(i.auth=c.accessToken),d&&d.token&&(i.ac=d.token);const p=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+xo(i);this.log_("Sending REST request for "+p);const y=new XMLHttpRequest;y.onreadystatechange=()=>{if(o&&y.readyState===4){this.log_("REST Response for "+p+" received. status:",y.status,"response:",y.responseText);let b=null;if(y.status>=200&&y.status<300){try{b=su(y.responseText)}catch{yn("Failed to parse JSON response for "+p+": "+y.responseText)}o(null,b)}else y.status!==401&&y.status!==404&&yn("Got unsuccessful REST response for "+p+" Status: "+y.status),o(y.status);o=null}},y.open("GET",p,!0),y.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(){this.rootNode_=ft.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,i){this.rootNode_=this.rootNode_.updateChild(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Th(){return{value:null,children:new Map}}function Ro(r,e,i){if(Tt(e))r.value=i,r.children.clear();else if(r.value!==null)r.value=r.value.updateChild(e,i);else{const o=St(e);r.children.has(o)||r.children.set(o,Th());const c=r.children.get(o);e=$t(e),Ro(c,e,i)}}function A_(r,e){if(Tt(e))return r.value=null,r.children.clear(),!0;if(r.value!==null){if(r.value.isLeafNode())return!1;{const i=r.value;return r.value=null,i.forEachChild(ue,(o,c)=>{Ro(r,new Zt(o),c)}),A_(r,e)}}else if(r.children.size>0){const i=St(e);return e=$t(e),r.children.has(i)&&A_(r.children.get(i),e)&&r.children.delete(i),r.children.size===0}else return!0}function N_(r,e,i){r.value!==null?i(e,r.value):lA(r,(o,c)=>{const d=new Zt(e.toString()+"/"+o);N_(c,d,i)})}function lA(r,e){r.children.forEach((i,o)=>{e(o,i)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),i={...e};return this.last_&&We(this.last_,(o,c)=>{i[o]=i[o]-c}),this.last_=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy=10*1e3,cA=30*1e3,hA=300*1e3;class fA{constructor(e,i){this.server_=i,this.statsToReport_={},this.statsListener_=new uA(e);const o=Uy+(cA-Uy)*Math.random();Jl(this.reportStats_.bind(this),Math.floor(o))}reportStats_(){const e=this.statsListener_.get(),i={};let o=!1;We(e,(c,d)=>{d>0&&wi(this.statsToReport_,c)&&(i[c]=d,o=!0)}),o&&this.server_.reportStats(i),Jl(this.reportStats_.bind(this),Math.floor(Math.random()*2*hA))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ni;(function(r){r[r.OVERWRITE=0]="OVERWRITE",r[r.MERGE=1]="MERGE",r[r.ACK_USER_WRITE=2]="ACK_USER_WRITE",r[r.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(ni||(ni={}));function Ib(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function cm(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function hm(r){return{fromUser:!1,fromServer:!0,queryId:r,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e,i,o){this.path=e,this.affectedTree=i,this.revert=o,this.type=ni.ACK_USER_WRITE,this.source=Ib()}operationForChild(e){if(Tt(this.path)){if(this.affectedTree.value!=null)return Q(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const i=this.affectedTree.subtree(new Zt(e));return new wh(Ht(),i,this.revert)}}else return Q(St(this.path)===e,"operationForChild called for unrelated child."),new wh($t(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e,i){this.source=e,this.path=i,this.type=ni.LISTEN_COMPLETE}operationForChild(e){return Tt(this.path)?new du(this.source,Ht()):new du(this.source,$t(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e,i,o){this.source=e,this.path=i,this.snap=o,this.type=ni.OVERWRITE}operationForChild(e){return Tt(this.path)?new ca(this.source,Ht(),this.snap.getImmediateChild(e)):new ca(this.source,$t(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e,i,o){this.source=e,this.path=i,this.children=o,this.type=ni.MERGE}operationForChild(e){if(Tt(this.path)){const i=this.children.subtree(new Zt(e));return i.isEmpty()?null:i.value?new ca(this.source,Ht(),i.value):new _u(this.source,Ht(),i)}else return Q(St(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new _u(this.source,$t(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e,i,o){this.node_=e,this.fullyInitialized_=i,this.filtered_=o}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Tt(e))return this.isFullyInitialized()&&!this.filtered_;const i=St(e);return this.isCompleteForChild(i)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function _A(r,e,i,o){const c=[],d=[];return e.forEach(p=>{p.type==="child_changed"&&r.index_.indexedValueChanged(p.oldSnap,p.snapshotNode)&&d.push(eA(p.childName,p.snapshotNode))}),Vl(r,c,"child_removed",e,o,i),Vl(r,c,"child_added",e,o,i),Vl(r,c,"child_moved",d,o,i),Vl(r,c,"child_changed",e,o,i),Vl(r,c,"value",e,o,i),c}function Vl(r,e,i,o,c,d){const p=o.filter(y=>y.type===i);p.sort((y,b)=>pA(r,y,b)),p.forEach(y=>{const b=mA(r,y,d);c.forEach(E=>{E.respondsTo(y.type)&&e.push(E.createEvent(b,r.query_))})})}function mA(r,e,i){return e.type==="value"||e.type==="child_removed"||(e.prevName=i.getPredecessorChildName(e.childName,e.snapshotNode,r.index_)),e}function pA(r,e,i){if(e.childName==null||i.childName==null)throw wo("Should only compare child_ events.");const o=new Ct(e.childName,e.snapshotNode),c=new Ct(i.childName,i.snapshotNode);return r.index_.compare(o,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bh(r,e){return{eventCache:r,serverCache:e}}function $l(r,e,i,o){return Bh(new ha(e,i,o),r.serverCache)}function Db(r,e,i,o){return Bh(r.eventCache,new ha(e,i,o))}function O_(r){return r.eventCache.isFullyInitialized()?r.eventCache.getNode():null}function fa(r){return r.serverCache.isFullyInitialized()?r.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let c_;const gA=()=>(c_||(c_=new vn(tx)),c_);class se{static fromObject(e){let i=new se(null);return We(e,(o,c)=>{i=i.set(new Zt(o),c)}),i}constructor(e,i=gA()){this.value=e,this.children=i}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,i){if(this.value!=null&&i(this.value))return{path:Ht(),value:this.value};if(Tt(e))return null;{const o=St(e),c=this.children.get(o);if(c!==null){const d=c.findRootMostMatchingPathAndValue($t(e),i);return d!=null?{path:ge(new Zt(o),d.path),value:d.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Tt(e))return this;{const i=St(e),o=this.children.get(i);return o!==null?o.subtree($t(e)):new se(null)}}set(e,i){if(Tt(e))return new se(i,this.children);{const o=St(e),d=(this.children.get(o)||new se(null)).set($t(e),i),p=this.children.insert(o,d);return new se(this.value,p)}}remove(e){if(Tt(e))return this.children.isEmpty()?new se(null):new se(null,this.children);{const i=St(e),o=this.children.get(i);if(o){const c=o.remove($t(e));let d;return c.isEmpty()?d=this.children.remove(i):d=this.children.insert(i,c),this.value===null&&d.isEmpty()?new se(null):new se(this.value,d)}else return this}}get(e){if(Tt(e))return this.value;{const i=St(e),o=this.children.get(i);return o?o.get($t(e)):null}}setTree(e,i){if(Tt(e))return i;{const o=St(e),d=(this.children.get(o)||new se(null)).setTree($t(e),i);let p;return d.isEmpty()?p=this.children.remove(o):p=this.children.insert(o,d),new se(this.value,p)}}fold(e){return this.fold_(Ht(),e)}fold_(e,i){const o={};return this.children.inorderTraversal((c,d)=>{o[c]=d.fold_(ge(e,c),i)}),i(e,this.value,o)}findOnPath(e,i){return this.findOnPath_(e,Ht(),i)}findOnPath_(e,i,o){const c=this.value?o(i,this.value):!1;if(c)return c;if(Tt(e))return null;{const d=St(e),p=this.children.get(d);return p?p.findOnPath_($t(e),ge(i,d),o):null}}foreachOnPath(e,i){return this.foreachOnPath_(e,Ht(),i)}foreachOnPath_(e,i,o){if(Tt(e))return this;{this.value&&o(i,this.value);const c=St(e),d=this.children.get(c);return d?d.foreachOnPath_($t(e),ge(i,c),o):new se(null)}}foreach(e){this.foreach_(Ht(),e)}foreach_(e,i){this.children.inorderTraversal((o,c)=>{c.foreach_(ge(e,o),i)}),this.value&&i(e,this.value)}foreachChild(e){this.children.inorderTraversal((i,o)=>{o.value&&e(i,o.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e){this.writeTree_=e}static empty(){return new ii(new se(null))}}function tu(r,e,i){if(Tt(e))return new ii(new se(i));{const o=r.writeTree_.findRootMostValueAndPath(e);if(o!=null){const c=o.path;let d=o.value;const p=gn(c,e);return d=d.updateChild(p,i),new ii(r.writeTree_.set(c,d))}else{const c=new se(i),d=r.writeTree_.setTree(e,c);return new ii(d)}}}function By(r,e,i){let o=r;return We(i,(c,d)=>{o=tu(o,ge(e,c),d)}),o}function Hy(r,e){if(Tt(e))return ii.empty();{const i=r.writeTree_.setTree(e,new se(null));return new ii(i)}}function R_(r,e){return ma(r,e)!=null}function ma(r,e){const i=r.writeTree_.findRootMostValueAndPath(e);return i!=null?r.writeTree_.get(i.path).getChild(gn(i.path,e)):null}function jy(r){const e=[],i=r.writeTree_.value;return i!=null?i.isLeafNode()||i.forEachChild(ue,(o,c)=>{e.push(new Ct(o,c))}):r.writeTree_.children.inorderTraversal((o,c)=>{c.value!=null&&e.push(new Ct(o,c.value))}),e}function ir(r,e){if(Tt(e))return r;{const i=ma(r,e);return i!=null?new ii(new se(i)):new ii(r.writeTree_.subtree(e))}}function L_(r){return r.writeTree_.isEmpty()}function Eo(r,e){return kb(Ht(),r.writeTree_,e)}function kb(r,e,i){if(e.value!=null)return i.updateChild(r,e.value);{let o=null;return e.children.inorderTraversal((c,d)=>{c===".priority"?(Q(d.value!==null,"Priority writes must always be leaf nodes"),o=d.value):i=kb(ge(r,c),d,i)}),!i.getChild(r).isEmpty()&&o!==null&&(i=i.updateChild(ge(r,".priority"),o)),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fm(r,e){return Bb(e,r)}function vA(r,e,i,o,c){Q(o>r.lastWriteId,"Stacking an older write on top of newer ones"),c===void 0&&(c=!0),r.allWrites.push({path:e,snap:i,writeId:o,visible:c}),c&&(r.visibleWrites=tu(r.visibleWrites,e,i)),r.lastWriteId=o}function yA(r,e){for(let i=0;i<r.allWrites.length;i++){const o=r.allWrites[i];if(o.writeId===e)return o}return null}function bA(r,e){const i=r.allWrites.findIndex(y=>y.writeId===e);Q(i>=0,"removeWrite called with nonexistent writeId.");const o=r.allWrites[i];r.allWrites.splice(i,1);let c=o.visible,d=!1,p=r.allWrites.length-1;for(;c&&p>=0;){const y=r.allWrites[p];y.visible&&(p>=i&&EA(y,o.path)?c=!1:Zn(o.path,y.path)&&(d=!0)),p--}if(c){if(d)return SA(r),!0;if(o.snap)r.visibleWrites=Hy(r.visibleWrites,o.path);else{const y=o.children;We(y,b=>{r.visibleWrites=Hy(r.visibleWrites,ge(o.path,b))})}return!0}else return!1}function EA(r,e){if(r.snap)return Zn(r.path,e);for(const i in r.children)if(r.children.hasOwnProperty(i)&&Zn(ge(r.path,i),e))return!0;return!1}function SA(r){r.visibleWrites=Pb(r.allWrites,TA,Ht()),r.allWrites.length>0?r.lastWriteId=r.allWrites[r.allWrites.length-1].writeId:r.lastWriteId=-1}function TA(r){return r.visible}function Pb(r,e,i){let o=ii.empty();for(let c=0;c<r.length;++c){const d=r[c];if(e(d)){const p=d.path;let y;if(d.snap)Zn(i,p)?(y=gn(i,p),o=tu(o,y,d.snap)):Zn(p,i)&&(y=gn(p,i),o=tu(o,Ht(),d.snap.getChild(y)));else if(d.children){if(Zn(i,p))y=gn(i,p),o=By(o,y,d.children);else if(Zn(p,i))if(y=gn(p,i),Tt(y))o=By(o,Ht(),d.children);else{const b=go(d.children,St(y));if(b){const E=b.getChild($t(y));o=tu(o,Ht(),E)}}}else throw wo("WriteRecord should have .snap or .children")}}return o}function zb(r,e,i,o,c){if(!o&&!c){const d=ma(r.visibleWrites,e);if(d!=null)return d;{const p=ir(r.visibleWrites,e);if(L_(p))return i;if(i==null&&!R_(p,Ht()))return null;{const y=i||ft.EMPTY_NODE;return Eo(p,y)}}}else{const d=ir(r.visibleWrites,e);if(!c&&L_(d))return i;if(!c&&i==null&&!R_(d,Ht()))return null;{const p=function(E){return(E.visible||c)&&(!o||!~o.indexOf(E.writeId))&&(Zn(E.path,e)||Zn(e,E.path))},y=Pb(r.allWrites,p,e),b=i||ft.EMPTY_NODE;return Eo(y,b)}}}function wA(r,e,i){let o=ft.EMPTY_NODE;const c=ma(r.visibleWrites,e);if(c)return c.isLeafNode()||c.forEachChild(ue,(d,p)=>{o=o.updateImmediateChild(d,p)}),o;if(i){const d=ir(r.visibleWrites,e);return i.forEachChild(ue,(p,y)=>{const b=Eo(ir(d,new Zt(p)),y);o=o.updateImmediateChild(p,b)}),jy(d).forEach(p=>{o=o.updateImmediateChild(p.name,p.node)}),o}else{const d=ir(r.visibleWrites,e);return jy(d).forEach(p=>{o=o.updateImmediateChild(p.name,p.node)}),o}}function CA(r,e,i,o,c){Q(o||c,"Either existingEventSnap or existingServerSnap must exist");const d=ge(e,i);if(R_(r.visibleWrites,d))return null;{const p=ir(r.visibleWrites,d);return L_(p)?c.getChild(i):Eo(p,c.getChild(i))}}function xA(r,e,i,o){const c=ge(e,i),d=ma(r.visibleWrites,c);if(d!=null)return d;if(o.isCompleteForChild(i)){const p=ir(r.visibleWrites,c);return Eo(p,o.getNode().getImmediateChild(i))}else return null}function AA(r,e){return ma(r.visibleWrites,e)}function NA(r,e,i,o,c,d,p){let y;const b=ir(r.visibleWrites,e),E=ma(b,Ht());if(E!=null)y=E;else if(i!=null)y=Eo(b,i);else return[];if(y=y.withIndex(p),!y.isEmpty()&&!y.isLeafNode()){const N=[],w=p.getCompare(),x=d?y.getReverseIteratorFrom(o,p):y.getIteratorFrom(o,p);let F=x.getNext();for(;F&&N.length<c;)w(F,o)!==0&&N.push(F),F=x.getNext();return N}else return[]}function OA(){return{visibleWrites:ii.empty(),allWrites:[],lastWriteId:-1}}function Ch(r,e,i,o){return zb(r.writeTree,r.treePath,e,i,o)}function dm(r,e){return wA(r.writeTree,r.treePath,e)}function Zy(r,e,i,o){return CA(r.writeTree,r.treePath,e,i,o)}function xh(r,e){return AA(r.writeTree,ge(r.treePath,e))}function RA(r,e,i,o,c,d){return NA(r.writeTree,r.treePath,e,i,o,c,d)}function _m(r,e,i){return xA(r.writeTree,r.treePath,e,i)}function Ub(r,e){return Bb(ge(r.treePath,e),r.writeTree)}function Bb(r,e){return{treePath:r,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(){this.changeMap=new Map}trackChildChange(e){const i=e.type,o=e.childName;Q(i==="child_added"||i==="child_changed"||i==="child_removed","Only child changes supported for tracking"),Q(o!==".priority","Only non-priority child changes can be tracked.");const c=this.changeMap.get(o);if(c){const d=c.type;if(i==="child_added"&&d==="child_removed")this.changeMap.set(o,hu(o,e.snapshotNode,c.snapshotNode));else if(i==="child_removed"&&d==="child_added")this.changeMap.delete(o);else if(i==="child_removed"&&d==="child_changed")this.changeMap.set(o,cu(o,c.oldSnap));else if(i==="child_changed"&&d==="child_added")this.changeMap.set(o,bo(o,e.snapshotNode));else if(i==="child_changed"&&d==="child_changed")this.changeMap.set(o,hu(o,e.snapshotNode,c.oldSnap));else throw wo("Illegal combination of changes: "+e+" occurred after "+c)}else this.changeMap.set(o,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{getCompleteChild(e){return null}getChildAfterChild(e,i,o){return null}}const Hb=new MA;class mm{constructor(e,i,o=null){this.writes_=e,this.viewCache_=i,this.optCompleteServerCache_=o}getCompleteChild(e){const i=this.viewCache_.eventCache;if(i.isCompleteForChild(e))return i.getNode().getImmediateChild(e);{const o=this.optCompleteServerCache_!=null?new ha(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return _m(this.writes_,e,o)}}getChildAfterChild(e,i,o){const c=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:fa(this.viewCache_),d=RA(this.writes_,c,i,1,o,e);return d.length===0?null:d[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IA(r){return{filter:r}}function DA(r,e){Q(e.eventCache.getNode().isIndexed(r.filter.getIndex()),"Event snap not indexed"),Q(e.serverCache.getNode().isIndexed(r.filter.getIndex()),"Server snap not indexed")}function kA(r,e,i,o,c){const d=new LA;let p,y;if(i.type===ni.OVERWRITE){const E=i;E.source.fromUser?p=M_(r,e,E.path,E.snap,o,c,d):(Q(E.source.fromServer,"Unknown source."),y=E.source.tagged||e.serverCache.isFiltered()&&!Tt(E.path),p=Ah(r,e,E.path,E.snap,o,c,y,d))}else if(i.type===ni.MERGE){const E=i;E.source.fromUser?p=zA(r,e,E.path,E.children,o,c,d):(Q(E.source.fromServer,"Unknown source."),y=E.source.tagged||e.serverCache.isFiltered(),p=I_(r,e,E.path,E.children,o,c,y,d))}else if(i.type===ni.ACK_USER_WRITE){const E=i;E.revert?p=HA(r,e,E.path,o,c,d):p=UA(r,e,E.path,E.affectedTree,o,c,d)}else if(i.type===ni.LISTEN_COMPLETE)p=BA(r,e,i.path,o,d);else throw wo("Unknown operation type: "+i.type);const b=d.getChanges();return PA(e,p,b),{viewCache:p,changes:b}}function PA(r,e,i){const o=e.eventCache;if(o.isFullyInitialized()){const c=o.getNode().isLeafNode()||o.getNode().isEmpty(),d=O_(r);(i.length>0||!r.eventCache.isFullyInitialized()||c&&!o.getNode().equals(d)||!o.getNode().getPriority().equals(d.getPriority()))&&i.push(Mb(O_(e)))}}function jb(r,e,i,o,c,d){const p=e.eventCache;if(xh(o,i)!=null)return e;{let y,b;if(Tt(i))if(Q(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const E=fa(e),N=E instanceof ft?E:ft.EMPTY_NODE,w=dm(o,N);y=r.filter.updateFullNode(e.eventCache.getNode(),w,d)}else{const E=Ch(o,fa(e));y=r.filter.updateFullNode(e.eventCache.getNode(),E,d)}else{const E=St(i);if(E===".priority"){Q(rr(i)===1,"Can't have a priority with additional path components");const N=p.getNode();b=e.serverCache.getNode();const w=Zy(o,i,N,b);w!=null?y=r.filter.updatePriority(N,w):y=p.getNode()}else{const N=$t(i);let w;if(p.isCompleteForChild(E)){b=e.serverCache.getNode();const x=Zy(o,i,p.getNode(),b);x!=null?w=p.getNode().getImmediateChild(E).updateChild(N,x):w=p.getNode().getImmediateChild(E)}else w=_m(o,E,e.serverCache);w!=null?y=r.filter.updateChild(p.getNode(),E,w,N,c,d):y=p.getNode()}}return $l(e,y,p.isFullyInitialized()||Tt(i),r.filter.filtersNodes())}}function Ah(r,e,i,o,c,d,p,y){const b=e.serverCache;let E;const N=p?r.filter:r.filter.getIndexedFilter();if(Tt(i))E=N.updateFullNode(b.getNode(),o,null);else if(N.filtersNodes()&&!b.isFiltered()){const F=b.getNode().updateChild(i,o);E=N.updateFullNode(b.getNode(),F,null)}else{const F=St(i);if(!b.isCompleteForPath(i)&&rr(i)>1)return e;const Y=$t(i),dt=b.getNode().getImmediateChild(F).updateChild(Y,o);F===".priority"?E=N.updatePriority(b.getNode(),dt):E=N.updateChild(b.getNode(),F,dt,Y,Hb,null)}const w=Db(e,E,b.isFullyInitialized()||Tt(i),N.filtersNodes()),x=new mm(c,w,d);return jb(r,w,i,c,x,y)}function M_(r,e,i,o,c,d,p){const y=e.eventCache;let b,E;const N=new mm(c,e,d);if(Tt(i))E=r.filter.updateFullNode(e.eventCache.getNode(),o,p),b=$l(e,E,!0,r.filter.filtersNodes());else{const w=St(i);if(w===".priority")E=r.filter.updatePriority(e.eventCache.getNode(),o),b=$l(e,E,y.isFullyInitialized(),y.isFiltered());else{const x=$t(i),F=y.getNode().getImmediateChild(w);let Y;if(Tt(x))Y=o;else{const tt=N.getCompleteChild(w);tt!=null?im(x)===".priority"&&tt.getChild(wb(x)).isEmpty()?Y=tt:Y=tt.updateChild(x,o):Y=ft.EMPTY_NODE}if(F.equals(Y))b=e;else{const tt=r.filter.updateChild(y.getNode(),w,Y,x,N,p);b=$l(e,tt,y.isFullyInitialized(),r.filter.filtersNodes())}}}return b}function qy(r,e){return r.eventCache.isCompleteForChild(e)}function zA(r,e,i,o,c,d,p){let y=e;return o.foreach((b,E)=>{const N=ge(i,b);qy(e,St(N))&&(y=M_(r,y,N,E,c,d,p))}),o.foreach((b,E)=>{const N=ge(i,b);qy(e,St(N))||(y=M_(r,y,N,E,c,d,p))}),y}function Vy(r,e,i){return i.foreach((o,c)=>{e=e.updateChild(o,c)}),e}function I_(r,e,i,o,c,d,p,y){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let b=e,E;Tt(i)?E=o:E=new se(null).setTree(i,o);const N=e.serverCache.getNode();return E.children.inorderTraversal((w,x)=>{if(N.hasChild(w)){const F=e.serverCache.getNode().getImmediateChild(w),Y=Vy(r,F,x);b=Ah(r,b,new Zt(w),Y,c,d,p,y)}}),E.children.inorderTraversal((w,x)=>{const F=!e.serverCache.isCompleteForChild(w)&&x.value===null;if(!N.hasChild(w)&&!F){const Y=e.serverCache.getNode().getImmediateChild(w),tt=Vy(r,Y,x);b=Ah(r,b,new Zt(w),tt,c,d,p,y)}}),b}function UA(r,e,i,o,c,d,p){if(xh(c,i)!=null)return e;const y=e.serverCache.isFiltered(),b=e.serverCache;if(o.value!=null){if(Tt(i)&&b.isFullyInitialized()||b.isCompleteForPath(i))return Ah(r,e,i,b.getNode().getChild(i),c,d,y,p);if(Tt(i)){let E=new se(null);return b.getNode().forEachChild(sa,(N,w)=>{E=E.set(new Zt(N),w)}),I_(r,e,i,E,c,d,y,p)}else return e}else{let E=new se(null);return o.foreach((N,w)=>{const x=ge(i,N);b.isCompleteForPath(x)&&(E=E.set(N,b.getNode().getChild(x)))}),I_(r,e,i,E,c,d,y,p)}}function BA(r,e,i,o,c){const d=e.serverCache,p=Db(e,d.getNode(),d.isFullyInitialized()||Tt(i),d.isFiltered());return jb(r,p,i,o,Hb,c)}function HA(r,e,i,o,c,d){let p;if(xh(o,i)!=null)return e;{const y=new mm(o,e,c),b=e.eventCache.getNode();let E;if(Tt(i)||St(i)===".priority"){let N;if(e.serverCache.isFullyInitialized())N=Ch(o,fa(e));else{const w=e.serverCache.getNode();Q(w instanceof ft,"serverChildren would be complete if leaf node"),N=dm(o,w)}N=N,E=r.filter.updateFullNode(b,N,d)}else{const N=St(i);let w=_m(o,N,e.serverCache);w==null&&e.serverCache.isCompleteForChild(N)&&(w=b.getImmediateChild(N)),w!=null?E=r.filter.updateChild(b,N,w,$t(i),y,d):e.eventCache.getNode().hasChild(N)?E=r.filter.updateChild(b,N,ft.EMPTY_NODE,$t(i),y,d):E=b,E.isEmpty()&&e.serverCache.isFullyInitialized()&&(p=Ch(o,fa(e)),p.isLeafNode()&&(E=r.filter.updateFullNode(E,p,d)))}return p=e.serverCache.isFullyInitialized()||xh(o,Ht())!=null,$l(e,E,p,r.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e,i){this.query_=e,this.eventRegistrations_=[];const o=this.query_._queryParams,c=new lm(o.getIndex()),d=iA(o);this.processor_=IA(d);const p=i.serverCache,y=i.eventCache,b=c.updateFullNode(ft.EMPTY_NODE,p.getNode(),null),E=d.updateFullNode(ft.EMPTY_NODE,y.getNode(),null),N=new ha(b,p.isFullyInitialized(),c.filtersNodes()),w=new ha(E,y.isFullyInitialized(),d.filtersNodes());this.viewCache_=Bh(w,N),this.eventGenerator_=new dA(this.query_)}get query(){return this.query_}}function ZA(r){return r.viewCache_.serverCache.getNode()}function qA(r,e){const i=fa(r.viewCache_);return i&&(r.query._queryParams.loadsAllData()||!Tt(e)&&!i.getImmediateChild(St(e)).isEmpty())?i.getChild(e):null}function Gy(r){return r.eventRegistrations_.length===0}function VA(r,e){r.eventRegistrations_.push(e)}function Fy(r,e,i){const o=[];if(i){Q(e==null,"A cancel should cancel all event registrations.");const c=r.query._path;r.eventRegistrations_.forEach(d=>{const p=d.createCancelEvent(i,c);p&&o.push(p)})}if(e){let c=[];for(let d=0;d<r.eventRegistrations_.length;++d){const p=r.eventRegistrations_[d];if(!p.matches(e))c.push(p);else if(e.hasAnyCallback()){c=c.concat(r.eventRegistrations_.slice(d+1));break}}r.eventRegistrations_=c}else r.eventRegistrations_=[];return o}function Yy(r,e,i,o){e.type===ni.MERGE&&e.source.queryId!==null&&(Q(fa(r.viewCache_),"We should always have a full cache before handling merges"),Q(O_(r.viewCache_),"Missing event cache, even though we have a server cache"));const c=r.viewCache_,d=kA(r.processor_,c,e,i,o);return DA(r.processor_,d.viewCache),Q(d.viewCache.serverCache.isFullyInitialized()||!c.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),r.viewCache_=d.viewCache,Zb(r,d.changes,d.viewCache.eventCache.getNode(),null)}function GA(r,e){const i=r.viewCache_.eventCache,o=[];return i.getNode().isLeafNode()||i.getNode().forEachChild(ue,(d,p)=>{o.push(bo(d,p))}),i.isFullyInitialized()&&o.push(Mb(i.getNode())),Zb(r,o,i.getNode(),e)}function Zb(r,e,i,o){const c=o?[o]:r.eventRegistrations_;return _A(r.eventGenerator_,e,i,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nh;class FA{constructor(){this.views=new Map}}function YA(r){Q(!Nh,"__referenceConstructor has already been defined"),Nh=r}function WA(){return Q(Nh,"Reference.ts has not been loaded"),Nh}function KA(r){return r.views.size===0}function pm(r,e,i,o){const c=e.source.queryId;if(c!==null){const d=r.views.get(c);return Q(d!=null,"SyncTree gave us an op for an invalid query."),Yy(d,e,i,o)}else{let d=[];for(const p of r.views.values())d=d.concat(Yy(p,e,i,o));return d}}function QA(r,e,i,o,c){const d=e._queryIdentifier,p=r.views.get(d);if(!p){let y=Ch(i,c?o:null),b=!1;y?b=!0:o instanceof ft?(y=dm(i,o),b=!1):(y=ft.EMPTY_NODE,b=!1);const E=Bh(new ha(y,b,!1),new ha(o,c,!1));return new jA(e,E)}return p}function XA(r,e,i,o,c,d){const p=QA(r,e,o,c,d);return r.views.has(e._queryIdentifier)||r.views.set(e._queryIdentifier,p),VA(p,i),GA(p,i)}function JA(r,e,i,o){const c=e._queryIdentifier,d=[];let p=[];const y=ar(r);if(c==="default")for(const[b,E]of r.views.entries())p=p.concat(Fy(E,i,o)),Gy(E)&&(r.views.delete(b),E.query._queryParams.loadsAllData()||d.push(E.query));else{const b=r.views.get(c);b&&(p=p.concat(Fy(b,i,o)),Gy(b)&&(r.views.delete(c),b.query._queryParams.loadsAllData()||d.push(b.query)))}return y&&!ar(r)&&d.push(new(WA())(e._repo,e._path)),{removed:d,events:p}}function qb(r){const e=[];for(const i of r.views.values())i.query._queryParams.loadsAllData()||e.push(i);return e}function po(r,e){let i=null;for(const o of r.views.values())i=i||qA(o,e);return i}function Vb(r,e){if(e._queryParams.loadsAllData())return Hh(r);{const o=e._queryIdentifier;return r.views.get(o)}}function Gb(r,e){return Vb(r,e)!=null}function ar(r){return Hh(r)!=null}function Hh(r){for(const e of r.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oh;function $A(r){Q(!Oh,"__referenceConstructor has already been defined"),Oh=r}function tN(){return Q(Oh,"Reference.ts has not been loaded"),Oh}let eN=1;class Wy{constructor(e){this.listenProvider_=e,this.syncPointTree_=new se(null),this.pendingWriteTree_=OA(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Fb(r,e,i,o,c){return vA(r.pendingWriteTree_,e,i,o,c),c?Tu(r,new ca(Ib(),e,i)):[]}function ia(r,e,i=!1){const o=yA(r.pendingWriteTree_,e);if(bA(r.pendingWriteTree_,e)){let d=new se(null);return o.snap!=null?d=d.set(Ht(),!0):We(o.children,p=>{d=d.set(new Zt(p),!0)}),Tu(r,new wh(o.path,d,i))}else return[]}function jh(r,e,i){return Tu(r,new ca(cm(),e,i))}function nN(r,e,i){const o=se.fromObject(i);return Tu(r,new _u(cm(),e,o))}function iN(r,e){return Tu(r,new du(cm(),e))}function sN(r,e,i){const o=vm(r,i);if(o){const c=ym(o),d=c.path,p=c.queryId,y=gn(d,e),b=new du(hm(p),y);return bm(r,d,b)}else return[]}function D_(r,e,i,o,c=!1){const d=e._path,p=r.syncPointTree_.get(d);let y=[];if(p&&(e._queryIdentifier==="default"||Gb(p,e))){const b=JA(p,e,i,o);KA(p)&&(r.syncPointTree_=r.syncPointTree_.remove(d));const E=b.removed;if(y=b.events,!c){const N=E.findIndex(x=>x._queryParams.loadsAllData())!==-1,w=r.syncPointTree_.findOnPath(d,(x,F)=>ar(F));if(N&&!w){const x=r.syncPointTree_.subtree(d);if(!x.isEmpty()){const F=oN(x);for(let Y=0;Y<F.length;++Y){const tt=F[Y],dt=tt.query,zt=Kb(r,tt);r.listenProvider_.startListening(eu(dt),Rh(r,dt),zt.hashFn,zt.onComplete)}}}!w&&E.length>0&&!o&&(N?r.listenProvider_.stopListening(eu(e),null):E.forEach(x=>{const F=r.queryToTagMap.get(Zh(x));r.listenProvider_.stopListening(eu(x),F)}))}lN(r,E)}return y}function rN(r,e,i,o){const c=vm(r,o);if(c!=null){const d=ym(c),p=d.path,y=d.queryId,b=gn(p,e),E=new ca(hm(y),b,i);return bm(r,p,E)}else return[]}function aN(r,e,i,o){const c=vm(r,o);if(c){const d=ym(c),p=d.path,y=d.queryId,b=gn(p,e),E=se.fromObject(i),N=new _u(hm(y),b,E);return bm(r,p,N)}else return[]}function Ky(r,e,i,o=!1){const c=e._path;let d=null,p=!1;r.syncPointTree_.foreachOnPath(c,(x,F)=>{const Y=gn(x,c);d=d||po(F,Y),p=p||ar(F)});let y=r.syncPointTree_.get(c);y?(p=p||ar(y),d=d||po(y,Ht())):(y=new FA,r.syncPointTree_=r.syncPointTree_.set(c,y));let b;d!=null?b=!0:(b=!1,d=ft.EMPTY_NODE,r.syncPointTree_.subtree(c).foreachChild((F,Y)=>{const tt=po(Y,Ht());tt&&(d=d.updateImmediateChild(F,tt))}));const E=Gb(y,e);if(!E&&!e._queryParams.loadsAllData()){const x=Zh(e);Q(!r.queryToTagMap.has(x),"View does not exist, but we have a tag");const F=uN();r.queryToTagMap.set(x,F),r.tagToQueryMap.set(F,x)}const N=fm(r.pendingWriteTree_,c);let w=XA(y,e,i,N,d,b);if(!E&&!p&&!o){const x=Vb(y,e);w=w.concat(cN(r,e,x))}return w}function gm(r,e,i){const c=r.pendingWriteTree_,d=r.syncPointTree_.findOnPath(e,(p,y)=>{const b=gn(p,e),E=po(y,b);if(E)return E});return zb(c,e,d,i,!0)}function Tu(r,e){return Yb(e,r.syncPointTree_,null,fm(r.pendingWriteTree_,Ht()))}function Yb(r,e,i,o){if(Tt(r.path))return Wb(r,e,i,o);{const c=e.get(Ht());i==null&&c!=null&&(i=po(c,Ht()));let d=[];const p=St(r.path),y=r.operationForChild(p),b=e.children.get(p);if(b&&y){const E=i?i.getImmediateChild(p):null,N=Ub(o,p);d=d.concat(Yb(y,b,E,N))}return c&&(d=d.concat(pm(c,r,o,i))),d}}function Wb(r,e,i,o){const c=e.get(Ht());i==null&&c!=null&&(i=po(c,Ht()));let d=[];return e.children.inorderTraversal((p,y)=>{const b=i?i.getImmediateChild(p):null,E=Ub(o,p),N=r.operationForChild(p);N&&(d=d.concat(Wb(N,y,b,E)))}),c&&(d=d.concat(pm(c,r,o,i))),d}function Kb(r,e){const i=e.query,o=Rh(r,i);return{hashFn:()=>(ZA(e)||ft.EMPTY_NODE).hash(),onComplete:c=>{if(c==="ok")return o?sN(r,i._path,o):iN(r,i._path);{const d=ix(c,i);return D_(r,i,null,d)}}}}function Rh(r,e){const i=Zh(e);return r.queryToTagMap.get(i)}function Zh(r){return r._path.toString()+"$"+r._queryIdentifier}function vm(r,e){return r.tagToQueryMap.get(e)}function ym(r){const e=r.indexOf("$");return Q(e!==-1&&e<r.length-1,"Bad queryKey."),{queryId:r.substr(e+1),path:new Zt(r.substr(0,e))}}function bm(r,e,i){const o=r.syncPointTree_.get(e);Q(o,"Missing sync point for query tag that we're tracking");const c=fm(r.pendingWriteTree_,e);return pm(o,i,c,null)}function oN(r){return r.fold((e,i,o)=>{if(i&&ar(i))return[Hh(i)];{let c=[];return i&&(c=qb(i)),We(o,(d,p)=>{c=c.concat(p)}),c}})}function eu(r){return r._queryParams.loadsAllData()&&!r._queryParams.isDefault()?new(tN())(r._repo,r._path):r}function lN(r,e){for(let i=0;i<e.length;++i){const o=e[i];if(!o._queryParams.loadsAllData()){const c=Zh(o),d=r.queryToTagMap.get(c);r.queryToTagMap.delete(c),r.tagToQueryMap.delete(d)}}}function uN(){return eN++}function cN(r,e,i){const o=e._path,c=Rh(r,e),d=Kb(r,i),p=r.listenProvider_.startListening(eu(e),c,d.hashFn,d.onComplete),y=r.syncPointTree_.subtree(o);if(c)Q(!ar(y.value),"If we're adding a query, it shouldn't be shadowed");else{const b=y.fold((E,N,w)=>{if(!Tt(E)&&N&&ar(N))return[Hh(N).query];{let x=[];return N&&(x=x.concat(qb(N).map(F=>F.query))),We(w,(F,Y)=>{x=x.concat(Y)}),x}});for(let E=0;E<b.length;++E){const N=b[E];r.listenProvider_.stopListening(eu(N),Rh(r,N))}}return p}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(e){this.node_=e}getImmediateChild(e){const i=this.node_.getImmediateChild(e);return new Em(i)}node(){return this.node_}}class Sm{constructor(e,i){this.syncTree_=e,this.path_=i}getImmediateChild(e){const i=ge(this.path_,e);return new Sm(this.syncTree_,i)}node(){return gm(this.syncTree_,this.path_)}}const hN=function(r){return r=r||{},r.timestamp=r.timestamp||new Date().getTime(),r},Qy=function(r,e,i){if(!r||typeof r!="object")return r;if(Q(".sv"in r,"Unexpected leaf node or priority contents"),typeof r[".sv"]=="string")return fN(r[".sv"],e,i);if(typeof r[".sv"]=="object")return dN(r[".sv"],e);Q(!1,"Unexpected server value: "+JSON.stringify(r,null,2))},fN=function(r,e,i){switch(r){case"timestamp":return i.timestamp;default:Q(!1,"Unexpected server value: "+r)}},dN=function(r,e,i){r.hasOwnProperty("increment")||Q(!1,"Unexpected server value: "+JSON.stringify(r,null,2));const o=r.increment;typeof o!="number"&&Q(!1,"Unexpected increment value: "+o);const c=e.node();if(Q(c!==null&&typeof c<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!c.isLeafNode())return o;const p=c.getValue();return typeof p!="number"?o:p+o},_N=function(r,e,i,o){return Tm(e,new Sm(i,r),o)},Qb=function(r,e,i){return Tm(r,new Em(e),i)};function Tm(r,e,i){const o=r.getPriority().val(),c=Qy(o,e.getImmediateChild(".priority"),i);let d;if(r.isLeafNode()){const p=r,y=Qy(p.getValue(),e,i);return y!==p.getValue()||c!==p.getPriority().val()?new ke(y,Ce(c)):r}else{const p=r;return d=p,c!==p.getPriority().val()&&(d=d.updatePriority(new ke(c))),p.forEachChild(ue,(y,b)=>{const E=Tm(b,e.getImmediateChild(y),i);E!==b&&(d=d.updateImmediateChild(y,E))}),d}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(e="",i=null,o={children:{},childCount:0}){this.name=e,this.parent=i,this.node=o}}function Cm(r,e){let i=e instanceof Zt?e:new Zt(e),o=r,c=St(i);for(;c!==null;){const d=go(o.node.children,c)||{children:{},childCount:0};o=new wm(c,o,d),i=$t(i),c=St(i)}return o}function Lo(r){return r.node.value}function Xb(r,e){r.node.value=e,k_(r)}function Jb(r){return r.node.childCount>0}function mN(r){return Lo(r)===void 0&&!Jb(r)}function qh(r,e){We(r.node.children,(i,o)=>{e(new wm(i,r,o))})}function $b(r,e,i,o){i&&e(r),qh(r,c=>{$b(c,e,!0)})}function pN(r,e,i){let o=r.parent;for(;o!==null;){if(e(o))return!0;o=o.parent}return!1}function wu(r){return new Zt(r.parent===null?r.name:wu(r.parent)+"/"+r.name)}function k_(r){r.parent!==null&&gN(r.parent,r.name,r)}function gN(r,e,i){const o=mN(i),c=wi(r.node.children,e);o&&c?(delete r.node.children[e],r.node.childCount--,k_(r)):!o&&!c&&(r.node.children[e]=i.node,r.node.childCount++,k_(r))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN=/[\[\].#$\/\u0000-\u001F\u007F]/,yN=/[\[\].#$\u0000-\u001F\u007F]/,h_=10*1024*1024,xm=function(r){return typeof r=="string"&&r.length!==0&&!vN.test(r)},tE=function(r){return typeof r=="string"&&r.length!==0&&!yN.test(r)},bN=function(r){return r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),tE(r)},Lh=function(r){return r===null||typeof r=="string"||typeof r=="number"&&!zh(r)||r&&typeof r=="object"&&wi(r,".sv")},So=function(r,e,i,o){o&&e===void 0||Vh(vo(r,"value"),e,i)},Vh=function(r,e,i){const o=i instanceof Zt?new zx(i,r):i;if(e===void 0)throw new Error(r+"contains undefined "+ea(o));if(typeof e=="function")throw new Error(r+"contains a function "+ea(o)+" with contents = "+e.toString());if(zh(e))throw new Error(r+"contains "+e.toString()+" "+ea(o));if(typeof e=="string"&&e.length>h_/3&&Ih(e)>h_)throw new Error(r+"contains a string greater than "+h_+" utf8 bytes "+ea(o)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let c=!1,d=!1;if(We(e,(p,y)=>{if(p===".value")c=!0;else if(p!==".priority"&&p!==".sv"&&(d=!0,!xm(p)))throw new Error(r+" contains an invalid key ("+p+") "+ea(o)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Ux(o,p),Vh(r,y,o),Bx(o)}),c&&d)throw new Error(r+' contains ".value" child '+ea(o)+" in addition to actual children.")}},EN=function(r,e){let i,o;for(i=0;i<e.length;i++){o=e[i];const d=uu(o);for(let p=0;p<d.length;p++)if(!(d[p]===".priority"&&p===d.length-1)){if(!xm(d[p]))throw new Error(r+"contains an invalid key ("+d[p]+") in path "+o.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(Px);let c=null;for(i=0;i<e.length;i++){if(o=e[i],c!==null&&Zn(c,o))throw new Error(r+"contains a path "+c.toString()+" that is ancestor of another path "+o.toString());c=o}},SN=function(r,e,i,o){const c=vo(r,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(c+" must be an object containing the children to replace.");const d=[];We(e,(p,y)=>{const b=new Zt(p);if(Vh(c,y,ge(i,b)),im(b)===".priority"&&!Lh(y))throw new Error(c+"contains an invalid value for '"+b.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");d.push(b)}),EN(c,d)},TN=function(r,e,i){if(zh(e))throw new Error(vo(r,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Lh(e))throw new Error(vo(r,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")},Am=function(r,e,i,o){if(!tE(i))throw new Error(vo(r,e)+'was an invalid path = "'+i+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},wN=function(r,e,i,o){i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),Am(r,e,i)},Yl=function(r,e){if(St(e)===".info")throw new Error(r+" failed = Can't modify data under /.info/")},CN=function(r,e){const i=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!xm(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||i.length!==0&&!bN(i))throw new Error(vo(r,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Nm(r,e){let i=null;for(let o=0;o<e.length;o++){const c=e[o],d=c.getPath();i!==null&&!sm(d,i.path)&&(r.eventLists_.push(i),i=null),i===null&&(i={events:[],path:d}),i.events.push(c)}i&&r.eventLists_.push(i)}function eE(r,e,i){Nm(r,i),nE(r,o=>sm(o,e))}function us(r,e,i){Nm(r,i),nE(r,o=>Zn(o,e)||Zn(e,o))}function nE(r,e){r.recursionDepth_++;let i=!0;for(let o=0;o<r.eventLists_.length;o++){const c=r.eventLists_[o];if(c){const d=c.path;e(d)?(AN(r.eventLists_[o]),r.eventLists_[o]=null):i=!1}}i&&(r.eventLists_=[]),r.recursionDepth_--}function AN(r){for(let e=0;e<r.events.length;e++){const i=r.events[e];if(i!==null){r.events[e]=null;const o=i.getEventRunner();Xl&&Ve("event: "+i.toString()),Oo(o)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN="repo_interrupt",ON=25;class RN{constructor(e,i,o,c){this.repoInfo_=e,this.forceRestClient_=i,this.authTokenProvider_=o,this.appCheckProvider_=c,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new xN,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Th(),this.transactionQueueTree_=new wm,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function LN(r,e,i){if(r.stats_=em(r.repoInfo_),r.forceRestClient_||ox())r.server_=new Sh(r.repoInfo_,(o,c,d,p)=>{Xy(r,o,c,d,p)},r.authTokenProvider_,r.appCheckProvider_),setTimeout(()=>Jy(r,!0),0);else{if(typeof i<"u"&&i!==null){if(typeof i!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ze(i)}catch(o){throw new Error("Invalid authOverride provided: "+o)}}r.persistentConnection_=new rs(r.repoInfo_,e,(o,c,d,p)=>{Xy(r,o,c,d,p)},o=>{Jy(r,o)},o=>{IN(r,o)},r.authTokenProvider_,r.appCheckProvider_,i),r.server_=r.persistentConnection_}r.authTokenProvider_.addTokenChangeListener(o=>{r.server_.refreshAuthToken(o)}),r.appCheckProvider_.addTokenChangeListener(o=>{r.server_.refreshAppCheckToken(o.token)}),r.statsReporter_=fx(r.repoInfo_,()=>new fA(r.stats_,r.server_)),r.infoData_=new oA,r.infoSyncTree_=new Wy({startListening:(o,c,d,p)=>{let y=[];const b=r.infoData_.getNode(o._path);return b.isEmpty()||(y=jh(r.infoSyncTree_,o._path,b),setTimeout(()=>{p("ok")},0)),y},stopListening:()=>{}}),Rm(r,"connected",!1),r.serverSyncTree_=new Wy({startListening:(o,c,d,p)=>(r.server_.listen(o,d,c,(y,b)=>{const E=p(y,b);us(r.eventQueue_,o._path,E)}),[]),stopListening:(o,c)=>{r.server_.unlisten(o,c)}})}function MN(r){const i=r.infoData_.getNode(new Zt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+i}function Om(r){return hN({timestamp:MN(r)})}function Xy(r,e,i,o,c){r.dataUpdateCount++;const d=new Zt(e);i=r.interceptServerDataCallback_?r.interceptServerDataCallback_(e,i):i;let p=[];if(c)if(o){const b=hh(i,E=>Ce(E));p=aN(r.serverSyncTree_,d,b,c)}else{const b=Ce(i);p=rN(r.serverSyncTree_,d,b,c)}else if(o){const b=hh(i,E=>Ce(E));p=nN(r.serverSyncTree_,d,b)}else{const b=Ce(i);p=jh(r.serverSyncTree_,d,b)}let y=d;p.length>0&&(y=Gh(r,d)),us(r.eventQueue_,y,p)}function Jy(r,e){Rm(r,"connected",e),e===!1&&kN(r)}function IN(r,e){We(e,(i,o)=>{Rm(r,i,o)})}function Rm(r,e,i){const o=new Zt("/.info/"+e),c=Ce(i);r.infoData_.updateSnapshot(o,c);const d=jh(r.infoSyncTree_,o,c);us(r.eventQueue_,o,d)}function iE(r){return r.nextWriteId_++}function DN(r,e,i,o,c){Lm(r,"set",{path:e.toString(),value:i,priority:o});const d=Om(r),p=Ce(i,o),y=gm(r.serverSyncTree_,e),b=Qb(p,y,d),E=iE(r),N=Fb(r.serverSyncTree_,e,b,E,!0);Nm(r.eventQueue_,N),r.server_.put(e.toString(),p.val(!0),(x,F)=>{const Y=x==="ok";Y||yn("set at "+e+" failed: "+x);const tt=ia(r.serverSyncTree_,E,!Y);us(r.eventQueue_,e,tt),To(r,c,x,F)});const w=lE(r,e);Gh(r,w),us(r.eventQueue_,w,[])}function kN(r){Lm(r,"onDisconnectEvents");const e=Om(r),i=Th();N_(r.onDisconnect_,Ht(),(c,d)=>{const p=_N(c,d,r.serverSyncTree_,e);Ro(i,c,p)});let o=[];N_(i,Ht(),(c,d)=>{o=o.concat(jh(r.serverSyncTree_,c,d));const p=lE(r,c);Gh(r,p)}),r.onDisconnect_=Th(),us(r.eventQueue_,Ht(),o)}function PN(r,e,i){r.server_.onDisconnectCancel(e.toString(),(o,c)=>{o==="ok"&&A_(r.onDisconnect_,e),To(r,i,o,c)})}function $y(r,e,i,o){const c=Ce(i);r.server_.onDisconnectPut(e.toString(),c.val(!0),(d,p)=>{d==="ok"&&Ro(r.onDisconnect_,e,c),To(r,o,d,p)})}function zN(r,e,i,o,c){const d=Ce(i,o);r.server_.onDisconnectPut(e.toString(),d.val(!0),(p,y)=>{p==="ok"&&Ro(r.onDisconnect_,e,d),To(r,c,p,y)})}function UN(r,e,i,o){if(ch(i)){Ve("onDisconnect().update() called with empty data.  Don't do anything."),To(r,o,"ok",void 0);return}r.server_.onDisconnectMerge(e.toString(),i,(c,d)=>{c==="ok"&&We(i,(p,y)=>{const b=Ce(y);Ro(r.onDisconnect_,ge(e,p),b)}),To(r,o,c,d)})}function BN(r,e,i){let o;St(e._path)===".info"?o=Ky(r.infoSyncTree_,e,i):o=Ky(r.serverSyncTree_,e,i),eE(r.eventQueue_,e._path,o)}function HN(r,e,i){let o;St(e._path)===".info"?o=D_(r.infoSyncTree_,e,i):o=D_(r.serverSyncTree_,e,i),eE(r.eventQueue_,e._path,o)}function jN(r){r.persistentConnection_&&r.persistentConnection_.interrupt(NN)}function Lm(r,...e){let i="";r.persistentConnection_&&(i=r.persistentConnection_.id+":"),Ve(i,...e)}function To(r,e,i,o){e&&Oo(()=>{if(i==="ok")e(null);else{const c=(i||"error").toUpperCase();let d=c;o&&(d+=": "+o);const p=new Error(d);p.code=c,e(p)}})}function sE(r,e,i){return gm(r.serverSyncTree_,e,i)||ft.EMPTY_NODE}function Mm(r,e=r.transactionQueueTree_){if(e||Fh(r,e),Lo(e)){const i=aE(r,e);Q(i.length>0,"Sending zero length transaction queue"),i.every(c=>c.status===0)&&ZN(r,wu(e),i)}else Jb(e)&&qh(e,i=>{Mm(r,i)})}function ZN(r,e,i){const o=i.map(E=>E.currentWriteId),c=sE(r,e,o);let d=c;const p=c.hash();for(let E=0;E<i.length;E++){const N=i[E];Q(N.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),N.status=1,N.retryCount++;const w=gn(e,N.path);d=d.updateChild(w,N.currentOutputSnapshotRaw)}const y=d.val(!0),b=e;r.server_.put(b.toString(),y,E=>{Lm(r,"transaction put response",{path:b.toString(),status:E});let N=[];if(E==="ok"){const w=[];for(let x=0;x<i.length;x++)i[x].status=2,N=N.concat(ia(r.serverSyncTree_,i[x].currentWriteId)),i[x].onComplete&&w.push(()=>i[x].onComplete(null,!0,i[x].currentOutputSnapshotResolved)),i[x].unwatcher();Fh(r,Cm(r.transactionQueueTree_,e)),Mm(r,r.transactionQueueTree_),us(r.eventQueue_,e,N);for(let x=0;x<w.length;x++)Oo(w[x])}else{if(E==="datastale")for(let w=0;w<i.length;w++)i[w].status===3?i[w].status=4:i[w].status=0;else{yn("transaction at "+b.toString()+" failed: "+E);for(let w=0;w<i.length;w++)i[w].status=4,i[w].abortReason=E}Gh(r,e)}},p)}function Gh(r,e){const i=rE(r,e),o=wu(i),c=aE(r,i);return qN(r,c,o),o}function qN(r,e,i){if(e.length===0)return;const o=[];let c=[];const p=e.filter(y=>y.status===0).map(y=>y.currentWriteId);for(let y=0;y<e.length;y++){const b=e[y],E=gn(i,b.path);let N=!1,w;if(Q(E!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),b.status===4)N=!0,w=b.abortReason,c=c.concat(ia(r.serverSyncTree_,b.currentWriteId,!0));else if(b.status===0)if(b.retryCount>=ON)N=!0,w="maxretry",c=c.concat(ia(r.serverSyncTree_,b.currentWriteId,!0));else{const x=sE(r,b.path,p);b.currentInputSnapshot=x;const F=e[y].update(x.val());if(F!==void 0){Vh("transaction failed: Data returned ",F,b.path);let Y=Ce(F);typeof F=="object"&&F!=null&&wi(F,".priority")||(Y=Y.updatePriority(x.getPriority()));const dt=b.currentWriteId,zt=Om(r),te=Qb(Y,x,zt);b.currentOutputSnapshotRaw=Y,b.currentOutputSnapshotResolved=te,b.currentWriteId=iE(r),p.splice(p.indexOf(dt),1),c=c.concat(Fb(r.serverSyncTree_,b.path,te,b.currentWriteId,b.applyLocally)),c=c.concat(ia(r.serverSyncTree_,dt,!0))}else N=!0,w="nodata",c=c.concat(ia(r.serverSyncTree_,b.currentWriteId,!0))}us(r.eventQueue_,i,c),c=[],N&&(e[y].status=2,(function(x){setTimeout(x,Math.floor(0))})(e[y].unwatcher),e[y].onComplete&&(w==="nodata"?o.push(()=>e[y].onComplete(null,!1,e[y].currentInputSnapshot)):o.push(()=>e[y].onComplete(new Error(w),!1,null))))}Fh(r,r.transactionQueueTree_);for(let y=0;y<o.length;y++)Oo(o[y]);Mm(r,r.transactionQueueTree_)}function rE(r,e){let i,o=r.transactionQueueTree_;for(i=St(e);i!==null&&Lo(o)===void 0;)o=Cm(o,i),e=$t(e),i=St(e);return o}function aE(r,e){const i=[];return oE(r,e,i),i.sort((o,c)=>o.order-c.order),i}function oE(r,e,i){const o=Lo(e);if(o)for(let c=0;c<o.length;c++)i.push(o[c]);qh(e,c=>{oE(r,c,i)})}function Fh(r,e){const i=Lo(e);if(i){let o=0;for(let c=0;c<i.length;c++)i[c].status!==2&&(i[o]=i[c],o++);i.length=o,Xb(e,i.length>0?i:void 0)}qh(e,o=>{Fh(r,o)})}function lE(r,e){const i=wu(rE(r,e)),o=Cm(r.transactionQueueTree_,e);return pN(o,c=>{f_(r,c)}),f_(r,o),$b(o,c=>{f_(r,c)}),i}function f_(r,e){const i=Lo(e);if(i){const o=[];let c=[],d=-1;for(let p=0;p<i.length;p++)i[p].status===3||(i[p].status===1?(Q(d===p-1,"All SENT items should be at beginning of queue."),d=p,i[p].status=3,i[p].abortReason="set"):(Q(i[p].status===0,"Unexpected transaction status in abort"),i[p].unwatcher(),c=c.concat(ia(r.serverSyncTree_,i[p].currentWriteId,!0)),i[p].onComplete&&o.push(i[p].onComplete.bind(null,new Error("set"),!1,null))));d===-1?Xb(e,void 0):i.length=d+1,us(r.eventQueue_,wu(e),c);for(let p=0;p<o.length;p++)Oo(o[p])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VN(r){let e="";const i=r.split("/");for(let o=0;o<i.length;o++)if(i[o].length>0){let c=i[o];try{c=decodeURIComponent(c.replace(/\+/g," "))}catch{}e+="/"+c}return e}function GN(r){const e={};r.charAt(0)==="?"&&(r=r.substring(1));for(const i of r.split("&")){if(i.length===0)continue;const o=i.split("=");o.length===2?e[decodeURIComponent(o[0])]=decodeURIComponent(o[1]):yn(`Invalid query segment '${i}' in query '${r}'`)}return e}const t0=function(r,e){const i=FN(r),o=i.namespace;i.domain==="firebase.com"&&ls(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!o||o==="undefined")&&i.domain!=="localhost"&&ls("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.secure||J1();const c=i.scheme==="ws"||i.scheme==="wss";return{repoInfo:new mb(i.host,i.secure,o,c,e,"",o!==i.subdomain),path:new Zt(i.pathString)}},FN=function(r){let e="",i="",o="",c="",d="",p=!0,y="https",b=443;if(typeof r=="string"){let E=r.indexOf("//");E>=0&&(y=r.substring(0,E-1),r=r.substring(E+2));let N=r.indexOf("/");N===-1&&(N=r.length);let w=r.indexOf("?");w===-1&&(w=r.length),e=r.substring(0,Math.min(N,w)),N<w&&(c=VN(r.substring(N,w)));const x=GN(r.substring(Math.min(r.length,w)));E=e.indexOf(":"),E>=0?(p=y==="https"||y==="wss",b=parseInt(e.substring(E+1),10)):E=e.length;const F=e.slice(0,E);if(F.toLowerCase()==="localhost")i="localhost";else if(F.split(".").length<=2)i=F;else{const Y=e.indexOf(".");o=e.substring(0,Y).toLowerCase(),i=e.substring(Y+1),d=o}"ns"in x&&(d=x.ns)}return{host:e,port:b,domain:i,subdomain:o,secure:p,scheme:y,pathString:c,namespace:d}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e,i,o,c){this.eventType=e,this.eventRegistration=i,this.snapshot=o,this.prevName=c}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+ze(this.snapshot.exportVal())}}class WN{constructor(e,i,o){this.eventRegistration=e,this.error=i,this.path=o}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e,i){this.snapshotCallback=e,this.cancelCallback=i}onValue(e,i){this.snapshotCallback.call(null,e,i)}onCancel(e){return Q(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(e,i){this._repo=e,this._path=i}cancel(){const e=new ts;return PN(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){Yl("OnDisconnect.remove",this._path);const e=new ts;return $y(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){Yl("OnDisconnect.set",this._path),So("OnDisconnect.set",e,this._path,!1);const i=new ts;return $y(this._repo,this._path,e,i.wrapCallback(()=>{})),i.promise}setWithPriority(e,i){Yl("OnDisconnect.setWithPriority",this._path),So("OnDisconnect.setWithPriority",e,this._path,!1),TN("OnDisconnect.setWithPriority",i);const o=new ts;return zN(this._repo,this._path,e,i,o.wrapCallback(()=>{})),o.promise}update(e){Yl("OnDisconnect.update",this._path),SN("OnDisconnect.update",e,this._path);const i=new ts;return UN(this._repo,this._path,e,i.wrapCallback(()=>{})),i.promise}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e,i,o,c){this._repo=e,this._path=i,this._queryParams=o,this._orderByCalled=c}get key(){return Tt(this._path)?null:im(this._path)}get ref(){return new cr(this._repo,this._path)}get _queryIdentifier(){const e=zy(this._queryParams),i=$_(e);return i==="{}"?"default":i}get _queryObject(){return zy(this._queryParams)}isEqual(e){if(e=Ke(e),!(e instanceof Mo))return!1;const i=this._repo===e._repo,o=sm(this._path,e._path),c=this._queryIdentifier===e._queryIdentifier;return i&&o&&c}toJSON(){return this.toString()}toString(){return this._repo.toString()+kx(this._path)}}function XN(r,e){if(r._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function Im(r){let e=null,i=null;if(r.hasStart()&&(e=r.getIndexStartValue()),r.hasEnd()&&(i=r.getIndexEndValue()),r.getIndex()===sa){const o="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",c="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(r.hasStart()){if(r.getIndexStartName()!==ua)throw new Error(o);if(typeof e!="string")throw new Error(c)}if(r.hasEnd()){if(r.getIndexEndName()!==sr)throw new Error(o);if(typeof i!="string")throw new Error(c)}}else if(r.getIndex()===ue){if(e!=null&&!Lh(e)||i!=null&&!Lh(i))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Q(r.getIndex()instanceof om||r.getIndex()===Lb,"unknown index type."),e!=null&&typeof e=="object"||i!=null&&typeof i=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function uE(r){if(r.hasStart()&&r.hasEnd()&&r.hasLimit()&&!r.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class cr extends Mo{constructor(e,i){super(e,i,new um,!1)}get parent(){const e=wb(this._path);return e===null?null:new cr(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Mh{constructor(e,i,o){this._node=e,this.ref=i,this._index=o}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const i=new Zt(e),o=P_(this.ref,e);return new Mh(this._node.getChild(i),o,ue)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(o,c)=>e(new Mh(c,P_(this.ref,o),ue)))}hasChild(e){const i=new Zt(e);return!this._node.getChild(i).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function nu(r,e){return r=Ke(r),r._checkNotDeleted("ref"),e!==void 0?P_(r._root,e):r._root}function P_(r,e){return r=Ke(r),St(r._path)===null?wN("child","path",e):Am("child","path",e),new cr(r._repo,ge(r._path,e))}function JN(r){return r=Ke(r),new QN(r._repo,r._path)}function cE(r,e){r=Ke(r),Yl("set",r._path),So("set",e,r._path,!1);const i=new ts;return DN(r._repo,r._path,e,null,i.wrapCallback(()=>{})),i.promise}class Dm{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,i){const o=i._queryParams.getIndex();return new YN("value",this,new Mh(e.snapshotNode,new cr(i._repo,i._path),o))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,i){return this.callbackContext.hasCancelCallback?new WN(this,e,i):null}matches(e){return e instanceof Dm?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function $N(r,e,i,o,c){const d=new KN(i,void 0),p=new Dm(d);return BN(r._repo,r,p),()=>HN(r._repo,r,p)}function d_(r,e,i,o){return $N(r,"value",e)}class Yh{}class tO extends Yh{constructor(e,i){super(),this._value=e,this._key=i,this.type="endAt"}_apply(e){So("endAt",this._value,e._path,!0);const i=rA(e._queryParams,this._value,this._key);if(uE(i),Im(i),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Mo(e._repo,e._path,i,e._orderByCalled)}}class eO extends Yh{constructor(e,i){super(),this._value=e,this._key=i,this.type="startAt"}_apply(e){So("startAt",this._value,e._path,!0);const i=sA(e._queryParams,this._value,this._key);if(uE(i),Im(i),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Mo(e._repo,e._path,i,e._orderByCalled)}}class nO extends Yh{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){XN(e,"orderByChild");const i=new Zt(this._path);if(Tt(i))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const o=new om(i),c=aA(e._queryParams,o);return Im(c),new Mo(e._repo,e._path,c,!0)}}function iO(r){return Am("orderByChild","path",r),new nO(r)}class sO extends Yh{constructor(e,i){super(),this._value=e,this._key=i,this.type="equalTo"}_apply(e){if(So("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new tO(this._value,this._key)._apply(new eO(this._value,this._key)._apply(e))}}function rO(r,e){return new sO(r,e)}function aO(r,...e){let i=Ke(r);for(const o of e)i=o._apply(i);return i}YA(cr);$A(cr);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO="FIREBASE_DATABASE_EMULATOR_HOST",z_={};let lO=!1;function uO(r,e,i,o){const c=e.lastIndexOf(":"),d=e.substring(0,c),p=Co(d);r.repoInfo_=new mb(e,p,r.repoInfo_.namespace,r.repoInfo_.webSocketOnly,r.repoInfo_.nodeAdmin,r.repoInfo_.persistenceKey,r.repoInfo_.includeNamespaceInQueryParams,!0,i),o&&(r.authTokenProvider_=o)}function cO(r,e,i,o,c){let d=o||r.options.databaseURL;d===void 0&&(r.options.projectId||ls("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ve("Using default host for project ",r.options.projectId),d=`${r.options.projectId}-default-rtdb.firebaseio.com`);let p=t0(d,c),y=p.repoInfo,b;typeof process<"u"&&yy&&(b=yy[oO]),b?(d=`http://${b}?ns=${y.namespace}`,p=t0(d,c),y=p.repoInfo):p.repoInfo.secure;const E=new ux(r.name,r.options,e);CN("Invalid Firebase Database URL",p),Tt(p.path)||ls("Database URL must point to the root of a Firebase Database (not including a child path).");const N=fO(y,r,E,new lx(r,i));return new dO(N,r)}function hO(r,e){const i=z_[e];(!i||i[r.key]!==r)&&ls(`Database ${e}(${r.repoInfo_}) has already been deleted.`),jN(r),delete i[r.key]}function fO(r,e,i,o){let c=z_[e.name];c||(c={},z_[e.name]=c);let d=c[r.toURLString()];return d&&ls("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),d=new RN(r,lO,i,o),c[r.toURLString()]=d,d}class dO{constructor(e,i){this._repoInternal=e,this.app=i,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(LN(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new cr(this._repo,Ht())),this._rootInternal}_delete(){return this._rootInternal!==null&&(hO(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&ls("Cannot call "+e+" on a deleted database.")}}function _O(r=v0(),e){const i=V_(r,"database").getImmediate({identifier:e});if(!i._instanceStarted){const o=eT("database");o&&mO(i,...o)}return i}function mO(r,e,i,o={}){r=Ke(r),r._checkNotDeleted("useEmulator");const c=`${e}:${i}`,d=r._repoInternal;if(r._instanceStarted){if(c===r._repoInternal.repoInfo_.host&&ra(o,d.repoInfo_.emulatorOptions))return;ls("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let p;if(d.repoInfo_.nodeAdmin)o.mockUserToken&&ls('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),p=new oh(oh.OWNER);else if(o.mockUserToken){const y=typeof o.mockUserToken=="string"?o.mockUserToken:nT(o.mockUserToken,r.app.options.projectId);p=new oh(y)}Co(e)&&(h0(e),f0("Database",!0)),uO(d,c,o,p)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pO(r){F1(Ao),yo(new aa("database",(e,{instanceIdentifier:i})=>{const o=e.getProvider("app").getImmediate(),c=e.getProvider("auth-internal"),d=e.getProvider("app-check-internal");return cO(o,c,d,i)},"PUBLIC").setMultipleInstances(!0)),nr(by,Ey,r),nr(by,Ey,"esm2020")}rs.prototype.simpleListen=function(r,e){this.sendRequest("q",{p:r},e)};rs.prototype.echo=function(r,e){this.sendRequest("echo",{d:r},e)};pO();const gO={apiKey:"AIzaSyAbJ-1Mq_P8cP4c8I-NFwzEil1K7TA_708",authDomain:"live-location-7d9ee.firebaseapp.com",databaseURL:"https://live-location-7d9ee-default-rtdb.firebaseio.com",projectId:"live-location-7d9ee",storageBucket:"live-location-7d9ee.firebasestorage.app",messagingSenderId:"779687667185",appId:"1:779687667185:web:c47623363d772f21ac1050"},hE=g0(gO),si=Z1(hE),iu=_O(hE),vO=({onAuthSuccess:r})=>{const[e,i]=pt.useState(""),[o,c]=pt.useState(""),[d,p]=pt.useState(!0),[y,b]=pt.useState(""),E=async N=>{N.preventDefault(),b("");try{if(d){console.log("Attempting login with:",e);const w=await AC(si,e,o);console.log("Login successful:",w.user.email)}else{console.log("Attempting signup with:",e);const w=await xC(si,e,o);console.log("Signup successful:",w.user.email)}r()}catch(w){console.error("Auth error:",w.code,w.message);let x=w.message;w.code==="auth/user-not-found"?x="No account found with this email. Please sign up first.":w.code==="auth/wrong-password"?x="Incorrect password. Please try again.":w.code==="auth/invalid-email"?x="Invalid email address format.":w.code==="auth/weak-password"?x="Password should be at least 6 characters.":w.code==="auth/email-already-in-use"&&(x="Email already registered. Try signing in instead."),b(x)}};return M.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-black to-gray-800 flex items-center justify-center p-4 relative overflow-hidden",children:[M.jsxs("div",{className:"absolute inset-0",children:[M.jsx("div",{className:"absolute top-20 left-20 w-32 h-32 bg-gradient-to-r from-red-500/20 to-pink-500/20 rounded-full blur-xl float-animation"}),M.jsx("div",{className:"absolute bottom-20 right-20 w-40 h-40 bg-gradient-to-r from-cyan-500/20 to-blue-500/20 rounded-full blur-xl float-animation",style:{animationDelay:"1s"}}),M.jsx("div",{className:"absolute top-1/2 left-1/2 w-24 h-24 bg-gradient-to-r from-purple-500/20 to-indigo-500/20 rounded-full blur-xl float-animation",style:{animationDelay:"2s"}})]}),M.jsxs("div",{className:"bg-gray-800/40 backdrop-blur-xl p-8 rounded-3xl shadow-2xl border border-gray-700/50 w-full max-w-md relative z-10",children:[M.jsxs("div",{className:"text-center mb-8",children:[M.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-red-500 to-cyan-400 rounded-2xl flex items-center justify-center mx-auto mb-6 pulse-glow",children:M.jsx("span",{className:"text-3xl",children:"🛰"})}),M.jsx("h2",{className:"text-4xl font-bold bg-gradient-to-r from-red-400 via-pink-400 to-cyan-400 bg-clip-text text-transparent mb-2",children:d?"Welcome Back":"Join TrackMe"}),M.jsx("p",{className:"text-gray-400",children:d?"Access your location network":"Start sharing your journey"})]}),M.jsxs("form",{onSubmit:E,className:"space-y-6",children:[M.jsxs("div",{className:"relative group",children:[M.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-500/20 to-cyan-400/20 rounded-2xl blur opacity-0 group-hover:opacity-100 transition-opacity"}),M.jsx("input",{type:"email",placeholder:"Enter your email",value:e,onChange:N=>i(N.target.value),className:"relative w-full p-4 bg-gray-700/50 border border-gray-600 rounded-2xl focus:border-cyan-400 focus:outline-none transition-all text-white placeholder-gray-400",required:!0})]}),M.jsxs("div",{className:"relative group",children:[M.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-500/20 to-cyan-400/20 rounded-2xl blur opacity-0 group-hover:opacity-100 transition-opacity"}),M.jsx("input",{type:"password",placeholder:"Enter your password",value:o,onChange:N=>c(N.target.value),className:"relative w-full p-4 bg-gray-700/50 border border-gray-600 rounded-2xl focus:border-cyan-400 focus:outline-none transition-all text-white placeholder-gray-400",required:!0})]}),y&&M.jsx("div",{className:"bg-red-900/30 border border-red-500/50 rounded-2xl p-4",children:M.jsx("p",{className:"text-red-400 text-sm",children:y})}),M.jsxs("button",{type:"submit",className:"w-full bg-gradient-to-r from-red-500 to-cyan-400 text-white p-4 rounded-2xl hover:from-red-600 hover:to-cyan-500 transition-all duration-300 font-semibold shadow-lg hover:shadow-2xl transform hover:scale-105 relative overflow-hidden group",children:[M.jsx("span",{className:"relative z-10",children:d?"Access Network":"Join Network"}),M.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400 to-red-500 opacity-0 group-hover:opacity-100 transition-opacity"})]})]}),M.jsx("div",{className:"text-center mt-8",children:M.jsxs("p",{className:"text-gray-400",children:[d?"New to TrackMe? ":"Already have access? ",M.jsx("button",{onClick:()=>p(!d),className:"text-cyan-400 hover:text-red-400 font-semibold transition-colors",children:d?"Create Account":"Sign In"})]})})]})]})};function fE(r,e){const i=pt.useRef(e);pt.useEffect(function(){e!==i.current&&r.attributionControl!=null&&(i.current!=null&&r.attributionControl.removeAttribution(i.current),e!=null&&r.attributionControl.addAttribution(e)),i.current=e},[r,e])}var yO=i0();const bO=1;function EO(r){return Object.freeze({__version:bO,map:r})}function SO(r,e){return Object.freeze({...r,...e})}const km=pt.createContext(null);function dE(){const r=pt.use(km);if(r==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return r}function TO(r){function e(i,o){const{instance:c,context:d}=r(i).current;pt.useImperativeHandle(o,()=>c);const{children:p}=i;return p==null?null:__.createElement(km,{value:d},p)}return pt.forwardRef(e)}function wO(r){function e(i,o){const[c,d]=pt.useState(!1),{instance:p}=r(i,d).current;pt.useImperativeHandle(o,()=>p),pt.useEffect(function(){c&&p.update()},[p,c,i.children]);const y=p._contentNode;return y?yO.createPortal(i.children,y):null}return pt.forwardRef(e)}function CO(r){function e(i,o){const{instance:c}=r(i).current;return pt.useImperativeHandle(o,()=>c),null}return pt.forwardRef(e)}function _E(r,e){const i=pt.useRef(void 0);pt.useEffect(function(){return e!=null&&r.instance.on(e),i.current=e,function(){i.current!=null&&r.instance.off(i.current),i.current=null}},[r,e])}function Pm(r,e){const i=r.pane??e.pane;return i?{...r,pane:i}:r}function xO(r,e){return function(o,c){const d=dE(),p=r(Pm(o,d),d);return fE(d.map,o.attribution),_E(p.current,o.eventHandlers),e(p.current,d,o,c),p}}var Wl={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var AO=Wl.exports,e0;function NO(){return e0||(e0=1,(function(r,e){(function(i,o){o(e)})(AO,(function(i){var o="1.9.4";function c(s){var l,h,m,g;for(h=1,m=arguments.length;h<m;h++){g=arguments[h];for(l in g)s[l]=g[l]}return s}var d=Object.create||(function(){function s(){}return function(l){return s.prototype=l,new s}})();function p(s,l){var h=Array.prototype.slice;if(s.bind)return s.bind.apply(s,h.call(arguments,1));var m=h.call(arguments,2);return function(){return s.apply(l,m.length?m.concat(h.call(arguments)):arguments)}}var y=0;function b(s){return"_leaflet_id"in s||(s._leaflet_id=++y),s._leaflet_id}function E(s,l,h){var m,g,S,C;return C=function(){m=!1,g&&(S.apply(h,g),g=!1)},S=function(){m?g=arguments:(s.apply(h,arguments),setTimeout(C,l),m=!0)},S}function N(s,l,h){var m=l[1],g=l[0],S=m-g;return s===m&&h?s:((s-g)%S+S)%S+g}function w(){return!1}function x(s,l){if(l===!1)return s;var h=Math.pow(10,l===void 0?6:l);return Math.round(s*h)/h}function F(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function Y(s){return F(s).split(/\s+/)}function tt(s,l){Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?d(s.options):{});for(var h in l)s.options[h]=l[h];return s.options}function dt(s,l,h){var m=[];for(var g in s)m.push(encodeURIComponent(h?g.toUpperCase():g)+"="+encodeURIComponent(s[g]));return(!l||l.indexOf("?")===-1?"?":"&")+m.join("&")}var zt=/\{ *([\w_ -]+) *\}/g;function te(s,l){return s.replace(zt,function(h,m){var g=l[m];if(g===void 0)throw new Error("No value provided for variable "+h);return typeof g=="function"&&(g=g(l)),g})}var gt=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function ve(s,l){for(var h=0;h<s.length;h++)if(s[h]===l)return h;return-1}var Qe="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Re(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var wt=0;function Ue(s){var l=+new Date,h=Math.max(0,16-(l-wt));return wt=l+h,window.setTimeout(s,h)}var sn=window.requestAnimationFrame||Re("RequestAnimationFrame")||Ue,Ci=window.cancelAnimationFrame||Re("CancelAnimationFrame")||Re("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function ee(s,l,h){if(h&&sn===Ue)s.call(l);else return sn.call(window,p(s,l))}function Qt(s){s&&Ci.call(window,s)}var xi={__proto__:null,extend:c,create:d,bind:p,get lastId(){return y},stamp:b,throttle:E,wrapNum:N,falseFn:w,formatNum:x,trim:F,splitWords:Y,setOptions:tt,getParamString:dt,template:te,isArray:gt,indexOf:ve,emptyImageUrl:Qe,requestFn:sn,cancelFn:Ci,requestAnimFrame:ee,cancelAnimFrame:Qt};function xe(){}xe.extend=function(s){var l=function(){tt(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},h=l.__super__=this.prototype,m=d(h);m.constructor=l,l.prototype=m;for(var g in this)Object.prototype.hasOwnProperty.call(this,g)&&g!=="prototype"&&g!=="__super__"&&(l[g]=this[g]);return s.statics&&c(l,s.statics),s.includes&&(bn(s.includes),c.apply(null,[m].concat(s.includes))),c(m,s),delete m.statics,delete m.includes,m.options&&(m.options=h.options?d(h.options):{},c(m.options,s.options)),m._initHooks=[],m.callInitHooks=function(){if(!this._initHooksCalled){h.callInitHooks&&h.callInitHooks.call(this),this._initHooksCalled=!0;for(var S=0,C=m._initHooks.length;S<C;S++)m._initHooks[S].call(this)}},l},xe.include=function(s){var l=this.prototype.options;return c(this.prototype,s),s.options&&(this.prototype.options=l,this.mergeOptions(s.options)),this},xe.mergeOptions=function(s){return c(this.prototype.options,s),this},xe.addInitHook=function(s){var l=Array.prototype.slice.call(arguments,1),h=typeof s=="function"?s:function(){this[s].apply(this,l)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(h),this};function bn(s){if(!(typeof L>"u"||!L||!L.Mixin)){s=gt(s)?s:[s];for(var l=0;l<s.length;l++)s[l]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var H={on:function(s,l,h){if(typeof s=="object")for(var m in s)this._on(m,s[m],l);else{s=Y(s);for(var g=0,S=s.length;g<S;g++)this._on(s[g],l,h)}return this},off:function(s,l,h){if(!arguments.length)delete this._events;else if(typeof s=="object")for(var m in s)this._off(m,s[m],l);else{s=Y(s);for(var g=arguments.length===1,S=0,C=s.length;S<C;S++)g?this._off(s[S]):this._off(s[S],l,h)}return this},_on:function(s,l,h,m){if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}if(this._listens(s,l,h)===!1){h===this&&(h=void 0);var g={fn:l,ctx:h};m&&(g.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(g)}},_off:function(s,l,h){var m,g,S;if(this._events&&(m=this._events[s],!!m)){if(arguments.length===1){if(this._firingCount)for(g=0,S=m.length;g<S;g++)m[g].fn=w;delete this._events[s];return}if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}var C=this._listens(s,l,h);if(C!==!1){var D=m[C];this._firingCount&&(D.fn=w,this._events[s]=m=m.slice()),m.splice(C,1)}}},fire:function(s,l,h){if(!this.listens(s,h))return this;var m=c({},l,{type:s,target:this,sourceTarget:l&&l.sourceTarget||this});if(this._events){var g=this._events[s];if(g){this._firingCount=this._firingCount+1||1;for(var S=0,C=g.length;S<C;S++){var D=g[S],z=D.fn;D.once&&this.off(s,z,D.ctx),z.call(D.ctx||this,m)}this._firingCount--}}return h&&this._propagateEvent(m),this},listens:function(s,l,h,m){typeof s!="string"&&console.warn('"string" type argument expected');var g=l;typeof l!="function"&&(m=!!l,g=void 0,h=void 0);var S=this._events&&this._events[s];if(S&&S.length&&this._listens(s,g,h)!==!1)return!0;if(m){for(var C in this._eventParents)if(this._eventParents[C].listens(s,l,h,m))return!0}return!1},_listens:function(s,l,h){if(!this._events)return!1;var m=this._events[s]||[];if(!l)return!!m.length;h===this&&(h=void 0);for(var g=0,S=m.length;g<S;g++)if(m[g].fn===l&&m[g].ctx===h)return g;return!1},once:function(s,l,h){if(typeof s=="object")for(var m in s)this._on(m,s[m],l,!0);else{s=Y(s);for(var g=0,S=s.length;g<S;g++)this._on(s[g],l,h,!0)}return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[b(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[b(s)],this},_propagateEvent:function(s){for(var l in this._eventParents)this._eventParents[l].fire(s.type,c({layer:s.target,propagatedFrom:s.target},s),!0)}};H.addEventListener=H.on,H.removeEventListener=H.clearAllEventListeners=H.off,H.addOneTimeEventListener=H.once,H.fireEvent=H.fire,H.hasEventListeners=H.listens;var $=xe.extend(H);function W(s,l,h){this.x=h?Math.round(s):s,this.y=h?Math.round(l):l}var Ut=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};W.prototype={clone:function(){return new W(this.x,this.y)},add:function(s){return this.clone()._add(et(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(et(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new W(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new W(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Ut(this.x),this.y=Ut(this.y),this},distanceTo:function(s){s=et(s);var l=s.x-this.x,h=s.y-this.y;return Math.sqrt(l*l+h*h)},equals:function(s){return s=et(s),s.x===this.x&&s.y===this.y},contains:function(s){return s=et(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+x(this.x)+", "+x(this.y)+")"}};function et(s,l,h){return s instanceof W?s:gt(s)?new W(s[0],s[1]):s==null?s:typeof s=="object"&&"x"in s&&"y"in s?new W(s.x,s.y):new W(s,l,h)}function O(s,l){if(s)for(var h=l?[s,l]:s,m=0,g=h.length;m<g;m++)this.extend(h[m])}O.prototype={extend:function(s){var l,h;if(!s)return this;if(s instanceof W||typeof s[0]=="number"||"x"in s)l=h=et(s);else if(s=j(s),l=s.min,h=s.max,!l||!h)return this;return!this.min&&!this.max?(this.min=l.clone(),this.max=h.clone()):(this.min.x=Math.min(l.x,this.min.x),this.max.x=Math.max(h.x,this.max.x),this.min.y=Math.min(l.y,this.min.y),this.max.y=Math.max(h.y,this.max.y)),this},getCenter:function(s){return et((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return et(this.min.x,this.max.y)},getTopRight:function(){return et(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var l,h;return typeof s[0]=="number"||s instanceof W?s=et(s):s=j(s),s instanceof O?(l=s.min,h=s.max):l=h=s,l.x>=this.min.x&&h.x<=this.max.x&&l.y>=this.min.y&&h.y<=this.max.y},intersects:function(s){s=j(s);var l=this.min,h=this.max,m=s.min,g=s.max,S=g.x>=l.x&&m.x<=h.x,C=g.y>=l.y&&m.y<=h.y;return S&&C},overlaps:function(s){s=j(s);var l=this.min,h=this.max,m=s.min,g=s.max,S=g.x>l.x&&m.x<h.x,C=g.y>l.y&&m.y<h.y;return S&&C},isValid:function(){return!!(this.min&&this.max)},pad:function(s){var l=this.min,h=this.max,m=Math.abs(l.x-h.x)*s,g=Math.abs(l.y-h.y)*s;return j(et(l.x-m,l.y-g),et(h.x+m,h.y+g))},equals:function(s){return s?(s=j(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight())):!1}};function j(s,l){return!s||s instanceof O?s:new O(s,l)}function K(s,l){if(s)for(var h=l?[s,l]:s,m=0,g=h.length;m<g;m++)this.extend(h[m])}K.prototype={extend:function(s){var l=this._southWest,h=this._northEast,m,g;if(s instanceof it)m=s,g=s;else if(s instanceof K){if(m=s._southWest,g=s._northEast,!m||!g)return this}else return s?this.extend(nt(s)||X(s)):this;return!l&&!h?(this._southWest=new it(m.lat,m.lng),this._northEast=new it(g.lat,g.lng)):(l.lat=Math.min(m.lat,l.lat),l.lng=Math.min(m.lng,l.lng),h.lat=Math.max(g.lat,h.lat),h.lng=Math.max(g.lng,h.lng)),this},pad:function(s){var l=this._southWest,h=this._northEast,m=Math.abs(l.lat-h.lat)*s,g=Math.abs(l.lng-h.lng)*s;return new K(new it(l.lat-m,l.lng-g),new it(h.lat+m,h.lng+g))},getCenter:function(){return new it((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new it(this.getNorth(),this.getWest())},getSouthEast:function(){return new it(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){typeof s[0]=="number"||s instanceof it||"lat"in s?s=nt(s):s=X(s);var l=this._southWest,h=this._northEast,m,g;return s instanceof K?(m=s.getSouthWest(),g=s.getNorthEast()):m=g=s,m.lat>=l.lat&&g.lat<=h.lat&&m.lng>=l.lng&&g.lng<=h.lng},intersects:function(s){s=X(s);var l=this._southWest,h=this._northEast,m=s.getSouthWest(),g=s.getNorthEast(),S=g.lat>=l.lat&&m.lat<=h.lat,C=g.lng>=l.lng&&m.lng<=h.lng;return S&&C},overlaps:function(s){s=X(s);var l=this._southWest,h=this._northEast,m=s.getSouthWest(),g=s.getNorthEast(),S=g.lat>l.lat&&m.lat<h.lat,C=g.lng>l.lng&&m.lng<h.lng;return S&&C},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,l){return s?(s=X(s),this._southWest.equals(s.getSouthWest(),l)&&this._northEast.equals(s.getNorthEast(),l)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function X(s,l){return s instanceof K?s:new K(s,l)}function it(s,l,h){if(isNaN(s)||isNaN(l))throw new Error("Invalid LatLng object: ("+s+", "+l+")");this.lat=+s,this.lng=+l,h!==void 0&&(this.alt=+h)}it.prototype={equals:function(s,l){if(!s)return!1;s=nt(s);var h=Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng));return h<=(l===void 0?1e-9:l)},toString:function(s){return"LatLng("+x(this.lat,s)+", "+x(this.lng,s)+")"},distanceTo:function(s){return re.distance(this,nt(s))},wrap:function(){return re.wrapLatLng(this)},toBounds:function(s){var l=180*s/40075017,h=l/Math.cos(Math.PI/180*this.lat);return X([this.lat-l,this.lng-h],[this.lat+l,this.lng+h])},clone:function(){return new it(this.lat,this.lng,this.alt)}};function nt(s,l,h){return s instanceof it?s:gt(s)&&typeof s[0]!="object"?s.length===3?new it(s[0],s[1],s[2]):s.length===2?new it(s[0],s[1]):null:s==null?s:typeof s=="object"&&"lat"in s?new it(s.lat,"lng"in s?s.lng:s.lon,s.alt):l===void 0?null:new it(s,l,h)}var Et={latLngToPoint:function(s,l){var h=this.projection.project(s),m=this.scale(l);return this.transformation._transform(h,m)},pointToLatLng:function(s,l){var h=this.scale(l),m=this.transformation.untransform(s,h);return this.projection.unproject(m)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var l=this.projection.bounds,h=this.scale(s),m=this.transformation.transform(l.min,h),g=this.transformation.transform(l.max,h);return new O(m,g)},infinite:!1,wrapLatLng:function(s){var l=this.wrapLng?N(s.lng,this.wrapLng,!0):s.lng,h=this.wrapLat?N(s.lat,this.wrapLat,!0):s.lat,m=s.alt;return new it(h,l,m)},wrapLatLngBounds:function(s){var l=s.getCenter(),h=this.wrapLatLng(l),m=l.lat-h.lat,g=l.lng-h.lng;if(m===0&&g===0)return s;var S=s.getSouthWest(),C=s.getNorthEast(),D=new it(S.lat-m,S.lng-g),z=new it(C.lat-m,C.lng-g);return new K(D,z)}},re=c({},Et,{wrapLng:[-180,180],R:6371e3,distance:function(s,l){var h=Math.PI/180,m=s.lat*h,g=l.lat*h,S=Math.sin((l.lat-s.lat)*h/2),C=Math.sin((l.lng-s.lng)*h/2),D=S*S+Math.cos(m)*Math.cos(g)*C*C,z=2*Math.atan2(Math.sqrt(D),Math.sqrt(1-D));return this.R*z}}),ae=6378137,Ai={R:ae,MAX_LATITUDE:85.0511287798,project:function(s){var l=Math.PI/180,h=this.MAX_LATITUDE,m=Math.max(Math.min(h,s.lat),-h),g=Math.sin(m*l);return new W(this.R*s.lng*l,this.R*Math.log((1+g)/(1-g))/2)},unproject:function(s){var l=180/Math.PI;return new it((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*l,s.x*l/this.R)},bounds:(function(){var s=ae*Math.PI;return new O([-s,-s],[s,s])})()};function cs(s,l,h,m){if(gt(s)){this._a=s[0],this._b=s[1],this._c=s[2],this._d=s[3];return}this._a=s,this._b=l,this._c=h,this._d=m}cs.prototype={transform:function(s,l){return this._transform(s.clone(),l)},_transform:function(s,l){return l=l||1,s.x=l*(this._a*s.x+this._b),s.y=l*(this._c*s.y+this._d),s},untransform:function(s,l){return l=l||1,new W((s.x/l-this._b)/this._a,(s.y/l-this._d)/this._c)}};function Ni(s,l,h,m){return new cs(s,l,h,m)}var pa=c({},re,{code:"EPSG:3857",projection:Ai,transformation:(function(){var s=.5/(Math.PI*Ai.R);return Ni(s,.5,-s,.5)})()}),Oi=c({},pa,{code:"EPSG:900913"});function ga(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function va(s,l){var h="",m,g,S,C,D,z;for(m=0,S=s.length;m<S;m++){for(D=s[m],g=0,C=D.length;g<C;g++)z=D[g],h+=(g?"L":"M")+z.x+" "+z.y;h+=l?at.svg?"z":"x":""}return h||"M0 0"}var Io=document.documentElement.style,hr="ActiveXObject"in window,Do=hr&&!document.addEventListener,ya="msLaunchUri"in navigator&&!("documentMode"in document),fr=rn("webkit"),xu=rn("android"),Au=rn("android 2")||rn("android 3"),Xe=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Wh=xu&&rn("Google")&&Xe<537&&!("AudioNode"in window),ba=!!window.opera,ko=!ya&&rn("chrome"),dr=rn("gecko")&&!fr&&!ba&&!hr,Kh=!ko&&rn("safari"),Po=rn("phantom"),Nu="OTransition"in Io,Qh=navigator.platform.indexOf("Win")===0,hs=hr&&"transition"in Io,Be="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Au,qn="MozPerspective"in Io,Je=!window.L_DISABLE_3D&&(hs||Be||qn)&&!Nu&&!Po,_r=typeof orientation<"u"||rn("mobile"),Xh=_r&&fr,Jh=_r&&Be,mr=!window.PointerEvent&&window.MSPointerEvent,pr=!!(window.PointerEvent||mr),gr="ontouchstart"in window||!!window.TouchEvent,Ri=!window.L_NO_TOUCH&&(gr||pr),Ea=_r&&ba,vr=_r&&dr,$h=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Ou=(function(){var s=!1;try{var l=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",w,l),window.removeEventListener("testPassiveEventSupport",w,l)}catch{}return s})(),zo=(function(){return!!document.createElement("canvas").getContext})(),Li=!!(document.createElementNS&&ga("svg").createSVGRect),tf=!!Li&&(function(){var s=document.createElement("div");return s.innerHTML="<svg/>",(s.firstChild&&s.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Ru=!Li&&(function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var l=s.firstChild;return l.style.behavior="url(#default#VML)",l&&typeof l.adj=="object"}catch{return!1}})(),Lu=navigator.platform.indexOf("Mac")===0,Mu=navigator.platform.indexOf("Linux")===0;function rn(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var at={ie:hr,ielt9:Do,edge:ya,webkit:fr,android:xu,android23:Au,androidStock:Wh,opera:ba,chrome:ko,gecko:dr,safari:Kh,phantom:Po,opera12:Nu,win:Qh,ie3d:hs,webkit3d:Be,gecko3d:qn,any3d:Je,mobile:_r,mobileWebkit:Xh,mobileWebkit3d:Jh,msPointer:mr,pointer:pr,touch:Ri,touchNative:gr,mobileOpera:Ea,mobileGecko:vr,retina:$h,passiveEvents:Ou,canvas:zo,svg:Li,vml:Ru,inlineSvg:tf,mac:Lu,linux:Mu},Uo=at.msPointer?"MSPointerDown":"pointerdown",Bo=at.msPointer?"MSPointerMove":"pointermove",Vn=at.msPointer?"MSPointerUp":"pointerup",ye=at.msPointer?"MSPointerCancel":"pointercancel",Le={touchstart:Uo,touchmove:Bo,touchend:Vn,touchcancel:ye},Mi={touchstart:ds,touchmove:oi,touchend:oi,touchcancel:oi},ai={},Iu=!1;function ef(s,l,h){return l==="touchstart"&&fs(),Mi[l]?(h=Mi[l].bind(this,h),s.addEventListener(Le[l],h,!1),h):(console.warn("wrong event specified:",l),w)}function Du(s,l,h){if(!Le[l]){console.warn("wrong event specified:",l);return}s.removeEventListener(Le[l],h,!1)}function yr(s){ai[s.pointerId]=s}function Ho(s){ai[s.pointerId]&&(ai[s.pointerId]=s)}function Ii(s){delete ai[s.pointerId]}function fs(){Iu||(document.addEventListener(Uo,yr,!0),document.addEventListener(Bo,Ho,!0),document.addEventListener(Vn,Ii,!0),document.addEventListener(ye,Ii,!0),Iu=!0)}function oi(s,l){if(l.pointerType!==(l.MSPOINTER_TYPE_MOUSE||"mouse")){l.touches=[];for(var h in ai)l.touches.push(ai[h]);l.changedTouches=[l],s(l)}}function ds(s,l){l.MSPOINTER_TYPE_TOUCH&&l.pointerType===l.MSPOINTER_TYPE_TOUCH&&he(l),oi(s,l)}function be(s){var l={},h,m;for(m in s)h=s[m],l[m]=h&&h.bind?h.bind(s):h;return s=l,l.type="dblclick",l.detail=2,l.isTrusted=!1,l._simulated=!0,l}var ku=200;function Pu(s,l){s.addEventListener("dblclick",l);var h=0,m;function g(S){if(S.detail!==1){m=S.detail;return}if(!(S.pointerType==="mouse"||S.sourceCapabilities&&!S.sourceCapabilities.firesTouchEvents)){var C=xr(S);if(!(C.some(function(z){return z instanceof HTMLLabelElement&&z.attributes.for})&&!C.some(function(z){return z instanceof HTMLInputElement||z instanceof HTMLSelectElement}))){var D=Date.now();D-h<=ku?(m++,m===2&&l(be(S))):m=1,h=D}}}return s.addEventListener("click",g),{dblclick:l,simDblclick:g}}function Di(s,l){s.removeEventListener("dblclick",l.dblclick),s.removeEventListener("click",l.simDblclick)}var li=Sr(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),br=Sr(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),jo=br==="webkitTransition"||br==="OTransition"?br+"End":"transitionend";function Zo(s){return typeof s=="string"?document.getElementById(s):s}function Er(s,l){var h=s.style[l]||s.currentStyle&&s.currentStyle[l];if((!h||h==="auto")&&document.defaultView){var m=document.defaultView.getComputedStyle(s,null);h=m?m[l]:null}return h==="auto"?null:h}function xt(s,l,h){var m=document.createElement(s);return m.className=l||"",h&&h.appendChild(m),m}function Gt(s){var l=s.parentNode;l&&l.removeChild(s)}function an(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function Ae(s){var l=s.parentNode;l&&l.lastChild!==s&&l.appendChild(s)}function ki(s){var l=s.parentNode;l&&l.firstChild!==s&&l.insertBefore(s,l.firstChild)}function qo(s,l){if(s.classList!==void 0)return s.classList.contains(l);var h=Sa(s);return h.length>0&&new RegExp("(^|\\s)"+l+"(\\s|$)").test(h)}function _t(s,l){if(s.classList!==void 0)for(var h=Y(l),m=0,g=h.length;m<g;m++)s.classList.add(h[m]);else if(!qo(s,l)){var S=Sa(s);_s(s,(S?S+" ":"")+l)}}function oe(s,l){s.classList!==void 0?s.classList.remove(l):_s(s,F((" "+Sa(s)+" ").replace(" "+l+" "," ")))}function _s(s,l){s.className.baseVal===void 0?s.className=l:s.className.baseVal=l}function Sa(s){return s.correspondingElement&&(s=s.correspondingElement),s.className.baseVal===void 0?s.className:s.className.baseVal}function ne(s,l){"opacity"in s.style?s.style.opacity=l:"filter"in s.style&&Vo(s,l)}function Vo(s,l){var h=!1,m="DXImageTransform.Microsoft.Alpha";try{h=s.filters.item(m)}catch{if(l===1)return}l=Math.round(l*100),h?(h.Enabled=l!==100,h.Opacity=l):s.style.filter+=" progid:"+m+"(opacity="+l+")"}function Sr(s){for(var l=document.documentElement.style,h=0;h<s.length;h++)if(s[h]in l)return s[h];return!1}function Gn(s,l,h){var m=l||new W(0,0);s.style[li]=(at.ie3d?"translate("+m.x+"px,"+m.y+"px)":"translate3d("+m.x+"px,"+m.y+"px,0)")+(h?" scale("+h+")":"")}function Xt(s,l){s._leaflet_pos=l,at.any3d?Gn(s,l):(s.style.left=l.x+"px",s.style.top=l.y+"px")}function ui(s){return s._leaflet_pos||new W(0,0)}var ms,Rn,Go;if("onselectstart"in document)ms=function(){ct(window,"selectstart",he)},Rn=function(){jt(window,"selectstart",he)};else{var ps=Sr(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);ms=function(){if(ps){var s=document.documentElement.style;Go=s[ps],s[ps]="none"}},Rn=function(){ps&&(document.documentElement.style[ps]=Go,Go=void 0)}}function Ta(){ct(window,"dragstart",he)}function Tr(){jt(window,"dragstart",he)}var wa,Fo;function gs(s){for(;s.tabIndex===-1;)s=s.parentNode;s.style&&(on(),wa=s,Fo=s.style.outlineStyle,s.style.outlineStyle="none",ct(window,"keydown",on))}function on(){wa&&(wa.style.outlineStyle=Fo,wa=void 0,Fo=void 0,jt(window,"keydown",on))}function Ca(s){do s=s.parentNode;while((!s.offsetWidth||!s.offsetHeight)&&s!==document.body);return s}function wr(s){var l=s.getBoundingClientRect();return{x:l.width/s.offsetWidth||1,y:l.height/s.offsetHeight||1,boundingClientRect:l}}var vs={__proto__:null,TRANSFORM:li,TRANSITION:br,TRANSITION_END:jo,get:Zo,getStyle:Er,create:xt,remove:Gt,empty:an,toFront:Ae,toBack:ki,hasClass:qo,addClass:_t,removeClass:oe,setClass:_s,getClass:Sa,setOpacity:ne,testProp:Sr,setTransform:Gn,setPosition:Xt,getPosition:ui,get disableTextSelection(){return ms},get enableTextSelection(){return Rn},disableImageDrag:Ta,enableImageDrag:Tr,preventOutline:gs,restoreOutline:on,getSizedParentNode:Ca,getScale:wr};function ct(s,l,h,m){if(l&&typeof l=="object")for(var g in l)Sn(s,g,l[g],h);else{l=Y(l);for(var S=0,C=l.length;S<C;S++)Sn(s,l[S],h,m)}return this}var En="_leaflet_events";function jt(s,l,h,m){if(arguments.length===1)Yo(s),delete s[En];else if(l&&typeof l=="object")for(var g in l)Cr(s,g,l[g],h);else if(l=Y(l),arguments.length===2)Yo(s,function(D){return ve(l,D)!==-1});else for(var S=0,C=l.length;S<C;S++)Cr(s,l[S],h,m);return this}function Yo(s,l){for(var h in s[En]){var m=h.split(/\d/)[0];(!l||l(m))&&Cr(s,m,null,null,h)}}var Pi={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Sn(s,l,h,m){var g=l+b(h)+(m?"_"+b(m):"");if(s[En]&&s[En][g])return this;var S=function(D){return h.call(m||s,D||window.event)},C=S;!at.touchNative&&at.pointer&&l.indexOf("touch")===0?S=ef(s,l,S):at.touch&&l==="dblclick"?S=Pu(s,S):"addEventListener"in s?l==="touchstart"||l==="touchmove"||l==="wheel"||l==="mousewheel"?s.addEventListener(Pi[l]||l,S,at.passiveEvents?{passive:!1}:!1):l==="mouseenter"||l==="mouseleave"?(S=function(D){D=D||window.event,Fn(s,D)&&C(D)},s.addEventListener(Pi[l],S,!1)):s.addEventListener(l,C,!1):s.attachEvent("on"+l,S),s[En]=s[En]||{},s[En][g]=S}function Cr(s,l,h,m,g){g=g||l+b(h)+(m?"_"+b(m):"");var S=s[En]&&s[En][g];if(!S)return this;!at.touchNative&&at.pointer&&l.indexOf("touch")===0?Du(s,l,S):at.touch&&l==="dblclick"?Di(s,S):"removeEventListener"in s?s.removeEventListener(Pi[l]||l,S,!1):s.detachEvent("on"+l,S),s[En][g]=null}function Tn(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function Ln(s){return Sn(s,"wheel",Tn),this}function zi(s){return ct(s,"mousedown touchstart dblclick contextmenu",Tn),s._leaflet_disable_click=!0,this}function he(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function ci(s){return he(s),Tn(s),this}function xr(s){if(s.composedPath)return s.composedPath();for(var l=[],h=s.target;h;)l.push(h),h=h.parentNode;return l}function Ar(s,l){if(!l)return new W(s.clientX,s.clientY);var h=wr(l),m=h.boundingClientRect;return new W((s.clientX-m.left)/h.x-l.clientLeft,(s.clientY-m.top)/h.y-l.clientTop)}var zu=at.linux&&at.chrome?window.devicePixelRatio:at.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function He(s){return at.edge?s.wheelDeltaY/2:s.deltaY&&s.deltaMode===0?-s.deltaY/zu:s.deltaY&&s.deltaMode===1?-s.deltaY*20:s.deltaY&&s.deltaMode===2?-s.deltaY*60:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?-s.detail*20:s.detail?s.detail/-32765*60:0}function Fn(s,l){var h=l.relatedTarget;if(!h)return!0;try{for(;h&&h!==s;)h=h.parentNode}catch{return!1}return h!==s}var xa={__proto__:null,on:ct,off:jt,stopPropagation:Tn,disableScrollPropagation:Ln,disableClickPropagation:zi,preventDefault:he,stop:ci,getPropagationPath:xr,getMousePosition:Ar,getWheelDelta:He,isExternalTarget:Fn,addListener:ct,removeListener:jt},ys=$.extend({run:function(s,l,h,m){this.stop(),this._el=s,this._inProgress=!0,this._duration=h||.25,this._easeOutPower=1/Math.max(m||.5,.2),this._startPos=ui(s),this._offset=l.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=ee(this._animate,this),this._step()},_step:function(s){var l=+new Date-this._startTime,h=this._duration*1e3;l<h?this._runFrame(this._easeOut(l/h),s):(this._runFrame(1),this._complete())},_runFrame:function(s,l){var h=this._startPos.add(this._offset.multiplyBy(s));l&&h._round(),Xt(this._el,h),this.fire("step")},_complete:function(){Qt(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),Rt=$.extend({options:{crs:pa,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,l){l=tt(this,l),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=p(this._onResize,this),this._initEvents(),l.maxBounds&&this.setMaxBounds(l.maxBounds),l.zoom!==void 0&&(this._zoom=this._limitZoom(l.zoom)),l.center&&l.zoom!==void 0&&this.setView(nt(l.center),l.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=br&&at.any3d&&!at.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ct(this._proxy,jo,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,l,h){if(l=l===void 0?this._zoom:this._limitZoom(l),s=this._limitCenter(nt(s),l,this.options.maxBounds),h=h||{},this._stop(),this._loaded&&!h.reset&&h!==!0){h.animate!==void 0&&(h.zoom=c({animate:h.animate},h.zoom),h.pan=c({animate:h.animate,duration:h.duration},h.pan));var m=this._zoom!==l?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,l,h.zoom):this._tryAnimatedPan(s,h.pan);if(m)return clearTimeout(this._sizeTimer),this}return this._resetView(s,l,h.pan&&h.pan.noMoveStart),this},setZoom:function(s,l){return this._loaded?this.setView(this.getCenter(),s,{zoom:l}):(this._zoom=s,this)},zoomIn:function(s,l){return s=s||(at.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+s,l)},zoomOut:function(s,l){return s=s||(at.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-s,l)},setZoomAround:function(s,l,h){var m=this.getZoomScale(l),g=this.getSize().divideBy(2),S=s instanceof W?s:this.latLngToContainerPoint(s),C=S.subtract(g).multiplyBy(1-1/m),D=this.containerPointToLatLng(g.add(C));return this.setView(D,l,{zoom:h})},_getBoundsCenterZoom:function(s,l){l=l||{},s=s.getBounds?s.getBounds():X(s);var h=et(l.paddingTopLeft||l.padding||[0,0]),m=et(l.paddingBottomRight||l.padding||[0,0]),g=this.getBoundsZoom(s,!1,h.add(m));if(g=typeof l.maxZoom=="number"?Math.min(l.maxZoom,g):g,g===1/0)return{center:s.getCenter(),zoom:g};var S=m.subtract(h).divideBy(2),C=this.project(s.getSouthWest(),g),D=this.project(s.getNorthEast(),g),z=this.unproject(C.add(D).divideBy(2).add(S),g);return{center:z,zoom:g}},fitBounds:function(s,l){if(s=X(s),!s.isValid())throw new Error("Bounds are not valid.");var h=this._getBoundsCenterZoom(s,l);return this.setView(h.center,h.zoom,l)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,l){return this.setView(s,this._zoom,{pan:l})},panBy:function(s,l){if(s=et(s).round(),l=l||{},!s.x&&!s.y)return this.fire("moveend");if(l.animate!==!0&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new ys,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),l.noMoveStart||this.fire("movestart"),l.animate!==!1){_t(this._mapPane,"leaflet-pan-anim");var h=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,h,l.duration||.25,l.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,l,h){if(h=h||{},h.animate===!1||!at.any3d)return this.setView(s,l,h);this._stop();var m=this.project(this.getCenter()),g=this.project(s),S=this.getSize(),C=this._zoom;s=nt(s),l=l===void 0?C:l;var D=Math.max(S.x,S.y),z=D*this.getZoomScale(C,l),V=g.distanceTo(m)||1,J=1.42,ot=J*J;function yt(ce){var Qn=ce?-1:1,ji=ce?z:D,ll=z*z-D*D+Qn*ot*ot*V*V,qr=2*ji*ot*V,Vr=ll/qr,yi=Math.sqrt(Vr*Vr+1)-Vr,Xn=yi<1e-9?-18:Math.log(yi);return Xn}function Ne(ce){return(Math.exp(ce)-Math.exp(-ce))/2}function fe(ce){return(Math.exp(ce)+Math.exp(-ce))/2}function tn(ce){return Ne(ce)/fe(ce)}var It=yt(0);function Dt(ce){return D*(fe(It)/fe(It+J*ce))}function At(ce){return D*(fe(It)*tn(It+J*ce)-Ne(It))/ot}function gi(ce){return 1-Math.pow(1-ce,1.5)}var hn=Date.now(),Ha=(yt(1)-It)/J,vi=h.duration?1e3*h.duration:1e3*Ha*.8;function ol(){var ce=(Date.now()-hn)/vi,Qn=gi(ce)*Ha;ce<=1?(this._flyToFrame=ee(ol,this),this._move(this.unproject(m.add(g.subtract(m).multiplyBy(At(Qn)/V)),C),this.getScaleZoom(D/Dt(Qn),C),{flyTo:!0})):this._move(s,l)._moveEnd(!0)}return this._moveStart(!0,h.noMoveStart),ol.call(this),this},flyToBounds:function(s,l){var h=this._getBoundsCenterZoom(s,l);return this.flyTo(h.center,h.zoom,l)},setMaxBounds:function(s){return s=X(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var l=this.options.minZoom;return this.options.minZoom=s,this._loaded&&l!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var l=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&l!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,l){this._enforcingBounds=!0;var h=this.getCenter(),m=this._limitCenter(h,this._zoom,X(s));return h.equals(m)||this.panTo(m,l),this._enforcingBounds=!1,this},panInside:function(s,l){l=l||{};var h=et(l.paddingTopLeft||l.padding||[0,0]),m=et(l.paddingBottomRight||l.padding||[0,0]),g=this.project(this.getCenter()),S=this.project(s),C=this.getPixelBounds(),D=j([C.min.add(h),C.max.subtract(m)]),z=D.getSize();if(!D.contains(S)){this._enforcingBounds=!0;var V=S.subtract(D.getCenter()),J=D.extend(S).getSize().subtract(z);g.x+=V.x<0?-J.x:J.x,g.y+=V.y<0?-J.y:J.y,this.panTo(this.unproject(g),l),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=c({animate:!1,pan:!0},s===!0?{animate:!0}:s);var l=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var h=this.getSize(),m=l.divideBy(2).round(),g=h.divideBy(2).round(),S=m.subtract(g);return!S.x&&!S.y?this:(s.animate&&s.pan?this.panBy(S):(s.pan&&this._rawPanBy(S),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(p(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:l,newSize:h}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=c({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var l=p(this._handleGeolocationResponse,this),h=p(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(l,h,s):navigator.geolocation.getCurrentPosition(l,h,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var l=s.code,h=s.message||(l===1?"permission denied":l===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:l,message:"Geolocation error: "+h+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var l=s.coords.latitude,h=s.coords.longitude,m=new it(l,h),g=m.toBounds(s.coords.accuracy*2),S=this._locateOptions;if(S.setView){var C=this.getBoundsZoom(g);this.setView(m,S.maxZoom?Math.min(C,S.maxZoom):C)}var D={latlng:m,bounds:g,timestamp:s.timestamp};for(var z in s.coords)typeof s.coords[z]=="number"&&(D[z]=s.coords[z]);this.fire("locationfound",D)}},addHandler:function(s,l){if(!l)return this;var h=this[s]=new l(this);return this._handlers.push(h),this.options[s]&&h.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Gt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Qt(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var s;for(s in this._layers)this._layers[s].remove();for(s in this._panes)Gt(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,l){var h="leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),m=xt("div",h,l||this._mapPane);return s&&(this._panes[s]=m),m},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds(),l=this.unproject(s.getBottomLeft()),h=this.unproject(s.getTopRight());return new K(l,h)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,l,h){s=X(s),h=et(h||[0,0]);var m=this.getZoom()||0,g=this.getMinZoom(),S=this.getMaxZoom(),C=s.getNorthWest(),D=s.getSouthEast(),z=this.getSize().subtract(h),V=j(this.project(D,m),this.project(C,m)).getSize(),J=at.any3d?this.options.zoomSnap:1,ot=z.x/V.x,yt=z.y/V.y,Ne=l?Math.max(ot,yt):Math.min(ot,yt);return m=this.getScaleZoom(Ne,m),J&&(m=Math.round(m/(J/100))*(J/100),m=l?Math.ceil(m/J)*J:Math.floor(m/J)*J),Math.max(g,Math.min(S,m))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new W(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,l){var h=this._getTopLeftPoint(s,l);return new O(h,h.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(s===void 0?this.getZoom():s)},getPane:function(s){return typeof s=="string"?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,l){var h=this.options.crs;return l=l===void 0?this._zoom:l,h.scale(s)/h.scale(l)},getScaleZoom:function(s,l){var h=this.options.crs;l=l===void 0?this._zoom:l;var m=h.zoom(s*h.scale(l));return isNaN(m)?1/0:m},project:function(s,l){return l=l===void 0?this._zoom:l,this.options.crs.latLngToPoint(nt(s),l)},unproject:function(s,l){return l=l===void 0?this._zoom:l,this.options.crs.pointToLatLng(et(s),l)},layerPointToLatLng:function(s){var l=et(s).add(this.getPixelOrigin());return this.unproject(l)},latLngToLayerPoint:function(s){var l=this.project(nt(s))._round();return l._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(nt(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(X(s))},distance:function(s,l){return this.options.crs.distance(nt(s),nt(l))},containerPointToLayerPoint:function(s){return et(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return et(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var l=this.containerPointToLayerPoint(et(s));return this.layerPointToLatLng(l)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(nt(s)))},mouseEventToContainerPoint:function(s){return Ar(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var l=this._container=Zo(s);if(l){if(l._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ct(l,"scroll",this._onScroll,this),this._containerId=b(l)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&at.any3d,_t(s,"leaflet-container"+(at.touch?" leaflet-touch":"")+(at.retina?" leaflet-retina":"")+(at.ielt9?" leaflet-oldie":"")+(at.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var l=Er(s,"position");l!=="absolute"&&l!=="relative"&&l!=="fixed"&&l!=="sticky"&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Xt(this._mapPane,new W(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(_t(s.markerPane,"leaflet-zoom-hide"),_t(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,l,h){Xt(this._mapPane,new W(0,0));var m=!this._loaded;this._loaded=!0,l=this._limitZoom(l),this.fire("viewprereset");var g=this._zoom!==l;this._moveStart(g,h)._move(s,l)._moveEnd(g),this.fire("viewreset"),m&&this.fire("load")},_moveStart:function(s,l){return s&&this.fire("zoomstart"),l||this.fire("movestart"),this},_move:function(s,l,h,m){l===void 0&&(l=this._zoom);var g=this._zoom!==l;return this._zoom=l,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),m?h&&h.pinch&&this.fire("zoom",h):((g||h&&h.pinch)&&this.fire("zoom",h),this.fire("move",h)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Qt(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){Xt(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[b(this._container)]=this;var l=s?jt:ct;l(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&l(window,"resize",this._onResize,this),at.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Qt(this._resizeRequest),this._resizeRequest=ee(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,l){for(var h=[],m,g=l==="mouseout"||l==="mouseover",S=s.target||s.srcElement,C=!1;S;){if(m=this._targets[b(S)],m&&(l==="click"||l==="preclick")&&this._draggableMoved(m)){C=!0;break}if(m&&m.listens(l,!0)&&(g&&!Fn(S,s)||(h.push(m),g))||S===this._container)break;S=S.parentNode}return!h.length&&!C&&!g&&this.listens(l,!0)&&(h=[this]),h},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var l=s.target||s.srcElement;if(!(!this._loaded||l._leaflet_disable_events||s.type==="click"&&this._isClickDisabled(l))){var h=s.type;h==="mousedown"&&gs(l),this._fireDOMEvent(s,h)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,l,h){if(s.type==="click"){var m=c({},s);m.type="preclick",this._fireDOMEvent(m,m.type,h)}var g=this._findEventTargets(s,l);if(h){for(var S=[],C=0;C<h.length;C++)h[C].listens(l,!0)&&S.push(h[C]);g=S.concat(g)}if(g.length){l==="contextmenu"&&he(s);var D=g[0],z={originalEvent:s};if(s.type!=="keypress"&&s.type!=="keydown"&&s.type!=="keyup"){var V=D.getLatLng&&(!D._radius||D._radius<=10);z.containerPoint=V?this.latLngToContainerPoint(D.getLatLng()):this.mouseEventToContainerPoint(s),z.layerPoint=this.containerPointToLayerPoint(z.containerPoint),z.latlng=V?D.getLatLng():this.layerPointToLatLng(z.layerPoint)}for(C=0;C<g.length;C++)if(g[C].fire(l,z,!0),z.originalEvent._stopped||g[C].options.bubblingMouseEvents===!1&&ve(this._mouseEvents,l)!==-1)return}},_draggableMoved:function(s){return s=s.dragging&&s.dragging.enabled()?s:this,s.dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,l=this._handlers.length;s<l;s++)this._handlers[s].disable()},whenReady:function(s,l){return this._loaded?s.call(l||this,{target:this}):this.on("load",s,l),this},_getMapPanePos:function(){return ui(this._mapPane)||new W(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,l){var h=s&&l!==void 0?this._getNewPixelOrigin(s,l):this.getPixelOrigin();return h.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,l){var h=this.getSize()._divideBy(2);return this.project(s,l)._subtract(h)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,l,h){var m=this._getNewPixelOrigin(h,l);return this.project(s,l)._subtract(m)},_latLngBoundsToNewLayerBounds:function(s,l,h){var m=this._getNewPixelOrigin(h,l);return j([this.project(s.getSouthWest(),l)._subtract(m),this.project(s.getNorthWest(),l)._subtract(m),this.project(s.getSouthEast(),l)._subtract(m),this.project(s.getNorthEast(),l)._subtract(m)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,l,h){if(!h)return s;var m=this.project(s,l),g=this.getSize().divideBy(2),S=new O(m.subtract(g),m.add(g)),C=this._getBoundsOffset(S,h,l);return Math.abs(C.x)<=1&&Math.abs(C.y)<=1?s:this.unproject(m.add(C),l)},_limitOffset:function(s,l){if(!l)return s;var h=this.getPixelBounds(),m=new O(h.min.add(s),h.max.add(s));return s.add(this._getBoundsOffset(m,l))},_getBoundsOffset:function(s,l,h){var m=j(this.project(l.getNorthEast(),h),this.project(l.getSouthWest(),h)),g=m.min.subtract(s.min),S=m.max.subtract(s.max),C=this._rebound(g.x,-S.x),D=this._rebound(g.y,-S.y);return new W(C,D)},_rebound:function(s,l){return s+l>0?Math.round(s-l)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(l))},_limitZoom:function(s){var l=this.getMinZoom(),h=this.getMaxZoom(),m=at.any3d?this.options.zoomSnap:1;return m&&(s=Math.round(s/m)*m),Math.max(l,Math.min(h,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){oe(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,l){var h=this._getCenterOffset(s)._trunc();return(l&&l.animate)!==!0&&!this.getSize().contains(h)?!1:(this.panBy(h,l),!0)},_createAnimProxy:function(){var s=this._proxy=xt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(l){var h=li,m=this._proxy.style[h];Gn(this._proxy,this.project(l.center,l.zoom),this.getZoomScale(l.zoom,1)),m===this._proxy.style[h]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Gt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),l=this.getZoom();Gn(this._proxy,this.project(s,l),this.getZoomScale(l,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,l,h){if(this._animatingZoom)return!0;if(h=h||{},!this._zoomAnimated||h.animate===!1||this._nothingToAnimate()||Math.abs(l-this._zoom)>this.options.zoomAnimationThreshold)return!1;var m=this.getZoomScale(l),g=this._getCenterOffset(s)._divideBy(1-1/m);return h.animate!==!0&&!this.getSize().contains(g)?!1:(ee(function(){this._moveStart(!0,h.noMoveStart||!1)._animateZoom(s,l,!0)},this),!0)},_animateZoom:function(s,l,h,m){this._mapPane&&(h&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=l,_t(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:l,noUpdate:m}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(p(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&oe(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Wo(s,l){return new Rt(s,l)}var $e=xe.extend({options:{position:"topright"},initialize:function(s){tt(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var l=this._map;return l&&l.removeControl(this),this.options.position=s,l&&l.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var l=this._container=this.onAdd(s),h=this.getPosition(),m=s._controlCorners[h];return _t(l,"leaflet-control"),h.indexOf("bottom")!==-1?m.insertBefore(l,m.firstChild):m.appendChild(l),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Gt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),Yn=function(s){return new $e(s)};Rt.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},l="leaflet-",h=this._controlContainer=xt("div",l+"control-container",this._container);function m(g,S){var C=l+g+" "+l+S;s[g+S]=xt("div",C,h)}m("top","left"),m("top","right"),m("bottom","left"),m("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)Gt(this._controlCorners[s]);Gt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Nr=$e.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,l,h,m){return h<m?-1:m<h?1:0}},initialize:function(s,l,h){tt(this,h),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var m in s)this._addLayer(s[m],m);for(m in l)this._addLayer(l[m],m,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return $e.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,l){return this._addLayer(s,l),this._map?this._update():this},addOverlay:function(s,l){return this._addLayer(s,l,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var l=this._getLayer(b(s));return l&&this._layers.splice(this._layers.indexOf(l),1),this._map?this._update():this},expand:function(){_t(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(_t(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):oe(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return oe(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",l=this._container=xt("div",s),h=this.options.collapsed;l.setAttribute("aria-haspopup",!0),zi(l),Ln(l);var m=this._section=xt("section",s+"-list");h&&(this._map.on("click",this.collapse,this),ct(l,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var g=this._layersLink=xt("a",s+"-toggle",l);g.href="#",g.title="Layers",g.setAttribute("role","button"),ct(g,{keydown:function(S){S.keyCode===13&&this._expandSafely()},click:function(S){he(S),this._expandSafely()}},this),h||this.expand(),this._baseLayersList=xt("div",s+"-base",m),this._separator=xt("div",s+"-separator",m),this._overlaysList=xt("div",s+"-overlays",m),l.appendChild(m)},_getLayer:function(s){for(var l=0;l<this._layers.length;l++)if(this._layers[l]&&b(this._layers[l].layer)===s)return this._layers[l]},_addLayer:function(s,l,h){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:l,overlay:h}),this.options.sortLayers&&this._layers.sort(p(function(m,g){return this.options.sortFunction(m.layer,g.layer,m.name,g.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;an(this._baseLayersList),an(this._overlaysList),this._layerControlInputs=[];var s,l,h,m,g=0;for(h=0;h<this._layers.length;h++)m=this._layers[h],this._addItem(m),l=l||m.overlay,s=s||!m.overlay,g+=m.overlay?0:1;return this.options.hideSingleBase&&(s=s&&g>1,this._baseLayersList.style.display=s?"":"none"),this._separator.style.display=l&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var l=this._getLayer(b(s.target)),h=l.overlay?s.type==="add"?"overlayadd":"overlayremove":s.type==="add"?"baselayerchange":null;h&&this._map.fire(h,l)},_createRadioElement:function(s,l){var h='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(l?' checked="checked"':"")+"/>",m=document.createElement("div");return m.innerHTML=h,m.firstChild},_addItem:function(s){var l=document.createElement("label"),h=this._map.hasLayer(s.layer),m;s.overlay?(m=document.createElement("input"),m.type="checkbox",m.className="leaflet-control-layers-selector",m.defaultChecked=h):m=this._createRadioElement("leaflet-base-layers_"+b(this),h),this._layerControlInputs.push(m),m.layerId=b(s.layer),ct(m,"click",this._onInputClick,this);var g=document.createElement("span");g.innerHTML=" "+s.name;var S=document.createElement("span");l.appendChild(S),S.appendChild(m),S.appendChild(g);var C=s.overlay?this._overlaysList:this._baseLayersList;return C.appendChild(l),this._checkDisabledLayers(),l},_onInputClick:function(){if(!this._preventClick){var s=this._layerControlInputs,l,h,m=[],g=[];this._handlingClick=!0;for(var S=s.length-1;S>=0;S--)l=s[S],h=this._getLayer(l.layerId).layer,l.checked?m.push(h):l.checked||g.push(h);for(S=0;S<g.length;S++)this._map.hasLayer(g[S])&&this._map.removeLayer(g[S]);for(S=0;S<m.length;S++)this._map.hasLayer(m[S])||this._map.addLayer(m[S]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var s=this._layerControlInputs,l,h,m=this._map.getZoom(),g=s.length-1;g>=0;g--)l=s[g],h=this._getLayer(l.layerId).layer,l.disabled=h.options.minZoom!==void 0&&m<h.options.minZoom||h.options.maxZoom!==void 0&&m>h.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,ct(s,"click",he),this.expand();var l=this;setTimeout(function(){jt(s,"click",he),l._preventClick=!1})}}),Uu=function(s,l,h){return new Nr(s,l,h)},Ko=$e.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var l="leaflet-control-zoom",h=xt("div",l+" leaflet-bar"),m=this.options;return this._zoomInButton=this._createButton(m.zoomInText,m.zoomInTitle,l+"-in",h,this._zoomIn),this._zoomOutButton=this._createButton(m.zoomOutText,m.zoomOutTitle,l+"-out",h,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),h},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,l,h,m,g){var S=xt("a",h,m);return S.innerHTML=s,S.href="#",S.title=l,S.setAttribute("role","button"),S.setAttribute("aria-label",l),zi(S),ct(S,"click",ci),ct(S,"click",g,this),ct(S,"click",this._refocusOnMap,this),S},_updateDisabled:function(){var s=this._map,l="leaflet-disabled";oe(this._zoomInButton,l),oe(this._zoomOutButton,l),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(_t(this._zoomOutButton,l),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(_t(this._zoomInButton,l),this._zoomInButton.setAttribute("aria-disabled","true"))}});Rt.mergeOptions({zoomControl:!0}),Rt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ko,this.addControl(this.zoomControl))});var nf=function(s){return new Ko(s)},Bu=$e.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var l="leaflet-control-scale",h=xt("div",l),m=this.options;return this._addScales(m,l+"-line",h),s.on(m.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),h},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,l,h){s.metric&&(this._mScale=xt("div",l,h)),s.imperial&&(this._iScale=xt("div",l,h))},_update:function(){var s=this._map,l=s.getSize().y/2,h=s.distance(s.containerPointToLatLng([0,l]),s.containerPointToLatLng([this.options.maxWidth,l]));this._updateScales(h)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var l=this._getRoundNum(s),h=l<1e3?l+" m":l/1e3+" km";this._updateScale(this._mScale,h,l/s)},_updateImperial:function(s){var l=s*3.2808399,h,m,g;l>5280?(h=l/5280,m=this._getRoundNum(h),this._updateScale(this._iScale,m+" mi",m/h)):(g=this._getRoundNum(l),this._updateScale(this._iScale,g+" ft",g/l))},_updateScale:function(s,l,h){s.style.width=Math.round(this.options.maxWidth*h)+"px",s.innerHTML=l},_getRoundNum:function(s){var l=Math.pow(10,(Math.floor(s)+"").length-1),h=s/l;return h=h>=10?10:h>=5?5:h>=3?3:h>=2?2:1,l*h}}),Qo=function(s){return new Bu(s)},sf='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Xo=$e.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(at.inlineSvg?sf+" ":"")+"Leaflet</a>"},initialize:function(s){tt(this,s),this._attributions={}},onAdd:function(s){s.attributionControl=this,this._container=xt("div","leaflet-control-attribution"),zi(this._container);for(var l in s._layers)s._layers[l].getAttribution&&this.addAttribution(s._layers[l].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var l in this._attributions)this._attributions[l]&&s.push(l);var h=[];this.options.prefix&&h.push(this.options.prefix),s.length&&h.push(s.join(", ")),this._container.innerHTML=h.join(' <span aria-hidden="true">|</span> ')}}});Rt.mergeOptions({attributionControl:!0}),Rt.addInitHook(function(){this.options.attributionControl&&new Xo().addTo(this)});var rf=function(s){return new Xo(s)};$e.Layers=Nr,$e.Zoom=Ko,$e.Scale=Bu,$e.Attribution=Xo,Yn.layers=Uu,Yn.zoom=nf,Yn.scale=Qo,Yn.attribution=rf;var Mn=xe.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Mn.addTo=function(s,l){return s.addHandler(l,this),this};var af={Events:H},Jo=at.touch?"touchstart mousedown":"mousedown",hi=$.extend({options:{clickTolerance:3},initialize:function(s,l,h,m){tt(this,m),this._element=s,this._dragStartTarget=l||s,this._preventOutline=h},enable:function(){this._enabled||(ct(this._dragStartTarget,Jo,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(hi._dragging===this&&this.finishDrag(!0),jt(this._dragStartTarget,Jo,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!qo(this._element,"leaflet-zoom-anim"))){if(s.touches&&s.touches.length!==1){hi._dragging===this&&this.finishDrag();return}if(!(hi._dragging||s.shiftKey||s.which!==1&&s.button!==1&&!s.touches)&&(hi._dragging=this,this._preventOutline&&gs(this._element),Ta(),ms(),!this._moving)){this.fire("down");var l=s.touches?s.touches[0]:s,h=Ca(this._element);this._startPoint=new W(l.clientX,l.clientY),this._startPos=ui(this._element),this._parentScale=wr(h);var m=s.type==="mousedown";ct(document,m?"mousemove":"touchmove",this._onMove,this),ct(document,m?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1){this._moved=!0;return}var l=s.touches&&s.touches.length===1?s.touches[0]:s,h=new W(l.clientX,l.clientY)._subtract(this._startPoint);!h.x&&!h.y||Math.abs(h.x)+Math.abs(h.y)<this.options.clickTolerance||(h.x/=this._parentScale.x,h.y/=this._parentScale.y,he(s),this._moved||(this.fire("dragstart"),this._moved=!0,_t(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),_t(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(h),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),Xt(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){oe(document.body,"leaflet-dragging"),this._lastTarget&&(oe(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),jt(document,"mousemove touchmove",this._onMove,this),jt(document,"mouseup touchend touchcancel",this._onUp,this),Tr(),Rn();var l=this._moved&&this._moving;this._moving=!1,hi._dragging=!1,l&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function Hu(s,l,h){var m,g=[1,4,2,8],S,C,D,z,V,J,ot,yt;for(S=0,J=s.length;S<J;S++)s[S]._code=Ui(s[S],l);for(D=0;D<4;D++){for(ot=g[D],m=[],S=0,J=s.length,C=J-1;S<J;C=S++)z=s[S],V=s[C],z._code&ot?V._code&ot||(yt=Aa(V,z,ot,l,h),yt._code=Ui(yt,l),m.push(yt)):(V._code&ot&&(yt=Aa(V,z,ot,l,h),yt._code=Ui(yt,l),m.push(yt)),m.push(z));s=m}return s}function ju(s,l){var h,m,g,S,C,D,z,V,J;if(!s||s.length===0)throw new Error("latlngs not passed");ln(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var ot=nt([0,0]),yt=X(s),Ne=yt.getNorthWest().distanceTo(yt.getSouthWest())*yt.getNorthEast().distanceTo(yt.getNorthWest());Ne<1700&&(ot=$o(s));var fe=s.length,tn=[];for(h=0;h<fe;h++){var It=nt(s[h]);tn.push(l.project(nt([It.lat-ot.lat,It.lng-ot.lng])))}for(D=z=V=0,h=0,m=fe-1;h<fe;m=h++)g=tn[h],S=tn[m],C=g.y*S.x-S.y*g.x,z+=(g.x+S.x)*C,V+=(g.y+S.y)*C,D+=C*3;D===0?J=tn[0]:J=[z/D,V/D];var Dt=l.unproject(et(J));return nt([Dt.lat+ot.lat,Dt.lng+ot.lng])}function $o(s){for(var l=0,h=0,m=0,g=0;g<s.length;g++){var S=nt(s[g]);l+=S.lat,h+=S.lng,m++}return nt([l/m,h/m])}var tl={__proto__:null,clipPolygon:Hu,polygonCenter:ju,centroid:$o};function Zu(s,l){if(!l||!s.length)return s.slice();var h=l*l;return s=lf(s,h),s=Vu(s,h),s}function qu(s,l,h){return Math.sqrt(Or(s,l,h,!0))}function of(s,l,h){return Or(s,l,h)}function Vu(s,l){var h=s.length,m=typeof Uint8Array<"u"?Uint8Array:Array,g=new m(h);g[0]=g[h-1]=1,el(s,g,l,0,h-1);var S,C=[];for(S=0;S<h;S++)g[S]&&C.push(s[S]);return C}function el(s,l,h,m,g){var S=0,C,D,z;for(D=m+1;D<=g-1;D++)z=Or(s[D],s[m],s[g],!0),z>S&&(C=D,S=z);S>h&&(l[C]=1,el(s,l,h,m,C),el(s,l,h,C,g))}function lf(s,l){for(var h=[s[0]],m=1,g=0,S=s.length;m<S;m++)uf(s[m],s[g])>l&&(h.push(s[m]),g=m);return g<S-1&&h.push(s[S-1]),h}var Gu;function Fu(s,l,h,m,g){var S=m?Gu:Ui(s,h),C=Ui(l,h),D,z,V;for(Gu=C;;){if(!(S|C))return[s,l];if(S&C)return!1;D=S||C,z=Aa(s,l,D,h,g),V=Ui(z,h),D===S?(s=z,S=V):(l=z,C=V)}}function Aa(s,l,h,m,g){var S=l.x-s.x,C=l.y-s.y,D=m.min,z=m.max,V,J;return h&8?(V=s.x+S*(z.y-s.y)/C,J=z.y):h&4?(V=s.x+S*(D.y-s.y)/C,J=D.y):h&2?(V=z.x,J=s.y+C*(z.x-s.x)/S):h&1&&(V=D.x,J=s.y+C*(D.x-s.x)/S),new W(V,J,g)}function Ui(s,l){var h=0;return s.x<l.min.x?h|=1:s.x>l.max.x&&(h|=2),s.y<l.min.y?h|=4:s.y>l.max.y&&(h|=8),h}function uf(s,l){var h=l.x-s.x,m=l.y-s.y;return h*h+m*m}function Or(s,l,h,m){var g=l.x,S=l.y,C=h.x-g,D=h.y-S,z=C*C+D*D,V;return z>0&&(V=((s.x-g)*C+(s.y-S)*D)/z,V>1?(g=h.x,S=h.y):V>0&&(g+=C*V,S+=D*V)),C=s.x-g,D=s.y-S,m?C*C+D*D:new W(g,S)}function ln(s){return!gt(s[0])||typeof s[0][0]!="object"&&typeof s[0][0]<"u"}function Na(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),ln(s)}function bs(s,l){var h,m,g,S,C,D,z,V;if(!s||s.length===0)throw new Error("latlngs not passed");ln(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var J=nt([0,0]),ot=X(s),yt=ot.getNorthWest().distanceTo(ot.getSouthWest())*ot.getNorthEast().distanceTo(ot.getNorthWest());yt<1700&&(J=$o(s));var Ne=s.length,fe=[];for(h=0;h<Ne;h++){var tn=nt(s[h]);fe.push(l.project(nt([tn.lat-J.lat,tn.lng-J.lng])))}for(h=0,m=0;h<Ne-1;h++)m+=fe[h].distanceTo(fe[h+1])/2;if(m===0)V=fe[0];else for(h=0,S=0;h<Ne-1;h++)if(C=fe[h],D=fe[h+1],g=C.distanceTo(D),S+=g,S>m){z=(S-m)/g,V=[D.x-z*(D.x-C.x),D.y-z*(D.y-C.y)];break}var It=l.unproject(et(V));return nt([It.lat+J.lat,It.lng+J.lng])}var cf={__proto__:null,simplify:Zu,pointToSegmentDistance:qu,closestPointOnSegment:of,clipSegment:Fu,_getEdgeIntersection:Aa,_getBitCode:Ui,_sqClosestPointOnSegment:Or,isFlat:ln,_flat:Na,polylineCenter:bs},Oa={project:function(s){return new W(s.lng,s.lat)},unproject:function(s){return new it(s.y,s.x)},bounds:new O([-180,-90],[180,90])},Ra={R:6378137,R_MINOR:6356752314245179e-9,bounds:new O([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(s){var l=Math.PI/180,h=this.R,m=s.lat*l,g=this.R_MINOR/h,S=Math.sqrt(1-g*g),C=S*Math.sin(m),D=Math.tan(Math.PI/4-m/2)/Math.pow((1-C)/(1+C),S/2);return m=-h*Math.log(Math.max(D,1e-10)),new W(s.lng*l*h,m)},unproject:function(s){for(var l=180/Math.PI,h=this.R,m=this.R_MINOR/h,g=Math.sqrt(1-m*m),S=Math.exp(-s.y/h),C=Math.PI/2-2*Math.atan(S),D=0,z=.1,V;D<15&&Math.abs(z)>1e-7;D++)V=g*Math.sin(C),V=Math.pow((1-V)/(1+V),g/2),z=Math.PI/2-2*Math.atan(S*V)-C,C+=z;return new it(C*l,s.x*l/h)}},Yu={__proto__:null,LonLat:Oa,Mercator:Ra,SphericalMercator:Ai},Wu=c({},re,{code:"EPSG:3395",projection:Ra,transformation:(function(){var s=.5/(Math.PI*Ra.R);return Ni(s,.5,-s,.5)})()}),nl=c({},re,{code:"EPSG:4326",projection:Oa,transformation:Ni(1/180,1,-1/180,.5)}),Es=c({},Et,{projection:Oa,transformation:Ni(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,l){var h=l.lng-s.lng,m=l.lat-s.lat;return Math.sqrt(h*h+m*m)},infinite:!0});Et.Earth=re,Et.EPSG3395=Wu,Et.EPSG3857=pa,Et.EPSG900913=Oi,Et.EPSG4326=nl,Et.Simple=Es;var wn=$.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[b(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[b(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var l=s.target;if(l.hasLayer(this)){if(this._map=l,this._zoomAnimated=l._zoomAnimated,this.getEvents){var h=this.getEvents();l.on(h,this),this.once("remove",function(){l.off(h,this)},this)}this.onAdd(l),this.fire("add"),l.fire("layeradd",{layer:this})}}});Rt.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var l=b(s);return this._layers[l]?this:(this._layers[l]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s),this)},removeLayer:function(s){var l=b(s);return this._layers[l]?(this._loaded&&s.onRemove(this),delete this._layers[l],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return b(s)in this._layers},eachLayer:function(s,l){for(var h in this._layers)s.call(l,this._layers[h]);return this},_addLayers:function(s){s=s?gt(s)?s:[s]:[];for(var l=0,h=s.length;l<h;l++)this.addLayer(s[l])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[b(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var l=b(s);this._zoomBoundLayers[l]&&(delete this._zoomBoundLayers[l],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,l=-1/0,h=this._getZoomSpan();for(var m in this._zoomBoundLayers){var g=this._zoomBoundLayers[m].options;s=g.minZoom===void 0?s:Math.min(s,g.minZoom),l=g.maxZoom===void 0?l:Math.max(l,g.maxZoom)}this._layersMaxZoom=l===-1/0?void 0:l,this._layersMinZoom=s===1/0?void 0:s,h!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ss=wn.extend({initialize:function(s,l){tt(this,l),this._layers={};var h,m;if(s)for(h=0,m=s.length;h<m;h++)this.addLayer(s[h])},addLayer:function(s){var l=this.getLayerId(s);return this._layers[l]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var l=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[l]&&this._map.removeLayer(this._layers[l]),delete this._layers[l],this},hasLayer:function(s){var l=typeof s=="number"?s:this.getLayerId(s);return l in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var l=Array.prototype.slice.call(arguments,1),h,m;for(h in this._layers)m=this._layers[h],m[s]&&m[s].apply(m,l);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,l){for(var h in this._layers)s.call(l,this._layers[h]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return b(s)}}),hf=function(s,l){return new Ss(s,l)},In=Ss.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),Ss.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),Ss.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new K;for(var l in this._layers){var h=this._layers[l];s.extend(h.getBounds?h.getBounds():h.getLatLng())}return s}}),Ku=function(s,l){return new In(s,l)},Dn=xe.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){tt(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,l){var h=this._getIconUrl(s);if(!h){if(s==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var m=this._createImg(h,l&&l.tagName==="IMG"?l:null);return this._setIconStyles(m,s),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),m},_setIconStyles:function(s,l){var h=this.options,m=h[l+"Size"];typeof m=="number"&&(m=[m,m]);var g=et(m),S=et(l==="shadow"&&h.shadowAnchor||h.iconAnchor||g&&g.divideBy(2,!0));s.className="leaflet-marker-"+l+" "+(h.className||""),S&&(s.style.marginLeft=-S.x+"px",s.style.marginTop=-S.y+"px"),g&&(s.style.width=g.x+"px",s.style.height=g.y+"px")},_createImg:function(s,l){return l=l||document.createElement("img"),l.src=s,l},_getIconUrl:function(s){return at.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});function Rr(s){return new Dn(s)}var Lr=Dn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return typeof Lr.imagePath!="string"&&(Lr.imagePath=this._detectIconPath()),(this.options.imagePath||Lr.imagePath)+Dn.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var l=function(h,m,g){var S=m.exec(h);return S&&S[g]};return s=l(s,/^url\((['"])?(.+)\1\)$/,2),s&&l(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=xt("div","leaflet-default-icon-path",document.body),l=Er(s,"background-image")||Er(s,"backgroundImage");if(document.body.removeChild(s),l=this._stripUrl(l),l)return l;var h=document.querySelector('link[href$="leaflet.css"]');return h?h.href.substring(0,h.href.length-11-1):""}}),Mr=Mn.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new hi(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),_t(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&oe(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var l=this._marker,h=l._map,m=this._marker.options.autoPanSpeed,g=this._marker.options.autoPanPadding,S=ui(l._icon),C=h.getPixelBounds(),D=h.getPixelOrigin(),z=j(C.min._subtract(D).add(g),C.max._subtract(D).subtract(g));if(!z.contains(S)){var V=et((Math.max(z.max.x,S.x)-z.max.x)/(C.max.x-z.max.x)-(Math.min(z.min.x,S.x)-z.min.x)/(C.min.x-z.min.x),(Math.max(z.max.y,S.y)-z.max.y)/(C.max.y-z.max.y)-(Math.min(z.min.y,S.y)-z.min.y)/(C.min.y-z.min.y)).multiplyBy(m);h.panBy(V,{animate:!1}),this._draggable._newPos._add(V),this._draggable._startPos._add(V),Xt(l._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=ee(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(Qt(this._panRequest),this._panRequest=ee(this._adjustPan.bind(this,s)))},_onDrag:function(s){var l=this._marker,h=l._shadow,m=ui(l._icon),g=l._map.layerPointToLatLng(m);h&&Xt(h,m),l._latlng=g,s.latlng=g,s.oldLatLng=this._oldLatLng,l.fire("move",s).fire("drag",s)},_onDragEnd:function(s){Qt(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),Ir=wn.extend({options:{icon:new Lr,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,l){tt(this,l),this._latlng=nt(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var l=this._latlng;return this._latlng=nt(s),this.update(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,l="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),h=s.icon.createIcon(this._icon),m=!1;h!==this._icon&&(this._icon&&this._removeIcon(),m=!0,s.title&&(h.title=s.title),h.tagName==="IMG"&&(h.alt=s.alt||"")),_t(h,l),s.keyboard&&(h.tabIndex="0",h.setAttribute("role","button")),this._icon=h,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ct(h,"focus",this._panOnFocus,this);var g=s.icon.createShadow(this._shadow),S=!1;g!==this._shadow&&(this._removeShadow(),S=!0),g&&(_t(g,l),g.alt=""),this._shadow=g,s.opacity<1&&this._updateOpacity(),m&&this.getPane().appendChild(this._icon),this._initInteraction(),g&&S&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&jt(this._icon,"focus",this._panOnFocus,this),Gt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Gt(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&Xt(this._icon,s),this._shadow&&Xt(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var l=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(l)},_initInteraction:function(){if(this.options.interactive&&(_t(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Mr)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Mr(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&ne(this._icon,s),this._shadow&&ne(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var l=this.options.icon.options,h=l.iconSize?et(l.iconSize):et(0,0),m=l.iconAnchor?et(l.iconAnchor):et(0,0);s.panInside(this._latlng,{paddingTopLeft:m,paddingBottomRight:h.subtract(m)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Qu(s,l){return new Ir(s,l)}var kn=wn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return tt(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ts=kn.extend({options:{fill:!0,radius:10},initialize:function(s,l){tt(this,l),this._latlng=nt(s),this._radius=this.options.radius},setLatLng:function(s){var l=this._latlng;return this._latlng=nt(s),this.redraw(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var l=s&&s.radius||this._radius;return kn.prototype.setStyle.call(this,s),this.setRadius(l),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,l=this._radiusY||s,h=this._clickTolerance(),m=[s+h,l+h];this._pxBounds=new O(this._point.subtract(m),this._point.add(m))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Xu(s,l){return new Ts(s,l)}var La=Ts.extend({initialize:function(s,l,h){if(typeof l=="number"&&(l=c({},h,{radius:l})),tt(this,l),this._latlng=nt(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new K(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:kn.prototype.setStyle,_project:function(){var s=this._latlng.lng,l=this._latlng.lat,h=this._map,m=h.options.crs;if(m.distance===re.distance){var g=Math.PI/180,S=this._mRadius/re.R/g,C=h.project([l+S,s]),D=h.project([l-S,s]),z=C.add(D).divideBy(2),V=h.unproject(z).lat,J=Math.acos((Math.cos(S*g)-Math.sin(l*g)*Math.sin(V*g))/(Math.cos(l*g)*Math.cos(V*g)))/g;(isNaN(J)||J===0)&&(J=S/Math.cos(Math.PI/180*l)),this._point=z.subtract(h.getPixelOrigin()),this._radius=isNaN(J)?0:z.x-h.project([V,s-J]).x,this._radiusY=z.y-C.y}else{var ot=m.unproject(m.project(this._latlng).subtract([this._mRadius,0]));this._point=h.latLngToLayerPoint(this._latlng),this._radius=this._point.x-h.latLngToLayerPoint(ot).x}this._updateBounds()}});function Ju(s,l,h){return new La(s,l,h)}var Wn=kn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,l){tt(this,l),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var l=1/0,h=null,m=Or,g,S,C=0,D=this._parts.length;C<D;C++)for(var z=this._parts[C],V=1,J=z.length;V<J;V++){g=z[V-1],S=z[V];var ot=m(s,g,S,!0);ot<l&&(l=ot,h=m(s,g,S))}return h&&(h.distance=Math.sqrt(l)),h},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return bs(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,l){return l=l||this._defaultShape(),s=nt(s),l.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new K,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return ln(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var l=[],h=ln(s),m=0,g=s.length;m<g;m++)h?(l[m]=nt(s[m]),this._bounds.extend(l[m])):l[m]=this._convertLatLngs(s[m]);return l},_project:function(){var s=new O;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),l=new W(s,s);this._rawPxBounds&&(this._pxBounds=new O([this._rawPxBounds.min.subtract(l),this._rawPxBounds.max.add(l)]))},_projectLatlngs:function(s,l,h){var m=s[0]instanceof it,g=s.length,S,C;if(m){for(C=[],S=0;S<g;S++)C[S]=this._map.latLngToLayerPoint(s[S]),h.extend(C[S]);l.push(C)}else for(S=0;S<g;S++)this._projectLatlngs(s[S],l,h)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}var l=this._parts,h,m,g,S,C,D,z;for(h=0,g=0,S=this._rings.length;h<S;h++)for(z=this._rings[h],m=0,C=z.length;m<C-1;m++)D=Fu(z[m],z[m+1],s,m,!0),D&&(l[g]=l[g]||[],l[g].push(D[0]),(D[1]!==z[m+1]||m===C-2)&&(l[g].push(D[1]),g++))}},_simplifyPoints:function(){for(var s=this._parts,l=this.options.smoothFactor,h=0,m=s.length;h<m;h++)s[h]=Zu(s[h],l)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,l){var h,m,g,S,C,D,z=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(h=0,S=this._parts.length;h<S;h++)for(D=this._parts[h],m=0,C=D.length,g=C-1;m<C;g=m++)if(!(!l&&m===0)&&qu(s,D[g],D[m])<=z)return!0;return!1}});function ff(s,l){return new Wn(s,l)}Wn._flat=Na;var ws=Wn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ju(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var l=Wn.prototype._convertLatLngs.call(this,s),h=l.length;return h>=2&&l[0]instanceof it&&l[0].equals(l[h-1])&&l.pop(),l},_setLatLngs:function(s){Wn.prototype._setLatLngs.call(this,s),ln(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return ln(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,l=this.options.weight,h=new W(l,l);if(s=new O(s.min.subtract(h),s.max.add(h)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}for(var m=0,g=this._rings.length,S;m<g;m++)S=Hu(this._rings[m],s,!0),S.length&&this._parts.push(S)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var l=!1,h,m,g,S,C,D,z,V;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(S=0,z=this._parts.length;S<z;S++)for(h=this._parts[S],C=0,V=h.length,D=V-1;C<V;D=C++)m=h[C],g=h[D],m.y>s.y!=g.y>s.y&&s.x<(g.x-m.x)*(s.y-m.y)/(g.y-m.y)+m.x&&(l=!l);return l||Wn.prototype._containsPoint.call(this,s,!0)}});function df(s,l){return new ws(s,l)}var Kn=In.extend({initialize:function(s,l){tt(this,l),this._layers={},s&&this.addData(s)},addData:function(s){var l=gt(s)?s:s.features,h,m,g;if(l){for(h=0,m=l.length;h<m;h++)g=l[h],(g.geometries||g.geometry||g.features||g.coordinates)&&this.addData(g);return this}var S=this.options;if(S.filter&&!S.filter(s))return this;var C=Me(s,S);return C?(C.feature=Da(s),C.defaultOptions=C.options,this.resetStyle(C),S.onEachFeature&&S.onEachFeature(s,C),this.addLayer(C)):this},resetStyle:function(s){return s===void 0?this.eachLayer(this.resetStyle,this):(s.options=c({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(l){this._setLayerStyle(l,s)},this)},_setLayerStyle:function(s,l){s.setStyle&&(typeof l=="function"&&(l=l(s.feature)),s.setStyle(l))}});function Me(s,l){var h=s.type==="Feature"?s.geometry:s,m=h?h.coordinates:null,g=[],S=l&&l.pointToLayer,C=l&&l.coordsToLatLng||Ma,D,z,V,J;if(!m&&!h)return null;switch(h.type){case"Point":return D=C(m),Cs(S,s,D,l);case"MultiPoint":for(V=0,J=m.length;V<J;V++)D=C(m[V]),g.push(Cs(S,s,D,l));return new In(g);case"LineString":case"MultiLineString":return z=Dr(m,h.type==="LineString"?0:1,C),new Wn(z,l);case"Polygon":case"MultiPolygon":return z=Dr(m,h.type==="Polygon"?1:2,C),new ws(z,l);case"GeometryCollection":for(V=0,J=h.geometries.length;V<J;V++){var ot=Me({geometry:h.geometries[V],type:"Feature",properties:s.properties},l);ot&&g.push(ot)}return new In(g);case"FeatureCollection":for(V=0,J=h.features.length;V<J;V++){var yt=Me(h.features[V],l);yt&&g.push(yt)}return new In(g);default:throw new Error("Invalid GeoJSON object.")}}function Cs(s,l,h,m){return s?s(l,h):new Ir(h,m&&m.markersInheritOptions&&m)}function Ma(s){return new it(s[1],s[0],s[2])}function Dr(s,l,h){for(var m=[],g=0,S=s.length,C;g<S;g++)C=l?Dr(s[g],l-1,h):(h||Ma)(s[g]),m.push(C);return m}function Ia(s,l){return s=nt(s),s.alt!==void 0?[x(s.lng,l),x(s.lat,l),x(s.alt,l)]:[x(s.lng,l),x(s.lat,l)]}function kr(s,l,h,m){for(var g=[],S=0,C=s.length;S<C;S++)g.push(l?kr(s[S],ln(s[S])?0:l-1,h,m):Ia(s[S],m));return!l&&h&&g.length>0&&g.push(g[0].slice()),g}function fi(s,l){return s.feature?c({},s.feature,{geometry:l}):Da(l)}function Da(s){return s.type==="Feature"||s.type==="FeatureCollection"?s:{type:"Feature",properties:{},geometry:s}}var di={toGeoJSON:function(s){return fi(this,{type:"Point",coordinates:Ia(this.getLatLng(),s)})}};Ir.include(di),La.include(di),Ts.include(di),Wn.include({toGeoJSON:function(s){var l=!ln(this._latlngs),h=kr(this._latlngs,l?1:0,!1,s);return fi(this,{type:(l?"Multi":"")+"LineString",coordinates:h})}}),ws.include({toGeoJSON:function(s){var l=!ln(this._latlngs),h=l&&!ln(this._latlngs[0]),m=kr(this._latlngs,h?2:l?1:0,!0,s);return l||(m=[m]),fi(this,{type:(h?"Multi":"")+"Polygon",coordinates:m})}}),Ss.include({toMultiPoint:function(s){var l=[];return this.eachLayer(function(h){l.push(h.toGeoJSON(s).geometry.coordinates)}),fi(this,{type:"MultiPoint",coordinates:l})},toGeoJSON:function(s){var l=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(l==="MultiPoint")return this.toMultiPoint(s);var h=l==="GeometryCollection",m=[];return this.eachLayer(function(g){if(g.toGeoJSON){var S=g.toGeoJSON(s);if(h)m.push(S.geometry);else{var C=Da(S);C.type==="FeatureCollection"?m.push.apply(m,C.features):m.push(C)}}}),h?fi(this,{geometries:m,type:"GeometryCollection"}):{type:"FeatureCollection",features:m}}});function ka(s,l){return new Kn(s,l)}var Pr=ka,xs=wn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,l,h){this._url=s,this._bounds=X(l),tt(this,h)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(_t(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Gt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&Ae(this._image),this},bringToBack:function(){return this._map&&ki(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=X(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s=this._url.tagName==="IMG",l=this._image=s?this._url:xt("img");if(_t(l,"leaflet-image-layer"),this._zoomAnimated&&_t(l,"leaflet-zoom-animated"),this.options.className&&_t(l,this.options.className),l.onselectstart=w,l.onmousemove=w,l.onload=p(this.fire,this,"load"),l.onerror=p(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s){this._url=l.src;return}l.src=this._url,l.alt=this.options.alt},_animateZoom:function(s){var l=this._map.getZoomScale(s.zoom),h=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;Gn(this._image,h,l)},_reset:function(){var s=this._image,l=new O(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),h=l.getSize();Xt(s,l.min),s.style.width=h.x+"px",s.style.height=h.y+"px"},_updateOpacity:function(){ne(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),$u=function(s,l,h){return new xs(s,l,h)},_i=xs.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s=this._url.tagName==="VIDEO",l=this._image=s?this._url:xt("video");if(_t(l,"leaflet-image-layer"),this._zoomAnimated&&_t(l,"leaflet-zoom-animated"),this.options.className&&_t(l,this.options.className),l.onselectstart=w,l.onmousemove=w,l.onloadeddata=p(this.fire,this,"load"),s){for(var h=l.getElementsByTagName("source"),m=[],g=0;g<h.length;g++)m.push(h[g].src);this._url=h.length>0?m:[l.src];return}gt(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(l.style,"objectFit")&&(l.style.objectFit="fill"),l.autoplay=!!this.options.autoplay,l.loop=!!this.options.loop,l.muted=!!this.options.muted,l.playsInline=!!this.options.playsInline;for(var S=0;S<this._url.length;S++){var C=xt("source");C.src=this._url[S],l.appendChild(C)}}});function As(s,l,h){return new _i(s,l,h)}var Pa=xs.extend({_initImage:function(){var s=this._image=this._url;_t(s,"leaflet-image-layer"),this._zoomAnimated&&_t(s,"leaflet-zoom-animated"),this.options.className&&_t(s,this.options.className),s.onselectstart=w,s.onmousemove=w}});function tc(s,l,h){return new Pa(s,l,h)}var Ie=wn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,l){s&&(s instanceof it||gt(s))?(this._latlng=nt(s),tt(this,l)):(tt(this,s),this._source=l),this.options.content&&(this._content=this.options.content)},openOn:function(s){return s=arguments.length?s:this._source._map,s.hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&ne(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&ne(this._container,1),this.bringToFront(),this.options.interactive&&(_t(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(ne(this._container,0),this._removeTimeout=setTimeout(p(Gt,void 0,this._container),200)):Gt(this._container),this.options.interactive&&(oe(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=nt(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ae(this._container),this},bringToBack:function(){return this._map&&ki(this._container),this},_prepareOpen:function(s){var l=this._source;if(!l._map)return!1;if(l instanceof In){l=null;var h=this._source._layers;for(var m in h)if(h[m]._map){l=h[m];break}if(!l)return!1;this._source=l}if(!s)if(l.getCenter)s=l.getCenter();else if(l.getLatLng)s=l.getLatLng();else if(l.getBounds)s=l.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,l=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof l=="string")s.innerHTML=l;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(l)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),l=et(this.options.offset),h=this._getAnchor();this._zoomAnimated?Xt(this._container,s.add(h)):l=l.add(s).add(h);var m=this._containerBottom=-l.y,g=this._containerLeft=-Math.round(this._containerWidth/2)+l.x;this._container.style.bottom=m+"px",this._container.style.left=g+"px"}},_getAnchor:function(){return[0,0]}});Rt.include({_initOverlay:function(s,l,h,m){var g=l;return g instanceof s||(g=new s(m).setContent(l)),h&&g.setLatLng(h),g}}),wn.include({_initOverlay:function(s,l,h,m){var g=h;return g instanceof s?(tt(g,m),g._source=this):(g=l&&!m?l:new s(m,this),g.setContent(h)),g}});var zr=Ie.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return s=arguments.length?s:this._source._map,!s.hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,Ie.prototype.openOn.call(this,s)},onAdd:function(s){Ie.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof kn||this._source.on("preclick",Tn))},onRemove:function(s){Ie.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof kn||this._source.off("preclick",Tn))},getEvents:function(){var s=Ie.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",l=this._container=xt("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),h=this._wrapper=xt("div",s+"-content-wrapper",l);if(this._contentNode=xt("div",s+"-content",h),zi(l),Ln(this._contentNode),ct(l,"contextmenu",Tn),this._tipContainer=xt("div",s+"-tip-container",l),this._tip=xt("div",s+"-tip",this._tipContainer),this.options.closeButton){var m=this._closeButton=xt("a",s+"-close-button",l);m.setAttribute("role","button"),m.setAttribute("aria-label","Close popup"),m.href="#close",m.innerHTML='<span aria-hidden="true">&#215;</span>',ct(m,"click",function(g){he(g),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,l=s.style;l.width="",l.whiteSpace="nowrap";var h=s.offsetWidth;h=Math.min(h,this.options.maxWidth),h=Math.max(h,this.options.minWidth),l.width=h+1+"px",l.whiteSpace="",l.height="";var m=s.offsetHeight,g=this.options.maxHeight,S="leaflet-popup-scrolled";g&&m>g?(l.height=g+"px",_t(s,S)):oe(s,S),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var l=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),h=this._getAnchor();Xt(this._container,l.add(h))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var s=this._map,l=parseInt(Er(this._container,"marginBottom"),10)||0,h=this._container.offsetHeight+l,m=this._containerWidth,g=new W(this._containerLeft,-h-this._containerBottom);g._add(ui(this._container));var S=s.layerPointToContainerPoint(g),C=et(this.options.autoPanPadding),D=et(this.options.autoPanPaddingTopLeft||C),z=et(this.options.autoPanPaddingBottomRight||C),V=s.getSize(),J=0,ot=0;S.x+m+z.x>V.x&&(J=S.x+m-V.x+z.x),S.x-J-D.x<0&&(J=S.x-D.x),S.y+h+z.y>V.y&&(ot=S.y+h-V.y+z.y),S.y-ot-D.y<0&&(ot=S.y-D.y),(J||ot)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([J,ot]))}},_getAnchor:function(){return et(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),ec=function(s,l){return new zr(s,l)};Rt.mergeOptions({closePopupOnClick:!0}),Rt.include({openPopup:function(s,l,h){return this._initOverlay(zr,s,l,h).openOn(this),this},closePopup:function(s){return s=arguments.length?s:this._popup,s&&s.close(),this}}),wn.include({bindPopup:function(s,l){return this._popup=this._initOverlay(zr,this._popup,s,l),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof In||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(!(!this._popup||!this._map)){ci(s);var l=s.layer||s.target;if(this._popup._source===l&&!(l instanceof kn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng);return}this._popup._source=l,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){s.originalEvent.keyCode===13&&this._openPopup(s)}});var Ur=Ie.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){Ie.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){Ie.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=Ie.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){var s="leaflet-tooltip",l=s+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=xt("div",l),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+b(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var l,h,m=this._map,g=this._container,S=m.latLngToContainerPoint(m.getCenter()),C=m.layerPointToContainerPoint(s),D=this.options.direction,z=g.offsetWidth,V=g.offsetHeight,J=et(this.options.offset),ot=this._getAnchor();D==="top"?(l=z/2,h=V):D==="bottom"?(l=z/2,h=0):D==="center"?(l=z/2,h=V/2):D==="right"?(l=0,h=V/2):D==="left"?(l=z,h=V/2):C.x<S.x?(D="right",l=0,h=V/2):(D="left",l=z+(J.x+ot.x)*2,h=V/2),s=s.subtract(et(l,h,!0)).add(J).add(ot),oe(g,"leaflet-tooltip-right"),oe(g,"leaflet-tooltip-left"),oe(g,"leaflet-tooltip-top"),oe(g,"leaflet-tooltip-bottom"),_t(g,"leaflet-tooltip-"+D),Xt(g,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&ne(this._container,s)},_animateZoom:function(s){var l=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(l)},_getAnchor:function(){return et(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),_f=function(s,l){return new Ur(s,l)};Rt.include({openTooltip:function(s,l,h){return this._initOverlay(Ur,s,l,h).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),wn.include({bindTooltip:function(s,l){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ur,this._tooltip,s,l),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(!(!s&&this._tooltipHandlersAdded)){var l=s?"off":"on",h={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?h.add=this._openTooltip:(h.mouseover=this._openTooltip,h.mouseout=this.closeTooltip,h.click=this._openTooltip,this._map?this._addFocusListeners():h.add=this._addFocusListeners),this._tooltip.options.sticky&&(h.mousemove=this._moveTooltip),this[l](h),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof In||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var l=typeof s.getElement=="function"&&s.getElement();l&&(ct(l,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),ct(l,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var l=typeof s.getElement=="function"&&s.getElement();l&&l.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var l=this;this._map.once("moveend",function(){l._openOnceFlag=!1,l._openTooltip(s)});return}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var l=s.latlng,h,m;this._tooltip.options.sticky&&s.originalEvent&&(h=this._map.mouseEventToContainerPoint(s.originalEvent),m=this._map.containerPointToLayerPoint(h),l=this._map.layerPointToLatLng(m)),this._tooltip.setLatLng(l)}});var nc=Dn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var l=s&&s.tagName==="DIV"?s:document.createElement("div"),h=this.options;if(h.html instanceof Element?(an(l),l.appendChild(h.html)):l.innerHTML=h.html!==!1?h.html:"",h.bgPos){var m=et(h.bgPos);l.style.backgroundPosition=-m.x+"px "+-m.y+"px"}return this._setIconStyles(l,"icon"),l},createShadow:function(){return null}});function mf(s){return new nc(s)}Dn.Default=Lr;var Ns=wn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:at.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){tt(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),Gt(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ae(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ki(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=E(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof W?s:new W(s,s)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var l=this.getPane().children,h=-s(-1/0,1/0),m=0,g=l.length,S;m<g;m++)S=l[m].style.zIndex,l[m]!==this._container&&S&&(h=s(h,+S));isFinite(h)&&(this.options.zIndex=h+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!at.ielt9){ne(this._container,this.options.opacity);var s=+new Date,l=!1,h=!1;for(var m in this._tiles){var g=this._tiles[m];if(!(!g.current||!g.loaded)){var S=Math.min(1,(s-g.loaded)/200);ne(g.el,S),S<1?l=!0:(g.active?h=!0:this._onOpaqueTile(g),g.active=!0)}}h&&!this._noPrune&&this._pruneTiles(),l&&(Qt(this._fadeFrame),this._fadeFrame=ee(this._updateOpacity,this))}},_onOpaqueTile:w,_initContainer:function(){this._container||(this._container=xt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,l=this.options.maxZoom;if(s!==void 0){for(var h in this._levels)h=Number(h),this._levels[h].el.children.length||h===s?(this._levels[h].el.style.zIndex=l-Math.abs(s-h),this._onUpdateLevel(h)):(Gt(this._levels[h].el),this._removeTilesAtZoom(h),this._onRemoveLevel(h),delete this._levels[h]);var m=this._levels[s],g=this._map;return m||(m=this._levels[s]={},m.el=xt("div","leaflet-tile-container leaflet-zoom-animated",this._container),m.el.style.zIndex=l,m.origin=g.project(g.unproject(g.getPixelOrigin()),s).round(),m.zoom=s,this._setZoomTransform(m,g.getCenter(),g.getZoom()),w(m.el.offsetWidth),this._onCreateLevel(m)),this._level=m,m}},_onUpdateLevel:w,_onRemoveLevel:w,_onCreateLevel:w,_pruneTiles:function(){if(this._map){var s,l,h=this._map.getZoom();if(h>this.options.maxZoom||h<this.options.minZoom){this._removeAllTiles();return}for(s in this._tiles)l=this._tiles[s],l.retain=l.current;for(s in this._tiles)if(l=this._tiles[s],l.current&&!l.active){var m=l.coords;this._retainParent(m.x,m.y,m.z,m.z-5)||this._retainChildren(m.x,m.y,m.z,m.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var l in this._tiles)this._tiles[l].coords.z===s&&this._removeTile(l)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)Gt(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,l,h,m){var g=Math.floor(s/2),S=Math.floor(l/2),C=h-1,D=new W(+g,+S);D.z=+C;var z=this._tileCoordsToKey(D),V=this._tiles[z];return V&&V.active?(V.retain=!0,!0):(V&&V.loaded&&(V.retain=!0),C>m?this._retainParent(g,S,C,m):!1)},_retainChildren:function(s,l,h,m){for(var g=2*s;g<2*s+2;g++)for(var S=2*l;S<2*l+2;S++){var C=new W(g,S);C.z=h+1;var D=this._tileCoordsToKey(C),z=this._tiles[D];if(z&&z.active){z.retain=!0;continue}else z&&z.loaded&&(z.retain=!0);h+1<m&&this._retainChildren(g,S,h+1,m)}},_resetView:function(s){var l=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),l,l)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var l=this.options;return l.minNativeZoom!==void 0&&s<l.minNativeZoom?l.minNativeZoom:l.maxNativeZoom!==void 0&&l.maxNativeZoom<s?l.maxNativeZoom:s},_setView:function(s,l,h,m){var g=Math.round(l);this.options.maxZoom!==void 0&&g>this.options.maxZoom||this.options.minZoom!==void 0&&g<this.options.minZoom?g=void 0:g=this._clampZoom(g);var S=this.options.updateWhenZooming&&g!==this._tileZoom;(!m||S)&&(this._tileZoom=g,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),g!==void 0&&this._update(s),h||this._pruneTiles(),this._noPrune=!!h),this._setZoomTransforms(s,l)},_setZoomTransforms:function(s,l){for(var h in this._levels)this._setZoomTransform(this._levels[h],s,l)},_setZoomTransform:function(s,l,h){var m=this._map.getZoomScale(h,s.zoom),g=s.origin.multiplyBy(m).subtract(this._map._getNewPixelOrigin(l,h)).round();at.any3d?Gn(s.el,g,m):Xt(s.el,g)},_resetGrid:function(){var s=this._map,l=s.options.crs,h=this._tileSize=this.getTileSize(),m=this._tileZoom,g=this._map.getPixelWorldBounds(this._tileZoom);g&&(this._globalTileRange=this._pxBoundsToTileRange(g)),this._wrapX=l.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,l.wrapLng[0]],m).x/h.x),Math.ceil(s.project([0,l.wrapLng[1]],m).x/h.y)],this._wrapY=l.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([l.wrapLat[0],0],m).y/h.x),Math.ceil(s.project([l.wrapLat[1],0],m).y/h.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var l=this._map,h=l._animatingZoom?Math.max(l._animateToZoom,l.getZoom()):l.getZoom(),m=l.getZoomScale(h,this._tileZoom),g=l.project(s,this._tileZoom).floor(),S=l.getSize().divideBy(m*2);return new O(g.subtract(S),g.add(S))},_update:function(s){var l=this._map;if(l){var h=this._clampZoom(l.getZoom());if(s===void 0&&(s=l.getCenter()),this._tileZoom!==void 0){var m=this._getTiledPixelBounds(s),g=this._pxBoundsToTileRange(m),S=g.getCenter(),C=[],D=this.options.keepBuffer,z=new O(g.getBottomLeft().subtract([D,-D]),g.getTopRight().add([D,-D]));if(!(isFinite(g.min.x)&&isFinite(g.min.y)&&isFinite(g.max.x)&&isFinite(g.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var V in this._tiles){var J=this._tiles[V].coords;(J.z!==this._tileZoom||!z.contains(new W(J.x,J.y)))&&(this._tiles[V].current=!1)}if(Math.abs(h-this._tileZoom)>1){this._setView(s,h);return}for(var ot=g.min.y;ot<=g.max.y;ot++)for(var yt=g.min.x;yt<=g.max.x;yt++){var Ne=new W(yt,ot);if(Ne.z=this._tileZoom,!!this._isValidTile(Ne)){var fe=this._tiles[this._tileCoordsToKey(Ne)];fe?fe.current=!0:C.push(Ne)}}if(C.sort(function(It,Dt){return It.distanceTo(S)-Dt.distanceTo(S)}),C.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var tn=document.createDocumentFragment();for(yt=0;yt<C.length;yt++)this._addTile(C[yt],tn);this._level.el.appendChild(tn)}}}},_isValidTile:function(s){var l=this._map.options.crs;if(!l.infinite){var h=this._globalTileRange;if(!l.wrapLng&&(s.x<h.min.x||s.x>h.max.x)||!l.wrapLat&&(s.y<h.min.y||s.y>h.max.y))return!1}if(!this.options.bounds)return!0;var m=this._tileCoordsToBounds(s);return X(this.options.bounds).overlaps(m)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var l=this._map,h=this.getTileSize(),m=s.scaleBy(h),g=m.add(h),S=l.unproject(m,s.z),C=l.unproject(g,s.z);return[S,C]},_tileCoordsToBounds:function(s){var l=this._tileCoordsToNwSe(s),h=new K(l[0],l[1]);return this.options.noWrap||(h=this._map.wrapLatLngBounds(h)),h},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var l=s.split(":"),h=new W(+l[0],+l[1]);return h.z=+l[2],h},_removeTile:function(s){var l=this._tiles[s];l&&(Gt(l.el),delete this._tiles[s],this.fire("tileunload",{tile:l.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){_t(s,"leaflet-tile");var l=this.getTileSize();s.style.width=l.x+"px",s.style.height=l.y+"px",s.onselectstart=w,s.onmousemove=w,at.ielt9&&this.options.opacity<1&&ne(s,this.options.opacity)},_addTile:function(s,l){var h=this._getTilePos(s),m=this._tileCoordsToKey(s),g=this.createTile(this._wrapCoords(s),p(this._tileReady,this,s));this._initTile(g),this.createTile.length<2&&ee(p(this._tileReady,this,s,null,g)),Xt(g,h),this._tiles[m]={el:g,coords:s,current:!0},l.appendChild(g),this.fire("tileloadstart",{tile:g,coords:s})},_tileReady:function(s,l,h){l&&this.fire("tileerror",{error:l,tile:h,coords:s});var m=this._tileCoordsToKey(s);h=this._tiles[m],h&&(h.loaded=+new Date,this._map._fadeAnimated?(ne(h.el,0),Qt(this._fadeFrame),this._fadeFrame=ee(this._updateOpacity,this)):(h.active=!0,this._pruneTiles()),l||(_t(h.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:h.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),at.ielt9||!this._map._fadeAnimated?ee(this._pruneTiles,this):setTimeout(p(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var l=new W(this._wrapX?N(s.x,this._wrapX):s.x,this._wrapY?N(s.y,this._wrapY):s.y);return l.z=s.z,l},_pxBoundsToTileRange:function(s){var l=this.getTileSize();return new O(s.min.unscaleBy(l).floor(),s.max.unscaleBy(l).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});function ic(s){return new Ns(s)}var mi=Ns.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,l){this._url=s,l=tt(this,l),l.detectRetina&&at.retina&&l.maxZoom>0?(l.tileSize=Math.floor(l.tileSize/2),l.zoomReverse?(l.zoomOffset--,l.minZoom=Math.min(l.maxZoom,l.minZoom+1)):(l.zoomOffset++,l.maxZoom=Math.max(l.minZoom,l.maxZoom-1)),l.minZoom=Math.max(0,l.minZoom)):l.zoomReverse?l.minZoom=Math.min(l.maxZoom,l.minZoom):l.maxZoom=Math.max(l.minZoom,l.maxZoom),typeof l.subdomains=="string"&&(l.subdomains=l.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,l){return this._url===s&&l===void 0&&(l=!0),this._url=s,l||this.redraw(),this},createTile:function(s,l){var h=document.createElement("img");return ct(h,"load",p(this._tileOnLoad,this,l,h)),ct(h,"error",p(this._tileOnError,this,l,h)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(h.referrerPolicy=this.options.referrerPolicy),h.alt="",h.src=this.getTileUrl(s),h},getTileUrl:function(s){var l={r:at.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var h=this._globalTileRange.max.y-s.y;this.options.tms&&(l.y=h),l["-y"]=h}return te(this._url,c(l,this.options))},_tileOnLoad:function(s,l){at.ielt9?setTimeout(p(s,this,null,l),0):s(null,l)},_tileOnError:function(s,l,h){var m=this.options.errorTileUrl;m&&l.getAttribute("src")!==m&&(l.src=m),s(h,l)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom,l=this.options.maxZoom,h=this.options.zoomReverse,m=this.options.zoomOffset;return h&&(s=l-s),s+m},_getSubdomain:function(s){var l=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[l]},_abortLoading:function(){var s,l;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&(l=this._tiles[s].el,l.onload=w,l.onerror=w,!l.complete)){l.src=Qe;var h=this._tiles[s].coords;Gt(l),delete this._tiles[s],this.fire("tileabort",{tile:l,coords:h})}},_removeTile:function(s){var l=this._tiles[s];if(l)return l.el.setAttribute("src",Qe),Ns.prototype._removeTile.call(this,s)},_tileReady:function(s,l,h){if(!(!this._map||h&&h.getAttribute("src")===Qe))return Ns.prototype._tileReady.call(this,s,l,h)}});function un(s,l){return new mi(s,l)}var Br=mi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,l){this._url=s;var h=c({},this.defaultWmsParams);for(var m in l)m in this.options||(h[m]=l[m]);l=tt(this,l);var g=l.detectRetina&&at.retina?2:1,S=this.getTileSize();h.width=S.x*g,h.height=S.y*g,this.wmsParams=h},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var l=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[l]=this._crs.code,mi.prototype.onAdd.call(this,s)},getTileUrl:function(s){var l=this._tileCoordsToNwSe(s),h=this._crs,m=j(h.project(l[0]),h.project(l[1])),g=m.min,S=m.max,C=(this._wmsVersion>=1.3&&this._crs===nl?[g.y,g.x,S.y,S.x]:[g.x,g.y,S.x,S.y]).join(","),D=mi.prototype.getTileUrl.call(this,s);return D+dt(this.wmsParams,D,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+C},setParams:function(s,l){return c(this.wmsParams,s),l||this.redraw(),this}});function cn(s,l){return new Br(s,l)}mi.WMS=Br,un.wms=cn;var Ge=wn.extend({options:{padding:.1},initialize:function(s){tt(this,s),b(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),_t(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,l){var h=this._map.getZoomScale(l,this._zoom),m=this._map.getSize().multiplyBy(.5+this.options.padding),g=this._map.project(this._center,l),S=m.multiplyBy(-h).add(g).subtract(this._map._getNewPixelOrigin(s,l));at.any3d?Gn(this._container,S,h):Xt(this._container,S)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var s in this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,l=this._map.getSize(),h=this._map.containerPointToLayerPoint(l.multiplyBy(-s)).round();this._bounds=new O(h,h.add(l.multiplyBy(1+s*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),za=Ge.extend({options:{tolerance:0},getEvents:function(){var s=Ge.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ge.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");ct(s,"mousemove",this._onMouseMove,this),ct(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ct(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){Qt(this._redrawRequest),delete this._ctx,Gt(this._container),jt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var s;this._redrawBounds=null;for(var l in this._layers)s=this._layers[l],s._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ge.prototype._update.call(this);var s=this._bounds,l=this._container,h=s.getSize(),m=at.retina?2:1;Xt(l,s.min),l.width=m*h.x,l.height=m*h.y,l.style.width=h.x+"px",l.style.height=h.y+"px",at.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){Ge.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[b(s)]=s;var l=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=l),this._drawLast=l,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var l=s._order,h=l.next,m=l.prev;h?h.prev=m:this._drawLast=m,m?m.next=h:this._drawFirst=h,delete s._order,delete this._layers[b(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if(typeof s.options.dashArray=="string"){var l=s.options.dashArray.split(/[, ]+/),h=[],m,g;for(g=0;g<l.length;g++){if(m=Number(l[g]),isNaN(m))return;h.push(m)}s.options._dashArray=h}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||ee(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var l=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new O,this._redrawBounds.extend(s._pxBounds.min.subtract([l,l])),this._redrawBounds.extend(s._pxBounds.max.add([l,l]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var l=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,l.x,l.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,l=this._redrawBounds;if(this._ctx.save(),l){var h=l.getSize();this._ctx.beginPath(),this._ctx.rect(l.min.x,l.min.y,h.x,h.y),this._ctx.clip()}this._drawing=!0;for(var m=this._drawFirst;m;m=m.next)s=m.layer,(!l||s._pxBounds&&s._pxBounds.intersects(l))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,l){if(this._drawing){var h,m,g,S,C=s._parts,D=C.length,z=this._ctx;if(D){for(z.beginPath(),h=0;h<D;h++){for(m=0,g=C[h].length;m<g;m++)S=C[h][m],z[m?"lineTo":"moveTo"](S.x,S.y);l&&z.closePath()}this._fillStroke(z,s)}}},_updateCircle:function(s){if(!(!this._drawing||s._empty())){var l=s._point,h=this._ctx,m=Math.max(Math.round(s._radius),1),g=(Math.max(Math.round(s._radiusY),1)||m)/m;g!==1&&(h.save(),h.scale(1,g)),h.beginPath(),h.arc(l.x,l.y/g,m,0,Math.PI*2,!1),g!==1&&h.restore(),this._fillStroke(h,s)}},_fillStroke:function(s,l){var h=l.options;h.fill&&(s.globalAlpha=h.fillOpacity,s.fillStyle=h.fillColor||h.color,s.fill(h.fillRule||"evenodd")),h.stroke&&h.weight!==0&&(s.setLineDash&&s.setLineDash(l.options&&l.options._dashArray||[]),s.globalAlpha=h.opacity,s.lineWidth=h.weight,s.strokeStyle=h.color,s.lineCap=h.lineCap,s.lineJoin=h.lineJoin,s.stroke())},_onClick:function(s){for(var l=this._map.mouseEventToLayerPoint(s),h,m,g=this._drawFirst;g;g=g.next)h=g.layer,h.options.interactive&&h._containsPoint(l)&&(!(s.type==="click"||s.type==="preclick")||!this._map._draggableMoved(h))&&(m=h);this._fireEvent(m?[m]:!1,s)},_onMouseMove:function(s){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var l=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,l)}},_handleMouseOut:function(s){var l=this._hoveredLayer;l&&(oe(this._container,"leaflet-interactive"),this._fireEvent([l],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,l){if(!this._mouseHoverThrottled){for(var h,m,g=this._drawFirst;g;g=g.next)h=g.layer,h.options.interactive&&h._containsPoint(l)&&(m=h);m!==this._hoveredLayer&&(this._handleMouseOut(s),m&&(_t(this._container,"leaflet-interactive"),this._fireEvent([m],s,"mouseover"),this._hoveredLayer=m)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,s),this._mouseHoverThrottled=!0,setTimeout(p(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,l,h){this._map._fireDOMEvent(l,h||l.type,s)},_bringToFront:function(s){var l=s._order;if(l){var h=l.next,m=l.prev;if(h)h.prev=m;else return;m?m.next=h:h&&(this._drawFirst=h),l.prev=this._drawLast,this._drawLast.next=l,l.next=null,this._drawLast=l,this._requestRedraw(s)}},_bringToBack:function(s){var l=s._order;if(l){var h=l.next,m=l.prev;if(m)m.next=h;else return;h?h.prev=m:m&&(this._drawLast=m),l.prev=null,l.next=this._drawFirst,this._drawFirst.prev=l,this._drawFirst=l,this._requestRedraw(s)}}});function Hr(s){return at.canvas?new za(s):null}var pi=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),il={_initContainer:function(){this._container=xt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ge.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var l=s._container=pi("shape");_t(l,"leaflet-vml-shape "+(this.options.className||"")),l.coordsize="1 1",s._path=pi("path"),l.appendChild(s._path),this._updateStyle(s),this._layers[b(s)]=s},_addPath:function(s){var l=s._container;this._container.appendChild(l),s.options.interactive&&s.addInteractiveTarget(l)},_removePath:function(s){var l=s._container;Gt(l),s.removeInteractiveTarget(l),delete this._layers[b(s)]},_updateStyle:function(s){var l=s._stroke,h=s._fill,m=s.options,g=s._container;g.stroked=!!m.stroke,g.filled=!!m.fill,m.stroke?(l||(l=s._stroke=pi("stroke")),g.appendChild(l),l.weight=m.weight+"px",l.color=m.color,l.opacity=m.opacity,m.dashArray?l.dashStyle=gt(m.dashArray)?m.dashArray.join(" "):m.dashArray.replace(/( *, *)/g," "):l.dashStyle="",l.endcap=m.lineCap.replace("butt","flat"),l.joinstyle=m.lineJoin):l&&(g.removeChild(l),s._stroke=null),m.fill?(h||(h=s._fill=pi("fill")),g.appendChild(h),h.color=m.fillColor||m.color,h.opacity=m.fillOpacity):h&&(g.removeChild(h),s._fill=null)},_updateCircle:function(s){var l=s._point.round(),h=Math.round(s._radius),m=Math.round(s._radiusY||h);this._setPath(s,s._empty()?"M0 0":"AL "+l.x+","+l.y+" "+h+","+m+" 0,"+65535*360)},_setPath:function(s,l){s._path.v=l},_bringToFront:function(s){Ae(s._container)},_bringToBack:function(s){ki(s._container)}},Pn=at.vml?pi:ga,Os=Ge.extend({_initContainer:function(){this._container=Pn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Pn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Gt(this._container),jt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ge.prototype._update.call(this);var s=this._bounds,l=s.getSize(),h=this._container;(!this._svgSize||!this._svgSize.equals(l))&&(this._svgSize=l,h.setAttribute("width",l.x),h.setAttribute("height",l.y)),Xt(h,s.min),h.setAttribute("viewBox",[s.min.x,s.min.y,l.x,l.y].join(" ")),this.fire("update")}},_initPath:function(s){var l=s._path=Pn("path");s.options.className&&_t(l,s.options.className),s.options.interactive&&_t(l,"leaflet-interactive"),this._updateStyle(s),this._layers[b(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){Gt(s._path),s.removeInteractiveTarget(s._path),delete this._layers[b(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var l=s._path,h=s.options;l&&(h.stroke?(l.setAttribute("stroke",h.color),l.setAttribute("stroke-opacity",h.opacity),l.setAttribute("stroke-width",h.weight),l.setAttribute("stroke-linecap",h.lineCap),l.setAttribute("stroke-linejoin",h.lineJoin),h.dashArray?l.setAttribute("stroke-dasharray",h.dashArray):l.removeAttribute("stroke-dasharray"),h.dashOffset?l.setAttribute("stroke-dashoffset",h.dashOffset):l.removeAttribute("stroke-dashoffset")):l.setAttribute("stroke","none"),h.fill?(l.setAttribute("fill",h.fillColor||h.color),l.setAttribute("fill-opacity",h.fillOpacity),l.setAttribute("fill-rule",h.fillRule||"evenodd")):l.setAttribute("fill","none"))},_updatePoly:function(s,l){this._setPath(s,va(s._parts,l))},_updateCircle:function(s){var l=s._point,h=Math.max(Math.round(s._radius),1),m=Math.max(Math.round(s._radiusY),1)||h,g="a"+h+","+m+" 0 1,0 ",S=s._empty()?"M0 0":"M"+(l.x-h)+","+l.y+g+h*2+",0 "+g+-h*2+",0 ";this._setPath(s,S)},_setPath:function(s,l){s._path.setAttribute("d",l)},_bringToFront:function(s){Ae(s._path)},_bringToBack:function(s){ki(s._path)}});at.vml&&Os.include(il);function jr(s){return at.svg||at.vml?new Os(s):null}Rt.include({getRenderer:function(s){var l=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return l||(l=this._renderer=this._createRenderer()),this.hasLayer(l)||this.addLayer(l),l},_getPaneRenderer:function(s){if(s==="overlayPane"||s===void 0)return!1;var l=this._paneRenderers[s];return l===void 0&&(l=this._createRenderer({pane:s}),this._paneRenderers[s]=l),l},_createRenderer:function(s){return this.options.preferCanvas&&Hr(s)||jr(s)}});var Bi=ws.extend({initialize:function(s,l){ws.prototype.initialize.call(this,this._boundsToLatLngs(s),l)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return s=X(s),[s.getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});function pf(s,l){return new Bi(s,l)}Os.create=Pn,Os.pointsToPath=va,Kn.geometryToLayer=Me,Kn.coordsToLatLng=Ma,Kn.coordsToLatLngs=Dr,Kn.latLngToCoords=Ia,Kn.latLngsToCoords=kr,Kn.getFeature=fi,Kn.asFeature=Da,Rt.mergeOptions({boxZoom:!0});var Fe=Mn.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){ct(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){jt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Gt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||s.which!==1&&s.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),ms(),Ta(),this._startPoint=this._map.mouseEventToContainerPoint(s),ct(document,{contextmenu:ci,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=xt("div","leaflet-zoom-box",this._container),_t(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var l=new O(this._point,this._startPoint),h=l.getSize();Xt(this._box,l.min),this._box.style.width=h.x+"px",this._box.style.height=h.y+"px"},_finish:function(){this._moved&&(Gt(this._box),oe(this._container,"leaflet-crosshair")),Rn(),Tr(),jt(document,{contextmenu:ci,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if(!(s.which!==1&&s.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(p(this._resetState,this),0);var l=new K(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(l).fire("boxzoomend",{boxZoomBounds:l})}},_onKeyDown:function(s){s.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Rt.addInitHook("addHandler","boxZoom",Fe),Rt.mergeOptions({doubleClickZoom:!0});var Ua=Mn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var l=this._map,h=l.getZoom(),m=l.options.zoomDelta,g=s.originalEvent.shiftKey?h-m:h+m;l.options.doubleClickZoom==="center"?l.setZoom(g):l.setZoomAround(s.containerPoint,g)}});Rt.addInitHook("addHandler","doubleClickZoom",Ua),Rt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var zn=Mn.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new hi(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}_t(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){oe(this._map._container,"leaflet-grab"),oe(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var l=X(this._map.options.maxBounds);this._offsetLimit=j(this._map.latLngToContainerPoint(l.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(l.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var l=this._lastTime=+new Date,h=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(h),this._times.push(l),this._prunePositions(l)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),l=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=l.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,l){return s-(s-l)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var s=this._draggable._newPos.subtract(this._draggable._startPos),l=this._offsetLimit;s.x<l.min.x&&(s.x=this._viscousLimit(s.x,l.min.x)),s.y<l.min.y&&(s.y=this._viscousLimit(s.y,l.min.y)),s.x>l.max.x&&(s.x=this._viscousLimit(s.x,l.max.x)),s.y>l.max.y&&(s.y=this._viscousLimit(s.y,l.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,l=Math.round(s/2),h=this._initialWorldOffset,m=this._draggable._newPos.x,g=(m-l+h)%s+l-h,S=(m+l+h)%s-l-h,C=Math.abs(g+h)<Math.abs(S+h)?g:S;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=C},_onDragEnd:function(s){var l=this._map,h=l.options,m=!h.inertia||s.noInertia||this._times.length<2;if(l.fire("dragend",s),m)l.fire("moveend");else{this._prunePositions(+new Date);var g=this._lastPos.subtract(this._positions[0]),S=(this._lastTime-this._times[0])/1e3,C=h.easeLinearity,D=g.multiplyBy(C/S),z=D.distanceTo([0,0]),V=Math.min(h.inertiaMaxSpeed,z),J=D.multiplyBy(V/z),ot=V/(h.inertiaDeceleration*C),yt=J.multiplyBy(-ot/2).round();!yt.x&&!yt.y?l.fire("moveend"):(yt=l._limitOffset(yt,l.options.maxBounds),ee(function(){l.panBy(yt,{duration:ot,easeLinearity:C,noMoveStart:!0,animate:!0})}))}}});Rt.addInitHook("addHandler","dragging",zn),Rt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var sl=Mn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),ct(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),jt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,l=document.documentElement,h=s.scrollTop||l.scrollTop,m=s.scrollLeft||l.scrollLeft;this._map._container.focus(),window.scrollTo(m,h)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var l=this._panKeys={},h=this.keyCodes,m,g;for(m=0,g=h.left.length;m<g;m++)l[h.left[m]]=[-1*s,0];for(m=0,g=h.right.length;m<g;m++)l[h.right[m]]=[s,0];for(m=0,g=h.down.length;m<g;m++)l[h.down[m]]=[0,s];for(m=0,g=h.up.length;m<g;m++)l[h.up[m]]=[0,-1*s]},_setZoomDelta:function(s){var l=this._zoomKeys={},h=this.keyCodes,m,g;for(m=0,g=h.zoomIn.length;m<g;m++)l[h.zoomIn[m]]=s;for(m=0,g=h.zoomOut.length;m<g;m++)l[h.zoomOut[m]]=-s},_addHooks:function(){ct(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){jt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var l=s.keyCode,h=this._map,m;if(l in this._panKeys){if(!h._panAnim||!h._panAnim._inProgress)if(m=this._panKeys[l],s.shiftKey&&(m=et(m).multiplyBy(3)),h.options.maxBounds&&(m=h._limitOffset(et(m),h.options.maxBounds)),h.options.worldCopyJump){var g=h.wrapLatLng(h.unproject(h.project(h.getCenter()).add(m)));h.panTo(g)}else h.panBy(m)}else if(l in this._zoomKeys)h.setZoom(h.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[l]);else if(l===27&&h._popup&&h._popup.options.closeOnEscapeKey)h.closePopup();else return;ci(s)}}});Rt.addInitHook("addHandler","keyboard",sl),Rt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Zr=Mn.extend({addHooks:function(){ct(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){jt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var l=He(s),h=this._map.options.wheelDebounceTime;this._delta+=l,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var m=Math.max(h-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(p(this._performZoom,this),m),ci(s)},_performZoom:function(){var s=this._map,l=s.getZoom(),h=this._map.options.zoomSnap||0;s._stop();var m=this._delta/(this._map.options.wheelPxPerZoomLevel*4),g=4*Math.log(2/(1+Math.exp(-Math.abs(m))))/Math.LN2,S=h?Math.ceil(g/h)*h:g,C=s._limitZoom(l+(this._delta>0?S:-S))-l;this._delta=0,this._startTime=null,C&&(s.options.scrollWheelZoom==="center"?s.setZoom(l+C):s.setZoomAround(this._lastMousePos,l+C))}});Rt.addInitHook("addHandler","scrollWheelZoom",Zr);var Hi=600;Rt.mergeOptions({tapHold:at.touchNative&&at.safari&&at.mobile,tapTolerance:15});var Ba=Mn.extend({addHooks:function(){ct(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){jt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),s.touches.length===1){var l=s.touches[0];this._startPos=this._newPos=new W(l.clientX,l.clientY),this._holdTimeout=setTimeout(p(function(){this._cancel(),this._isTapValid()&&(ct(document,"touchend",he),ct(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",l))},this),Hi),ct(document,"touchend touchcancel contextmenu",this._cancel,this),ct(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){jt(document,"touchend",he),jt(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),jt(document,"touchend touchcancel contextmenu",this._cancel,this),jt(document,"touchmove",this._onMove,this)},_onMove:function(s){var l=s.touches[0];this._newPos=new W(l.clientX,l.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,l){var h=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:l.screenX,screenY:l.screenY,clientX:l.clientX,clientY:l.clientY});h._simulated=!0,l.target.dispatchEvent(h)}});Rt.addInitHook("addHandler","tapHold",Ba),Rt.mergeOptions({touchZoom:at.touch,bounceAtZoomLimits:!0});var rl=Mn.extend({addHooks:function(){_t(this._map._container,"leaflet-touch-zoom"),ct(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){oe(this._map._container,"leaflet-touch-zoom"),jt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var l=this._map;if(!(!s.touches||s.touches.length!==2||l._animatingZoom||this._zooming)){var h=l.mouseEventToContainerPoint(s.touches[0]),m=l.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=l.getSize()._divideBy(2),this._startLatLng=l.containerPointToLatLng(this._centerPoint),l.options.touchZoom!=="center"&&(this._pinchStartLatLng=l.containerPointToLatLng(h.add(m)._divideBy(2))),this._startDist=h.distanceTo(m),this._startZoom=l.getZoom(),this._moved=!1,this._zooming=!0,l._stop(),ct(document,"touchmove",this._onTouchMove,this),ct(document,"touchend touchcancel",this._onTouchEnd,this),he(s)}},_onTouchMove:function(s){if(!(!s.touches||s.touches.length!==2||!this._zooming)){var l=this._map,h=l.mouseEventToContainerPoint(s.touches[0]),m=l.mouseEventToContainerPoint(s.touches[1]),g=h.distanceTo(m)/this._startDist;if(this._zoom=l.getScaleZoom(g,this._startZoom),!l.options.bounceAtZoomLimits&&(this._zoom<l.getMinZoom()&&g<1||this._zoom>l.getMaxZoom()&&g>1)&&(this._zoom=l._limitZoom(this._zoom)),l.options.touchZoom==="center"){if(this._center=this._startLatLng,g===1)return}else{var S=h._add(m)._divideBy(2)._subtract(this._centerPoint);if(g===1&&S.x===0&&S.y===0)return;this._center=l.unproject(l.project(this._pinchStartLatLng,this._zoom).subtract(S),this._zoom)}this._moved||(l._moveStart(!0,!1),this._moved=!0),Qt(this._animRequest);var C=p(l._move,l,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=ee(C,this,!0),he(s)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Qt(this._animRequest),jt(document,"touchmove",this._onTouchMove,this),jt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Rt.addInitHook("addHandler","touchZoom",rl),Rt.BoxZoom=Fe,Rt.DoubleClickZoom=Ua,Rt.Drag=zn,Rt.Keyboard=sl,Rt.ScrollWheelZoom=Zr,Rt.TapHold=Ba,Rt.TouchZoom=rl,i.Bounds=O,i.Browser=at,i.CRS=Et,i.Canvas=za,i.Circle=La,i.CircleMarker=Ts,i.Class=xe,i.Control=$e,i.DivIcon=nc,i.DivOverlay=Ie,i.DomEvent=xa,i.DomUtil=vs,i.Draggable=hi,i.Evented=$,i.FeatureGroup=In,i.GeoJSON=Kn,i.GridLayer=Ns,i.Handler=Mn,i.Icon=Dn,i.ImageOverlay=xs,i.LatLng=it,i.LatLngBounds=K,i.Layer=wn,i.LayerGroup=Ss,i.LineUtil=cf,i.Map=Rt,i.Marker=Ir,i.Mixin=af,i.Path=kn,i.Point=W,i.PolyUtil=tl,i.Polygon=ws,i.Polyline=Wn,i.Popup=zr,i.PosAnimation=ys,i.Projection=Yu,i.Rectangle=Bi,i.Renderer=Ge,i.SVG=Os,i.SVGOverlay=Pa,i.TileLayer=mi,i.Tooltip=Ur,i.Transformation=cs,i.Util=xi,i.VideoOverlay=_i,i.bind=p,i.bounds=j,i.canvas=Hr,i.circle=Ju,i.circleMarker=Xu,i.control=Yn,i.divIcon=mf,i.extend=c,i.featureGroup=Ku,i.geoJSON=ka,i.geoJson=Pr,i.gridLayer=ic,i.icon=Rr,i.imageOverlay=$u,i.latLng=nt,i.latLngBounds=X,i.layerGroup=hf,i.map=Wo,i.marker=Qu,i.point=et,i.polygon=df,i.polyline=ff,i.popup=ec,i.rectangle=pf,i.setOptions=tt,i.stamp=b,i.svg=jr,i.svgOverlay=tc,i.tileLayer=un,i.tooltip=_f,i.transformation=Ni,i.version=o,i.videoOverlay=As;var al=window.L;i.noConflict=function(){return window.L=al,this},window.L=i}))})(Wl,Wl.exports)),Wl.exports}var Cu=NO();const mE=n0(Cu);function zm(r,e,i){return Object.freeze({instance:r,context:e,container:i})}function Um(r,e){return e==null?function(o,c){const d=pt.useRef(void 0);return d.current||(d.current=r(o,c)),d}:function(o,c){const d=pt.useRef(void 0);d.current||(d.current=r(o,c));const p=pt.useRef(o),{instance:y}=d.current;return pt.useEffect(function(){p.current!==o&&(e(y,o,p.current),p.current=o)},[y,o,e]),d}}function OO(r,e){pt.useEffect(function(){return(e.layerContainer??e.map).addLayer(r.instance),function(){e.layerContainer?.removeLayer(r.instance),e.map.removeLayer(r.instance)}},[e,r])}function pE(r){return function(i){const o=dE(),c=r(Pm(i,o),o);return fE(o.map,i.attribution),_E(c.current,i.eventHandlers),OO(c.current,o),c}}function RO(r,e){const i=Um(r,e),o=pE(i);return TO(o)}function LO(r,e){const i=Um(r),o=xO(i,e);return wO(o)}function MO(r,e){const i=Um(r,e),o=pE(i);return CO(o)}function IO(r,e,i){const{opacity:o,zIndex:c}=e;o!=null&&o!==i.opacity&&r.setOpacity(o),c!=null&&c!==i.zIndex&&r.setZIndex(c)}function DO({bounds:r,boundsOptions:e,center:i,children:o,className:c,id:d,placeholder:p,style:y,whenReady:b,zoom:E,...N},w){const[x]=pt.useState({className:c,id:d,style:y}),[F,Y]=pt.useState(null),tt=pt.useRef(void 0);pt.useImperativeHandle(w,()=>F?.map??null,[F]);const dt=pt.useCallback(te=>{if(te!==null&&!tt.current){const gt=new Cu.Map(te,N);tt.current=gt,i!=null&&E!=null?gt.setView(i,E):r!=null&&gt.fitBounds(r,e),b!=null&&gt.whenReady(b),Y(EO(gt))}},[]);pt.useEffect(()=>()=>{F?.map.remove()},[F]);const zt=F?__.createElement(km,{value:F},o):p??null;return __.createElement("div",{...x,ref:dt},zt)}const gE=pt.forwardRef(DO),vE=RO(function({position:e,...i},o){const c=new Cu.Marker(e,i);return zm(c,SO(o,{overlayContainer:c}))},function(e,i,o){i.position!==o.position&&e.setLatLng(i.position),i.icon!=null&&i.icon!==o.icon&&e.setIcon(i.icon),i.zIndexOffset!=null&&i.zIndexOffset!==o.zIndexOffset&&e.setZIndexOffset(i.zIndexOffset),i.opacity!=null&&i.opacity!==o.opacity&&e.setOpacity(i.opacity),e.dragging!=null&&i.draggable!==o.draggable&&(i.draggable===!0?e.dragging.enable():e.dragging.disable())}),yE=LO(function(e,i){const o=new Cu.Popup(e,i.overlayContainer);return zm(o,i)},function(e,i,{position:o},c){pt.useEffect(function(){const{instance:p}=e;function y(E){E.popup===p&&(p.update(),c(!0))}function b(E){E.popup===p&&c(!1)}return i.map.on({popupopen:y,popupclose:b}),i.overlayContainer==null?(o!=null&&p.setLatLng(o),p.openOn(i.map)):i.overlayContainer.bindPopup(p),function(){i.map.off({popupopen:y,popupclose:b}),i.overlayContainer?.unbindPopup(),i.map.removeLayer(p)}},[e,i,c,o])}),bE=MO(function({url:e,...i},o){const c=new Cu.TileLayer(e,Pm(i,o));return zm(c,o)},function(e,i,o){IO(e,i,o);const{url:c}=i;c!=null&&c!==o.url&&e.setUrl(c)}),kO=({userLocation:r})=>{const[e,i]=pt.useState(""),[o,c]=pt.useState(""),d=async()=>{if(!(!e||!r))try{const p=`${si.currentUser.uid}_${e.replace(/[.@]/g,"_")}`,y=nu(iu,`locationShares/${p}`);await cE(y,{ownerEmail:si.currentUser.email,ownerUid:si.currentUser.uid,viewerEmail:e,timestamp:Date.now(),active:!0,isLiveShare:!0}),c("Live location access granted!"),i(""),setTimeout(()=>c(""),3e3)}catch{c("Error sharing location")}};return M.jsxs("div",{className:"bg-gray-800/40 backdrop-blur-xl rounded-2xl border border-gray-700/50 overflow-hidden",children:[M.jsx("div",{className:"bg-gradient-to-r from-green-500/20 to-emerald-500/20 border-b border-gray-700/50 p-4",children:M.jsxs("div",{className:"flex items-center gap-3",children:[M.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-green-500 to-emerald-400 rounded-xl flex items-center justify-center",children:M.jsx("span",{className:"text-white text-sm",children:"🔗"})}),M.jsxs("div",{children:[M.jsx("h3",{className:"text-white font-semibold",children:"Share Access"}),M.jsx("p",{className:"text-gray-400 text-xs",children:"Grant location access to contacts"})]})]})}),M.jsxs("div",{className:"p-4",children:[M.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[M.jsxs("div",{className:"flex-1 relative group",children:[M.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-green-500/20 to-emerald-400/20 rounded-xl blur opacity-0 group-hover:opacity-100 transition-opacity"}),M.jsx("input",{type:"email",placeholder:"Enter contact email",value:e,onChange:p=>i(p.target.value),className:"relative w-full p-3 bg-gray-700/50 border border-gray-600 rounded-xl focus:border-emerald-400 focus:outline-none transition-all text-white placeholder-gray-400 text-sm"})]}),M.jsx("button",{onClick:d,disabled:!e||!r,className:"bg-gradient-to-r from-green-500 to-emerald-400 text-white px-6 py-3 rounded-xl hover:from-green-600 hover:to-emerald-500 disabled:from-gray-600 disabled:to-gray-700 transition-all duration-300 font-medium transform hover:scale-105 disabled:transform-none disabled:opacity-50 text-sm",children:"Grant Access"})]}),o&&M.jsx("div",{className:"mt-3 bg-green-500/10 border border-green-500/30 rounded-xl p-3",children:M.jsxs("div",{className:"flex items-center gap-2",children:[M.jsx("div",{className:"w-5 h-5 bg-green-500 rounded-full flex items-center justify-center",children:M.jsx("span",{className:"text-white text-xs",children:"✓"})}),M.jsx("p",{className:"text-green-400 font-medium text-sm",children:o})]})})]})]})};delete mE.Icon.Default.prototype._getIconUrl;mE.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const PO=()=>{const[r,e]=pt.useState(null),[i,o]=pt.useState(null),c=async p=>{const{latitude:y,longitude:b}=p.coords,E=[y,b];e(E),o(null);try{const N=nu(iu,`userLocations/${si.currentUser.uid}`);await cE(N,{email:si.currentUser.email,location:E,timestamp:Date.now(),online:!0}),JN(N).update({online:!1})}catch(N){console.error("Error updating location:",N)}},d=p=>{o(p.message),e(null)};return pt.useEffect(()=>{let p=null;return navigator.geolocation?(navigator.geolocation.getCurrentPosition(c,d),p=navigator.geolocation.watchPosition(c,d,{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4})):o("Geolocation is not supported by this browser."),()=>{p!==null&&navigator.geolocation.clearWatch(p)}},[]),i?M.jsx("div",{className:"space-y-4",children:M.jsx("div",{className:"bg-gray-800/40 backdrop-blur-xl rounded-2xl border border-gray-700/50 p-6",children:M.jsxs("div",{className:"text-center",children:[M.jsx("div",{className:"w-16 h-16 bg-red-500/20 rounded-xl flex items-center justify-center mx-auto mb-4 border border-red-500/30",children:M.jsx("span",{className:"text-2xl",children:"⚠️"})}),M.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Location Access Required"}),M.jsx("p",{className:"text-red-400 text-sm mb-1",children:i}),M.jsx("p",{className:"text-gray-400 text-xs",children:"Enable GPS access to start tracking"})]})})}):r?M.jsxs("div",{className:"space-y-4",children:[M.jsxs("div",{className:"bg-gray-800/40 backdrop-blur-xl rounded-2xl border border-gray-700/50 overflow-hidden",children:[M.jsx("div",{className:"bg-gradient-to-r from-red-500/20 to-cyan-400/20 border-b border-gray-700/50 p-4",children:M.jsxs("div",{className:"flex items-center justify-between",children:[M.jsxs("div",{className:"flex items-center gap-3",children:[M.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-red-500 to-cyan-400 rounded-xl flex items-center justify-center",children:M.jsx("span",{className:"text-white text-sm",children:"🗺️"})}),M.jsxs("div",{children:[M.jsx("h2",{className:"text-white font-semibold",children:"Your Position"}),M.jsx("p",{className:"text-gray-400 text-xs",children:"GPS tracking active"})]})]}),M.jsxs("div",{className:"flex items-center gap-2",children:[M.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),M.jsx("span",{className:"text-green-400 text-xs font-medium",children:"LIVE"})]})]})}),M.jsx("div",{className:"h-48 lg:h-80",children:M.jsxs(gE,{center:r,zoom:15,style:{height:"100%",width:"100%"},children:[M.jsx(bE,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:"© OpenStreetMap contributors"}),M.jsx(vE,{position:r,children:M.jsx(yE,{children:M.jsxs("div",{className:"text-center",children:[M.jsx("strong",{children:"🛰 Your Position"}),M.jsx("br",{}),M.jsxs("small",{children:["Last update: ",new Date().toLocaleTimeString()]})]})})})]},`map-${r[0]}-${r[1]}`)})]}),M.jsx(kO,{userLocation:r})]}):M.jsx("div",{className:"space-y-4",children:M.jsx("div",{className:"bg-gray-800/40 backdrop-blur-xl rounded-2xl border border-gray-700/50 p-6",children:M.jsxs("div",{className:"text-center",children:[M.jsx("div",{className:"w-16 h-16 bg-cyan-500/20 rounded-xl flex items-center justify-center mx-auto mb-4 border border-cyan-500/30 pulse-glow",children:M.jsx("span",{className:"text-2xl",children:"🛰"})}),M.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Acquiring Signal"}),M.jsx("p",{className:"text-cyan-400 text-sm mb-3",children:"Connecting to GPS satellites..."}),M.jsx("div",{className:"flex justify-center",children:M.jsxs("div",{className:"flex space-x-2",children:[M.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-bounce"}),M.jsx("div",{className:"w-2 h-2 bg-pink-500 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),M.jsx("div",{className:"w-2 h-2 bg-cyan-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]})})})},zO=()=>{const[r,e]=pt.useState([]);return pt.useEffect(()=>{const i=nu(iu,"locationShares"),o=aO(i,iO("viewerEmail"),rO(si.currentUser.email)),c=d_(o,d=>{const p=d.val();if(p){const y=Object.entries(p).filter(([E,N])=>N.active&&N.isLiveShare).map(([E,N])=>({id:E,...N})),b=y.map(async E=>{const N=nu(iu,`userLocations/${E.ownerUid}`);return new Promise(w=>{d_(N,x=>{const F=x.val();F&&F.online?w({...E,location:F.location,lastUpdate:F.timestamp,isOnline:!0}):w({...E,location:null,lastUpdate:E.timestamp,isOnline:!1})})})});y.map(E=>{const N=nu(iu,`userLocations/${E.ownerUid}`);return d_(N,w=>{const x=w.val();e(F=>{const Y=F.map(dt=>dt.ownerUid===E.ownerUid?{...dt,location:x?.location||null,lastUpdate:x?.timestamp||dt.timestamp,isOnline:x?.online||!1}:dt);return!Y.find(dt=>dt.ownerUid===E.ownerUid)&&x&&Y.push({...E,location:x.location,lastUpdate:x.timestamp,isOnline:x.online}),Y.filter(dt=>dt.location)})})}),Promise.all(b).then(E=>{e(E.filter(N=>N.location))})}else e([])});return()=>c()},[]),r.length===0?M.jsxs("div",{className:"bg-gray-800/40 backdrop-blur-xl rounded-2xl border border-gray-700/50 overflow-hidden",children:[M.jsx("div",{className:"bg-gradient-to-r from-purple-500/20 to-pink-500/20 border-b border-gray-700/50 p-4",children:M.jsxs("div",{className:"flex items-center gap-3",children:[M.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-purple-500 to-pink-400 rounded-xl flex items-center justify-center",children:M.jsx("span",{className:"text-white text-sm",children:"👥"})}),M.jsxs("div",{children:[M.jsx("h3",{className:"text-white font-semibold",children:"Network Contacts"}),M.jsx("p",{className:"text-gray-400 text-xs",children:"Shared locations from your network"})]})]})}),M.jsxs("div",{className:"p-6 text-center",children:[M.jsx("div",{className:"w-16 h-16 bg-gray-700/50 rounded-xl flex items-center justify-center mx-auto mb-4 border border-gray-600",children:M.jsx("span",{className:"text-2xl",children:"🔍"})}),M.jsx("h4",{className:"text-white font-semibold mb-2",children:"No Active Contacts"}),M.jsx("p",{className:"text-gray-400 text-sm",children:"Request location access from contacts to see them here"})]})]}):M.jsxs("div",{className:"bg-gray-800/40 backdrop-blur-xl rounded-2xl border border-gray-700/50 overflow-hidden",children:[M.jsx("div",{className:"bg-gradient-to-r from-purple-500/20 to-pink-500/20 border-b border-gray-700/50 p-4",children:M.jsxs("div",{className:"flex items-center justify-between",children:[M.jsxs("div",{className:"flex items-center gap-3",children:[M.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-purple-500 to-pink-400 rounded-xl flex items-center justify-center",children:M.jsx("span",{className:"text-white text-sm",children:"👥"})}),M.jsxs("div",{children:[M.jsx("h3",{className:"text-white font-semibold",children:"Network Contacts"}),M.jsxs("p",{className:"text-gray-400 text-xs",children:[r.length," active contact(s)"]})]})]}),M.jsxs("div",{className:"flex items-center gap-2",children:[M.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),M.jsx("span",{className:"text-green-400 text-xs font-medium",children:"LIVE"})]})]})}),M.jsx("div",{className:"h-64 lg:h-80",children:M.jsxs(gE,{center:r[0].location,zoom:13,style:{height:"100%",width:"100%"},children:[M.jsx(bE,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:"© OpenStreetMap contributors"}),r.map(i=>M.jsx(vE,{position:i.location,children:M.jsx(yE,{children:M.jsxs("div",{className:"text-center",children:[M.jsxs("strong",{children:["🛰 ",i.ownerEmail]}),M.jsx("br",{}),M.jsx("small",{children:i.isOnline?`Live • ${new Date(i.lastUpdate||i.timestamp).toLocaleString()}`:`Offline • Last seen ${new Date(i.lastUpdate||i.timestamp).toLocaleString()}`})]})})},i.id))]})}),M.jsx("div",{className:"p-4 space-y-2",children:r.map(i=>M.jsx("div",{className:"bg-gray-700/30 border border-gray-600/50 rounded-xl p-3 hover:bg-gray-700/50 transition-all",children:M.jsxs("div",{className:"flex justify-between items-center",children:[M.jsxs("div",{className:"flex items-center gap-3",children:[M.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-purple-500 to-pink-400 rounded-lg flex items-center justify-center",children:M.jsx("span",{className:"text-white text-xs",children:"🛰"})}),M.jsxs("div",{children:[M.jsx("span",{className:"font-medium text-white text-sm",children:i.ownerEmail}),M.jsx("div",{className:"text-xs text-gray-400",children:i.isOnline?M.jsxs(M.Fragment,{children:[M.jsx("span",{className:"text-green-400",children:"Live"})," • Updated ",new Date(i.lastUpdate||i.timestamp).toLocaleTimeString()]}):M.jsxs(M.Fragment,{children:[M.jsx("span",{className:"text-gray-500",children:"Offline"})," • Last seen ",new Date(i.lastUpdate||i.timestamp).toLocaleTimeString()]})})]})]}),M.jsxs("div",{className:"flex items-center gap-1",children:[M.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${i.isOnline?"bg-green-400 animate-pulse":"bg-gray-500"}`}),M.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded ${i.isOnline?"text-green-400 bg-green-400/10":"text-gray-400 bg-gray-500/10"}`,children:i.isOnline?"LIVE":"OFFLINE"})]})]})},i.id))})]})};function UO(){const[r,e]=pt.useState(null),[i,o]=pt.useState(!0);pt.useEffect(()=>{const d=RC(si,p=>{e(p),o(!1)});return()=>d()},[]);const c=async()=>{try{await LC(si)}catch(d){console.error("Logout error:",d)}};return i?M.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-black to-gray-800 flex items-center justify-center",children:M.jsxs("div",{className:"text-center",children:[M.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-red-500 to-cyan-400 rounded-2xl flex items-center justify-center mx-auto mb-6 pulse-glow",children:M.jsx("span",{className:"text-3xl",children:"🛰"})}),M.jsx("div",{className:"text-2xl font-bold text-white mb-2",children:"Initializing TrackMe"}),M.jsx("div",{className:"text-cyan-400 text-sm",children:"Connecting to network..."}),M.jsx("div",{className:"flex justify-center mt-4",children:M.jsxs("div",{className:"flex space-x-2",children:[M.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full animate-bounce"}),M.jsx("div",{className:"w-3 h-3 bg-pink-500 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),M.jsx("div",{className:"w-3 h-3 bg-cyan-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]})}):r?M.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-black to-gray-800 relative",children:[M.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[M.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-r from-red-500/10 to-pink-500/10 rounded-full blur-3xl float-animation"}),M.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-gradient-to-r from-cyan-500/10 to-blue-500/10 rounded-full blur-3xl float-animation",style:{animationDelay:"2s"}})]}),M.jsx("header",{className:"bg-gray-800/30 backdrop-blur-xl border-b border-gray-700/50 sticky top-0 z-50",children:M.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:M.jsxs("div",{className:"flex justify-between items-center",children:[M.jsxs("div",{className:"flex items-center gap-4",children:[M.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-red-500 to-cyan-400 rounded-2xl flex items-center justify-center pulse-glow",children:M.jsx("span",{className:"text-2xl",children:"🛰"})}),M.jsxs("div",{children:[M.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-red-400 via-pink-400 to-cyan-400 bg-clip-text text-transparent",children:"TrackMe"}),M.jsx("p",{className:"text-xs text-gray-400",children:"Live Location Network"})]})]}),M.jsxs("div",{className:"flex items-center gap-6",children:[M.jsxs("div",{className:"hidden sm:flex items-center gap-3 bg-gray-700/50 rounded-2xl px-4 py-2 border border-gray-600",children:[M.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full animate-pulse"}),M.jsx("span",{className:"text-sm text-gray-300",children:r.email}),M.jsx("div",{className:"text-xs text-cyan-400 bg-cyan-400/10 px-2 py-1 rounded-lg",children:"ONLINE"})]}),M.jsx("button",{onClick:c,className:"bg-gradient-to-r from-red-500/20 to-red-600/20 border border-red-500/50 text-red-400 px-6 py-2 rounded-2xl hover:bg-red-500/30 transition-all duration-300 font-medium",children:"Disconnect"})]})]})})}),M.jsx("main",{className:"max-w-7xl mx-auto px-4 py-6 space-y-6 relative z-10",children:M.jsxs("div",{className:"flex flex-col lg:grid lg:grid-cols-2 gap-6",children:[M.jsx("div",{className:"order-2 lg:order-1",children:M.jsx(PO,{})}),M.jsx("div",{className:"order-1 lg:order-2",children:M.jsx(zO,{})})]})})]}):M.jsx(vO,{onAuthSuccess:()=>e(si.currentUser)})}GS.createRoot(document.getElementById("root")).render(M.jsx(pt.StrictMode,{children:M.jsx(UO,{})}));
